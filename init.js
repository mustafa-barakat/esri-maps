// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
/*
	Copyright (c) 2004-2016, The JS Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
(function(b,z){var q,w=function(){return"undefined"!==typeof u&&"function"!==typeof u?u:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),r=function(){},m=function(g){for(var F in g)return 0;return 1},p={}.toString,t=function(g){return"[object Function]"==p.call(g)},h=function(g){return"[object String]"==p.call(g)},c=function(g){return"[object Array]"==p.call(g)},a=function(g,F){if(g)for(var N=0;N<g.length;)F(g[N++])},f=function(g,F){for(var N in F)g[N]=F[N];return g},e=function(g,
F){return f(Error(g),{src:"dojoLoader",info:F})},l=1,k=function(){return"_"+l++},d=function(g,F,N){return sa(g,F,N,0,d)},u=w,x=u.document,n=x&&x.createElement("DiV"),v=d.has=function(g){return t(D[g])?D[g]=D[g](u,x,n):D[g]},D=v.cache=z.hasCache;t(b)&&(b=b(w));v.add=function(g,F,N,O){(void 0===D[g]||O)&&(D[g]=F);return N&&v(g)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&(f(z.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),z.loaderPatch={injectUrl:function(g,F){try{importScripts(g),F()}catch(N){console.info("failed to load resource ("+g+")"),console.error(N)}}});for(var Q in b.has)v.add(Q,b.has[Q],0,1);var y=0,A=[],I=0,C=r,H=r;d.isXdUrl=r;d.initSyncLoader=function(g,F,N){I||(I=g,C=F,H=N);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:A,modules:oa,execQ:ja,getModule:Ca,injectModule:Sa,setArrived:za,
signal:U,finishExec:La,execModule:Ma,dojoRequirePlugin:I,getLegacyMode:function(){return y},guardCheckComplete:Na}};var B=location.protocol,K=location.host;d.isXdUrl=function(g){return/^\./.test(g)?!1:/^\/\//.test(g)?!0:(g=g.match(/^([^\/:]+:)\/+([^\/]+)/))&&(g[1]!=B||K&&g[2]!=K)};v.add("dojo-force-activex-xhr",!x.addEventListener&&"file:"==window.location.protocol);v.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(v("native-xhr")&&!v("dojo-force-activex-xhr"))var J=function(){return new XMLHttpRequest};
else{var R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(q=0;3>q;)try{var W=R[q++];new ActiveXObject(W);break}catch(g){}J=function(){return new ActiveXObject(W)}}d.getXhr=J;v.add("dojo-gettext-api",1);d.getText=function(g,F,N){var O=J();O.open("GET",Ta(g),!1);O.send(null);if(200==O.status||!location.host&&!O.status)N&&N(O.responseText,F);else throw e("xhrFailed",O.status);return O.responseText};var Y=v("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");d.eval=
function(g,F){return Y(g+"\r\n//# sourceURL\x3d"+F)};var S={},U=d.signal=function(g,F){g=S[g];a(g&&g.slice(0),function(N){N.apply(null,c(F)?F:[F])})},L=d.on=function(g,F){var N=S[g]||(S[g]=[]);N.push(F);return{remove:function(){for(var O=0;O<N.length;O++)if(N[O]===F){N.splice(O,1);break}}}},T=[],da={},ha=[],ca={},qa=d.map={},ta=[],oa={},va="",na={},ra={},ia={},wa=0;if(!v("foreign-loader"))var ya=function(g,F){F=!1!==F;var N,O;for(N in ra){var V=ra[N];if(O=N.match(/^url:(.+)/))na["url:"+jb(O[1],g)]=
V;else if("*now"==N)var X=V;else"*noref"!=N&&(O=Oa(N,g,!0),na[O.mid]=na["url:"+O.url]=V)}X&&X(Fa(g));F&&(ra={})};var E=function(g){return g.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(F){return"\\"+F})},G=function(g,F){F.splice(0,F.length);for(var N in g)F.push([N,g[N],new RegExp("^"+E(N)+"(/|$)"),N.length]);F.sort(function(O,V){return V[3]-O[3]});return F},M=function(g,F){a(g,function(N){F.push([h(N[0])?new RegExp("^"+E(N[0])+"$"):N[0],N[1]])})},P=function(g){var F=g.name;F||(F=g,g={name:F});
g=f({main:"main"},g);g.location=g.location?g.location:F;g.packageMap&&(qa[F]=g.packageMap);g.main.indexOf("./")||(g.main=g.main.substring(2));ca[F]=g},aa=[],ba=function(g,F,N){for(var O in g){"waitSeconds"==O&&(d.waitms=1E3*(g[O]||0));"cacheBust"==O&&(va=g[O]?h(g[O])?g[O]:(new Date).getTime()+"":"");if("baseUrl"==O||"combo"==O)d[O]=g[O];if("async"==O){var V=g[O];d.legacyMode=y=h(V)&&/sync|legacyAsync/.test(V)?V:V?!1:"sync";d.async=!y}g[O]!==D&&(d.rawConfig[O]=g[O],"has"!=O&&v.add("config-"+O,g[O],
0,F))}d.baseUrl||(d.baseUrl="./");/\/$/.test(d.baseUrl)||(d.baseUrl+="/");for(O in g.has)v.add(O,g.has[O],0,F);a(g.packages,P);for(var X in g.packagePaths)a(g.packagePaths[X],function(ka){var Aa=X+"/"+ka;h(ka)&&(ka={name:ka});ka.location=Aa;P(ka)});G(f(qa,g.map),ta);a(ta,function(ka){ka[1]=G(ka[1],[]);"*"==ka[0]&&(ta.star=ka)});G(f(da,g.paths),ha);M(g.aliases,T);if(!v("foreign-loader")){if(F)aa.push({config:g.config});else for(O in g.config)F=Ca(O,N),F.config=f(F.config||{},g.config[O]);g.cache&&
(ya(),ra=g.cache,ya(0,!!g.cache["*noref"]))}U("config",[g,d.rawConfig])};v("dojo-cdn");var la=x.getElementsByTagName("script");q=0;for(var Z,ea,pa,ma;q<la.length;)if(Z=la[q++],(pa=Z.getAttribute("src"))&&(ma=pa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ea=ma[3]||"",z.baseUrl=z.baseUrl||ea,wa=Z),pa=Z.getAttribute("data-dojo-config")||Z.getAttribute("djConfig"))ia=d.eval("({ "+pa+" })","data-dojo-config"),wa=Z;d.rawConfig={};ba(z,1);v("dojo-cdn")&&((ca.dojo.location=ea)&&(ea+="/"),ca.dijit.location=ea+
"../dijit/",ca.dojox.location=ea+"../dojox/");ba(b,1);ba(ia,1);if(!v("foreign-loader"))var ua=function(g){Na(function(){a(g.deps,Sa)})},sa=function(g,F,N,O,V){var X;if(h(g)){if((X=Ca(g,O,!0))&&X.executed)return X.result;throw e("undefinedModule",g);}c(g)||(ba(g,0,O),g=F,F=N);if(c(g))if(g.length){N="require*"+k();for(var ka,Aa=[],Da=0;Da<g.length;)ka=g[Da++],Aa.push(Ca(ka,O));X=f(Ua("",N,0,""),{injected:2,deps:Aa,def:F||r,require:O?O.require:d,gc:1});oa[X.mid]=X;ua(X);var ab=Pa&&"sync"!=y;Na(function(){Ma(X,
ab)});X.executed||ja.push(X);Ga()}else F&&F();return V},Fa=function(g){if(!g)return d;var F=g.require;F||(F=function(N,O,V){return sa(N,O,V,g,F)},g.require=f(F,d),F.module=g,F.toUrl=function(N){return jb(N,g)},F.toAbsMid=function(N){return bb(N,g)},v("dojo-undef-api")&&(F.undef=function(N){d.undef(N,g)}),F.syncLoadNls=function(N){N=Oa(N,g);var O=oa[N.mid];if(!O||!O.executed)if(Ea=na[N.mid]||na["url:"+N.url])Va(Ea),O=oa[N.mid];return O&&O.executed&&O.result});return F},ja=[],Ha=[],fa={},xa=function(g){g.injected=
1;fa[g.mid]=1;g.url&&(fa[g.url]=g.pack||1);kb()},za=function(g){g.injected=2;delete fa[g.mid];g.url&&delete fa[g.url];m(fa)&&(Wa(),"xd"==y&&(y="sync"))},Ia=d.idle=function(){return!Ha.length&&m(fa)&&!ja.length&&!Pa};var Ja=function(g,F){if(F)for(var N=0;N<F.length;N++)if(F[N][2].test(g))return F[N];return 0},lb=function(g){var F=[];for(g=g.replace(/\\/g,"/").split("/");g.length;){var N=g.shift();if(".."==N&&F.length&&".."!=O){F.pop();var O=F[F.length-1]}else"."!=N&&F.push(O=N)}return F.join("/")},
Ua=function(g,F,N,O){var V=d.isXdUrl(O);return{pid:g,mid:F,pack:N,url:O,executed:0,def:0,isXd:V,isAmd:!!(V||ca[g]&&ca[g].isAmd)}},ob=function(g,F,N,O,V,X,ka,Aa,Da,ab){var Ka,mb,Ba;var cb=/^\./.test(g);if(/(^\/)|(:)|(\.js$)/.test(g)||cb&&!F)return Ua(0,g,0,g);g=lb(cb?F.mid+"/../"+g:g);if(/^\./.test(g))throw e("irrationalPath",g);ab||cb||!X.star||(Ba=Ja(g,X.star[1]));!Ba&&F&&(Ba=(Ba=Ja(F.mid,X))&&Ja(g,Ba[1]));Ba&&(g=Ba[1]+g.substring(Ba[3]));F=(ma=g.match(/^([^\/]+)(\/(.+))?$/))?ma[1]:"";(Ka=N[F])?
g=F+"/"+(mb=ma[3]||Ka.main):F="";var db=0;a(Aa,function(Qa){var nb=g.match(Qa[0]);nb&&0<nb.length&&(db=t(Qa[1])?g.replace(Qa[0],Qa[1]):Qa[1])});if(db)return ob(db,0,N,O,V,X,ka,Aa,Da);if(N=O[g])return Da?Ua(N.pid,N.mid,N.pack,N.url):O[g];O=(Ba=Ja(g,ka))?Ba[1]+g.substring(Ba[3]):F?("/"===Ka.location.slice(-1)?Ka.location.slice(0,-1):Ka.location)+"/"+mb:v("config-tlmSiblingOfDojo")?"../"+g:g;/(^\/)|(:)/.test(O)||(O=V+O);return Ua(F,g,Ka,lb(O+".js"))},Oa=function(g,F,N){return ob(g,F,ca,oa,d.baseUrl,
ta,ha,T,void 0,N)};if(!v("foreign-loader"))var pb=function(g,F,N){return g.normalize?g.normalize(F,function(O){return bb(O,N)}):bb(F,N)},qb=0,Ca=function(g,F,N){var O;if(O=g.match(/^(.+?)!(.*)$/)){var V=Ca(O[1],F,N);"sync"!=y||V.executed||(Sa(V),2!==V.injected||V.executed||Na(function(){Ma(V)}),V.executed?Xa(V):ja.unshift(V));5!==V.executed||V.load||Xa(V);V.load?(O=pb(V,O[2],F),g=V.mid+"!"+(V.dynamic?++qb+"!":"")+O):(O=O[2],g=V.mid+"!"+ ++qb+"!waitingForPlugin");g={plugin:V,mid:g,req:Fa(F),prid:O}}else g=
Oa(g,F);return oa[g.mid]||!N&&(oa[g.mid]=g)};var bb=d.toAbsMid=function(g,F){return Oa(g,F).mid},jb=d.toUrl=function(g,F){F=Oa(g+"/x",F);var N=F.url;return Ta(0===F.pid?g:N.substring(0,N.length-5))};if(!v("foreign-loader"))var rb={injected:2,executed:5,def:3,result:3},eb=function(g){return oa[g]=f({mid:g},rb)},wb=eb("require"),xb=eb("exports"),yb=eb("module"),Ya={},fb=0,Xa=function(g){var F=g.result;g.dynamic=F.dynamic;g.normalize=F.normalize;g.load=F.load;return g},zb=function(g){var F={};a(g.loadQ,
function(V){var X=pb(g,V.prid,V.req.module),ka=g.dynamic?V.mid.replace(/waitingForPlugin$/,X):g.mid+"!"+X;X=f(f({},V),{mid:ka,prid:X,injected:0});oa[ka]&&oa[ka].injected||sb(oa[ka]=X);F[V.mid]=oa[ka];za(V);delete oa[V.mid]});g.loadQ=0;var N=function(V){for(var X=V.deps||[],ka=0;ka<X.length;ka++)(V=F[X[ka].mid])&&(X[ka]=V)},O;for(O in oa)N(oa[O]);a(ja,N)},La=function(g){d.trace("loader-finish-exec",[g.mid]);g.executed=5;g.defOrder=fb++;a(g.provides,function(F){F()});g.loadQ&&(Xa(g),zb(g));for(q=0;q<
ja.length;)ja[q]===g?ja.splice(q,1):q++;/^require\*/.test(g.mid)&&delete oa[g.mid]},Ab=[],Ma=function(g,F){if(4===g.executed)return d.trace("loader-circular-dependency",[Ab.concat(g.mid).join("-\x3e")]),!g.def||F?Ya:g.cjs&&g.cjs.exports;if(!g.executed){if(!g.def)return Ya;var N=g.mid,O=g.deps||[],V,X=[],ka=0;for(g.executed=4;V=O[ka++];){V=V===wb?Fa(g):V===xb?g.cjs.exports:V===yb?g.cjs:Ma(V,F);if(V===Ya)return g.executed=0,d.trace("loader-exec-module",["abort",N]),Ya;X.push(V)}d.trace("loader-run-factory",
[g.mid]);F=g.def;A.unshift(g);if(v("config-dojo-loader-catches"))try{var Aa=t(F)?F.apply(null,X):F}catch(Da){U("error",g.result=e("factoryThrew",[g,Da]))}else Aa=t(F)?F.apply(null,X):F;g.result=void 0===Aa&&g.cjs?g.cjs.exports:Aa;A.shift(g);La(g)}return g.result},Pa=0,Na=function(g){try{Pa++,g()}catch(F){throw F;}finally{Pa--}Ia()&&U("idle",[])},Ga=function(){Pa||Na(function(){C();for(var g,F,N=0;N<ja.length;)g=fb,F=ja[N],Ma(F),g!=fb?(C(),N=0):N++})};var Ta="function"==typeof b.fixupUrl?b.fixupUrl:
function(g){g+="";return g+(va?(/\?/.test(g)?"\x26":"?")+va:"")};v("dojo-undef-api")&&(d.undef=function(g,F){g=Ca(g,F);za(g);f(g,{def:0,executed:0,injected:0,node:0,load:0})});void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var sb=function(g){var F=g.plugin;5!==F.executed||F.load||Xa(F);var N=function(O){g.result=O;za(g);La(g);Ga()};F.load?F.load(g.prid,g.req,N):F.loadQ?F.loadQ.push(g):(F.loadQ=[g],ja.unshift(F),Sa(F))},Ea=0,Ra=0,gb=0,Va=function(g,F){v("config-stripStrict")&&
(g=g.replace(/(["'])use strict\1/g,""));gb=1;if(v("config-dojo-loader-catches"))try{g===Ea?Ea.call(null):d.eval(g,v("dojo-loader-eval-hint-url")?F.url:F.mid)}catch(N){U("error",e("evalModuleThrew",F))}else g===Ea?Ea.call(null):d.eval(g,v("dojo-loader-eval-hint-url")?F.url:F.mid);gb=0},Sa=function(g){var F=g.mid,N=g.url;if(!(g.executed||g.injected||fa[F]||g.url&&(g.pack&&fa[g.url]===g.pack||1==fa[g.url])))if(xa(g),g.plugin)sb(g);else{var O=function(){tb(g);if(2!==g.injected){if(v("dojo-enforceDefine")){U("error",
e("noDefine",g));return}za(g);f(g,rb);d.trace("loader-define-nonmodule",[g.url])}y?!A.length&&Ga():Ga()};if(Ea=na[F]||na["url:"+g.url])d.trace("loader-inject",["cache",g.mid,N]),Va(Ea,g),O();else{if(y)if(g.isXd)"sync"==y&&(y="xd");else if(!g.isAmd||"sync"==y){var V=function(X){if("sync"==y){A.unshift(g);Va(X,g);A.shift();tb(g);g.cjs||(za(g),La(g));if(g.finish){X=F+"*finish";var ka=g.finish;delete g.finish;Za(X,["dojo",("dojo/require!"+ka.join(",")).replace(/\./g,"/")],function(Aa){a(ka,function(Da){Aa.require(Da)})});
ja.unshift(Ca(X))}O()}else(X=H(g,X))?(Va(X,g),O()):(Ra=g,d.injectUrl(Ta(N),O,g),Ra=0)};d.trace("loader-inject",["xhr",g.mid,N,"sync"!=y]);if(v("config-dojo-loader-catches"))try{d.getText(N,"sync"!=y,V)}catch(X){U("error",e("xhrInjectFailed",[g,X]))}else d.getText(N,"sync"!=y,V);return}d.trace("loader-inject",["script",g.mid,N]);Ra=g;d.injectUrl(Ta(N),O,g);Ra=0}}},hb=function(g,F,N){d.trace("loader-define-module",[g.mid,F]);var O=g.mid;if(2===g.injected)return U("error",e("multipleDefine",g)),g;f(g,
{deps:F,def:N,cjs:{id:g.mid,uri:g.url,exports:g.result={},setExports:function(X){g.cjs.exports=X},config:function(){return g.config}}});for(var V=0;F[V];V++)F[V]=Ca(F[V],g);y&&!fa[O]&&(ua(g),ja.push(g),Ga());za(g);t(N)||F.length||(g.result=N,La(g));return g},tb=function(g,F){for(var N=[],O,V;Ha.length;)V=Ha.shift(),F&&(V[0]=F.shift()),O=V[0]&&Ca(V[0])||g,N.push([O,V[1],V[2]]);ya(g);a(N,function(X){ua(hb.apply(null,X))})},$a=0,Wa=r,kb=r;Wa=function(){$a&&clearTimeout($a);$a=0};kb=function(){Wa();d.waitms&&
($a=u.setTimeout(function(){Wa();U("error",e("timeout",fa))},d.waitms))};v.add("ie-event-behavior",x.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ib=function(g,F,N,O){if(v("ie-event-behavior"))return g.attachEvent(N,O),function(){g.detachEvent(N,O)};g.addEventListener(F,O,!1);return function(){g.removeEventListener(F,O,!1)}},Bb=ib(window,"load","onload",function(){d.pageLoaded=1;try{"complete"!=x.readyState&&(x.readyState="complete")}catch(g){}Bb()});
la=x.getElementsByTagName("script");for(q=0;!wa;)/^dojo/.test((Z=la[q++])&&Z.type)||(wa=Z);d.injectUrl=function(g,F,N){N=N.node=x.createElement("script");var O=ib(N,"load","onreadystatechange",function(X){X=X||window.event;var ka=X.target||X.srcElement;if("load"===X.type||/complete|loaded/.test(ka.readyState))O(),V(),F&&F()}),V=ib(N,"error","onerror",function(X){O();V();U("error",e("scriptError: "+g,[g,X]))});N.type="text/javascript";N.charset="utf-8";N.src=g;wa.parentNode.insertBefore(N,wa);return N};
d.log=function(){try{for(var g=0;g<arguments.length;g++)console.log(arguments[g])}catch(F){}};d.trace=r;if(v("foreign-loader"))Za=r;else{var Za=function(g,F,N){var O=arguments.length,V=["require","exports","module"],X=[0,g,F];1==O?X=[0,t(g)?V:[],g]:2==O&&h(g)?X=[g,t(F)?V:[],F]:3==O&&(X=[g,F,N]);d.trace("loader-define",X.slice(0,2));if((O=X[0]&&Ca(X[0]))&&!fa[O.mid])ua(hb(O,X[1],X[2]));else if(!v("ie-event-behavior")||gb)Ha.push(X);else{O=O||Ra;if(!O)for(g in fa)if((V=oa[g])&&V.node&&"interactive"===
V.node.readyState){O=V;break}O?(ya(O),ua(hb(O,X[1],X[2]))):U("error",e("ieDefineFailed",X[0]));Ga()}};Za.amd={vendor:"dojotoolkit.org"}}f(f(d,z.loaderPatch),b.loaderPatch);L("error",function(g){try{if(console.error(g),g instanceof Error){for(var F in g)console.log(F+":",g[F]);console.log(".")}}catch(N){}});f(d,{uid:k,cache:na,packs:ca});if(u.define)U("error",e("defineAlreadyDefined",0));else if(u.define=Za,u.require=d,!v("foreign-loader")){a(aa,function(g){ba(g)});var ub=ia.deps||b.deps||z.deps,vb=
ia.callback||b.callback||z.callback;d.boot=ub||vb?[ub||[],vb]:0}})(function(b){return b.dojoConfig||b.djConfig||b.require||{}},{async:0,baseUrl:"https://bawaut.cp4a.apps.ibmdev.ibmcloudlab.com/esrimaps/dojo",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"extend-esri":1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../put-selector",main:"put",name:"put-selector"},
{location:"../xstyle",name:"xstyle"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../moment",main:"moment",name:"moment"},{location:"../esri",name:"esri"},{location:".",name:"dojo"}]});
require({cache:{"dojo/loadInit":function(){define(["./_base/loader"],function(b){return{dynamic:0,normalize:function(z){return z},load:b.loadInit}})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(b,z,q,w,r,m,p){var t=function(L){return L.replace(/\./g,"/")},h=/\/\/>>built/,c=[],a=[],f=function(L,T,da){c.push(da);p.forEach(L.split(","),function(ha){ha=B(ha,T.module);a.push(ha);K(ha)});e()},e=function(){var L;for(L in C){var T=C[L];
void 0===T.noReqPluginCheck&&(T.noReqPluginCheck=/loadInit!/.test(L)||/require!/.test(L)?1:0);if(!T.executed&&!T.noReqPluginCheck&&T.injected==v)return}U(function(){var da=c;c=[];p.forEach(da,function(ha){ha(1)})})},l=/\/\/.*|\/\*[\s\S]*?\*\/|("(?:\\.|[^"])*"|'(?:\\.|[^'])*'|`(?:\\.|[^`])*`)/mg,k=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,d=/(^|\s)(require|define)\s*\(/m,u=function(L,T){var da=[],ha=[];var ca=[];for(T=T||L.replace(l,
"$1");ca=k.exec(T);){var qa=k.lastIndex;var ta=qa-ca[0].length;var oa=void 0,va=T,na=/\(|\)/g,ra=1;for(na.lastIndex=qa;(oa=na.exec(va))&&(ra=")"==oa[0]?ra-1:ra+1,0!=ra););if(0!=ra)throw"unmatched paren around character "+na.lastIndex+" in: "+va;qa=[b.trim(va.substring(ta,na.lastIndex))+";\n",na.lastIndex];"loadInit"==ca[2]?da.push(qa[0]):ha.push(qa[0]);k.lastIndex=qa[1]}ca=da.concat(ha);return ca.length||!d.test(T)?[L.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),ca.join(""),
ca]:0},x=q.initSyncLoader(f,e,function(L,T){var da,ha=[],ca=[];if(h.test(T)||!(da=u(T)))return 0;T=L.mid+"-*loadInit";for(var qa in B("dojo",L).result.scopeMap)ha.push(qa),ca.push('"'+qa+'"');return"// xdomain rewrite of "+L.mid+"\ndefine('"+T+"',{\n\tnames:"+r.stringify(ha)+",\n\tdef:function("+ha.join(",")+"){"+da[1]+"}});\n\ndefine("+r.stringify(ha.concat(["dojo/loadInit!"+T]))+", function("+ha.join(",")+"){\n"+da[0]+"});"}),n=x.sync,v=x.requested,D=x.arrived,Q=x.nonmodule,y=x.executing,A=x.executed,
I=x.syncExecStack,C=x.modules,H=x.execQ,B=x.getModule,K=x.injectModule,J=x.setArrived,R=x.signal,W=x.finishExec,Y=x.execModule,S=x.getLegacyMode,U=x.guardCheckComplete;f=x.dojoRequirePlugin;b.provide=function(L){var T=I[0],da=m.mixin(B(t(L),q.module),{executed:y,result:m.getObject(L,!0)});J(da);T&&(T.provides||(T.provides=[])).push(function(){da.result=m.getObject(L);delete da.provides;da.executed!==A&&W(da)});return da.result};z.add("config-publishRequireResult",1,0,0);b.require=function(L,T){T=
function(da,ha){var ca=B(t(da),q.module);if(I.length&&I[0].finish)I[0].finish.push(da);else{if(ca.executed)return ca.result;ha&&(ca.result=Q);ha=S();K(ca);ha=S();ca.executed!==A&&ca.injected===D&&x.guardCheckComplete(function(){Y(ca)});if(ca.executed)return ca.result;ha==n?ca.cjs?H.unshift(ca):I.length&&(I[0].finish=[da]):H.push(ca)}}(L,T);z("config-publishRequireResult")&&!m.exists(L)&&void 0!==T&&m.setObject(L,T);return T};b.loadInit=function(L){L()};b.registerModulePath=function(L,T){var da={};
da[L.replace(/\./g,"/")]=T;q({paths:da})};b.platformRequire=function(L){L=(L.common||[]).concat(L[b._name]||L["default"]||[]);for(var T;L.length;)m.isArray(T=L.shift())?b.require.apply(b,T):b.require(T)};b.requireIf=b.requireAfterIf=function(L,T,da){L&&b.require(T,da)};b.requireLocalization=function(L,T,da){q(["../i18n"],function(ha){ha.getLocalization(L,T,da)})};return{extractLegacyApiApplications:u,require:f,loadInit:function(L,T,da){T([L],function(ha){T(ha.names,function(){for(var ca="",qa=[],
ta=0;ta<arguments.length;ta++)ca+="var "+ha.names[ta]+"\x3d arguments["+ta+"]; ",qa.push(arguments[ta]);eval(ca);var oa=T.module,va=[],na;ca={provide:function(ia){ia=t(ia);ia=B(ia,oa);ia!==oa&&J(ia)},require:function(ia,wa){ia=t(ia);wa&&(B(ia,oa).result=Q);va.push(ia)},requireLocalization:function(ia,wa,ya){na||(na=["dojo/i18n"]);ya=(ya||b.locale).toLowerCase();ia=t(ia)+"/nls/"+(/root/i.test(ya)?"":ya+"/")+t(wa);B(ia,oa).isXd&&na.push("dojo/i18n!"+ia)},loadInit:function(ia){ia()}};ta={};var ra;try{for(ra in ca)ta[ra]=
b[ra],b[ra]=ca[ra];ha.def.apply(null,qa)}catch(ia){R("error",[{src:w.id,id:"failedDojoLoadInit"},ia])}finally{for(ra in ca)b[ra]=ta[ra]}na&&(va=va.concat(na));va.length?f(va.join(","),T,da):da()})})}}})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(b,z,q,w,r){var m,p={},t={},h={config:q,global:b,dijit:p,dojox:t};p={dojo:["dojo",h],dijit:["dijit",p],dojox:["dojox",t]};r=w.map&&w.map[r.id.match(/[^\/]+/)[0]];for(m in r)p[m]?p[m][0]=r[m]:p[m]=[r[m],
{}];for(m in p)r=p[m],r[1]._scopeName=r[0],q.noGlobals||(b[r[0]]=r[1]);h.scopeMap=p;h.baseUrl=h.config.baseUrl=w.baseUrl;h.isAsync=w.async;h.locale=q.locale;b="$Rev:$".match(/[0-9a-f]{7,}/);h.version={major:1,minor:16,patch:4,flag:"",revision:b?b[0]:NaN,toString:function(){var a=h.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};z("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h);h.exit=
function(){};z("host-webworker");z.add("console-as-object",function(){return Function.prototype.bind&&console&&"object"===typeof console.log});"undefined"!=typeof console||(console={});r="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(b=0;c=r[b++];)console[c]?z("console-as-object")&&(console[c]=Function.prototype.bind.call(console[c],console)):function(){var a=c+"";console[a]="log"in console?function(){var f=Array.prototype.slice.call(arguments);
f.unshift(a+":");console.log(f.join(" "))}:function(){};console[a]._fake=!0}();z.add("dojo-debug-messages",!!q.isDebug);h.deprecated=h.experimental=function(){};z("dojo-debug-messages")&&(h.deprecated=function(a,f,e){a="DEPRECATED: "+a;f&&(a+=" "+f);e&&(a+=" -- will be removed in version: "+e);console.warn(a)},h.experimental=function(a,f){a="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";f&&(a+=" "+f);console.warn(a)});if(q.modulePaths){h.deprecated("dojo.modulePaths","use paths configuration");
z={};for(m in q.modulePaths)z[m.replace(/\./g,"/")]=q.modulePaths[m];w({paths:z})}h.moduleUrl=function(a,f){h.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var e=null;a&&(e=w.toUrl(a.replace(/\./g,"/")+(f?"/"+f:"")+"/*.*").replace(/\/\*\.\*/,"")+(f?"":"/"));return e};h._hasResource={};return h})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global",
"require","module"],function(b,z,q){var w=z.has||function(){};if(!w("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document&&document,m=r&&r.createElement("DiV"),p=q.config&&q.config()||{};w=function(t){return"function"==typeof p[t]?p[t]=p[t](b,r,m):p[t]};w.cache=p;w.add=function(t,h,c,a){("undefined"==typeof p[t]||a)&&(p[t]=h);return c&&w(t)}}w.add("dom-addeventlistener",!!document.addEventListener);
w.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);w.add("touch-events","ontouchstart"in document);w.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window);w.add("MSPointer",window.navigator.msPointerEnabled);w.add("touch-action",w("touch")&&w("pointer-events"));w.add("device-width",screen.availWidth||innerWidth);z=document.createElement("form");w.add("dom-attributes-explicit",
0==z.attributes.length);w.add("dom-attributes-specified-flag",0<z.attributes.length&&40>z.attributes.length);w.clearElement=function(t){t.innerHTML="";return t};w.normalize=function(t,h){var c=t.match(/[\?:]|[^:\?]*/g),a=0,f=function(e){var l=c[a++];if(":"==l)return 0;if("?"==c[a++]){if(!e&&w(l))return f();f(!0);return f(e)}return l||0};return(t=f())&&h(t)};w.load=function(t,h,c){t?h([t],c):c()};return w})},"dojo/_base/config":function(){define(["../global","../has","require"],function(b,z,q){b={};
q=q.rawConfig;for(var w in q)b[w]=q[w];!b.locale&&"undefined"!=typeof navigator&&(w=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(b.locale=w.toLowerCase());return b})},"dojo/json":function(){define(["./has"],function(b){var z="undefined"!=typeof JSON;b.add("json-parse",z);b.add("json-stringify",z&&'{"a":1}'==JSON.stringify({a:0},function(w,r){return r||1}));if(b("json-stringify"))return JSON;var q=function(w){return('"'+w.replace(/(["\\])/g,
"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:b("json-parse")?JSON.parse:function(w,r){if(r&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(w))throw new SyntaxError("Invalid characters in JSON");return eval("("+w+")")},stringify:function(w,r,m){function p(h,c,a){r&&(h=r(a,h));var f=typeof h;if("number"==f)return isFinite(h)?h+"":"null";if("boolean"==
f)return h+"";if(null===h)return"null";if("string"==typeof h)return q(h);if("function"==f||"undefined"==f)return t;if("function"==typeof h.toJSON)return p(h.toJSON(a),c,a);if(h instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(x,n,v){x=h["getUTC"+n]()+(v?1:0);return 10>x?"0"+x:x});if(h.valueOf()!==h)return p(h.valueOf(),c,a);var e=m?c+m:"",l=m?" ":"",k=m?"\n":"";if(h instanceof Array){l=h.length;var d=[];for(a=0;a<l;a++)f=p(h[a],e,
a),"string"!=typeof f&&(f="null"),d.push(k+e+f);return"["+d.join(",")+k+c+"]"}d=[];for(a in h)if(h.hasOwnProperty(a)){if("number"==typeof a)var u='"'+a+'"';else if("string"==typeof a)u=q(a);else continue;f=p(h[a],e,a);"string"==typeof f&&d.push(k+e+u+":"+l+f)}return"{"+d.join(",")+k+c+"}"}var t;"string"==typeof r&&(m=r,r=null);return p(w,"","")}}})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,z){z.add("bug-for-in-skips-shadowed",function(){for(var c in{toString:1})return 0;
return 1});var q=z("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],w=q.length,r=function(c,a,f){f||(f=c[0]&&b.scopeMap[c[0]]?b.scopeMap[c.shift()][1]:b.global);try{for(var e=0;e<c.length;e++){var l=c[e];if(!(l in f))if(a)f[l]={};else return;f=f[l]}return f}catch(k){}},m=Object.prototype.toString,p=function(c,a,f){return(f||[]).concat(Array.prototype.slice.call(c,a||0))},t=/\{([^\}]+)\}/g,h={_extraNames:q,_mixin:function(c,
a,f){var e,l={};for(d in a){var k=a[d];d in c&&(c[d]===k||d in l&&l[d]===k)||(c[d]=f?f(k):k)}if(z("bug-for-in-skips-shadowed")&&a)for(e=0;e<w;++e){var d=q[e];k=a[d];d in c&&(c[d]===k||d in l&&l[d]===k)||(c[d]=f?f(k):k)}return c},mixin:function(c,a){c||(c={});for(var f=1,e=arguments.length;f<e;f++)h._mixin(c,arguments[f]);return c},setObject:function(c,a,f){var e=c.split(".");c=e.pop();return(f=r(e,!0,f))&&c?f[c]=a:void 0},getObject:function(c,a,f){return c?r(c.split("."),a,f):f},exists:function(c,
a){return void 0!==h.getObject(c,!1,a)},isString:function(c){return"string"==typeof c||c instanceof String},isArray:Array.isArray||function(c){return"[object Array]"==m.call(c)},isFunction:function(c){return"[object Function]"===m.call(c)},isObject:function(c){return void 0!==c&&(null===c||"object"==typeof c||h.isArray(c)||h.isFunction(c))},isArrayLike:function(c){return!!c&&!h.isString(c)&&!h.isFunction(c)&&!(c.tagName&&"form"==c.tagName.toLowerCase())&&(h.isArray(c)||isFinite(c.length))},isAlien:function(c){return c&&
!h.isFunction(c)&&/\{\s*\[native code\]\s*\}/.test(String(c))},extend:function(c,a){for(var f=1,e=arguments.length;f<e;f++)h._mixin(c.prototype,arguments[f]);return c},_hitchArgs:function(c,a){var f=h._toArray(arguments,2),e=h.isString(a);return function(){var l=h._toArray(arguments),k=e?(c||b.global)[a]:a;return k&&k.apply(c||this,f.concat(l))}},hitch:function(c,a){if(2<arguments.length)return h._hitchArgs.apply(b,arguments);a||(a=c,c=null);if(h.isString(a)){c=c||b.global;if(!c[a])throw['lang.hitch: scope["',
a,'"] is null (scope\x3d"',c,'")'].join("");return function(){return c[a].apply(c,arguments||[])}}return c?function(){return a.apply(c,arguments||[])}:a},delegate:function(){function c(){}return function(a,f){c.prototype=a;a=new c;c.prototype=null;f&&h._mixin(a,f);return a}}(),_toArray:z("ie")?function(){function c(a,f,e){e=e||[];for(f=f||0;f<a.length;f++)e.push(a[f]);return e}return function(a){return(a.item?c:p).apply(this,arguments)}}():p,partial:function(c){return h.hitch.apply(b,[null].concat(h._toArray(arguments)))},
clone:function(c){if(!c||"object"!=typeof c||h.isFunction(c))return c;if(c.nodeType&&"cloneNode"in c)return c.cloneNode(!0);if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return new RegExp(c);var a;if(h.isArray(c)){var f=[];var e=0;for(a=c.length;e<a;++e)e in c&&(f[e]=h.clone(c[e]))}else f=c.constructor?new c.constructor:{};return h._mixin(f,c,h.clone)},trim:String.prototype.trim?function(c){return c.trim()}:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},
replace:function(c,a,f){return c.replace(f||t,h.isFunction(a)?a:function(e,l){return h.getObject(l,!1,a)})}};h.mixin(b,h);return h})},"dojo/sniff":function(){define(["./has"],function(b){var z=navigator,q=z.userAgent;z=z.appVersion;var w=parseFloat(z);b.add("air",0<=q.indexOf("AdobeAIR"));b.add("wp",parseFloat(q.split("Windows Phone")[1])||void 0);b.add("msapp",parseFloat(q.split("MSAppHost/")[1])||void 0);b.add("khtml",0<=z.indexOf("Konqueror")?w:void 0);b.add("edge",parseFloat(q.split("Edge/")[1])||
void 0);b.add("opr",parseFloat(q.split("OPR/")[1])||void 0);b.add("webkit",!b("wp")&&!b("edge")&&parseFloat(q.split("WebKit/")[1])||void 0);b.add("chrome",!b("edge")&&!b("opr")&&parseFloat(q.split("Chrome/")[1])||void 0);b.add("android",!b("wp")&&parseFloat(q.split("Android ")[1])||void 0);b.add("safari",!(0<=z.indexOf("Safari"))||b("wp")||b("chrome")||b("android")||b("edge")||b("opr")?void 0:parseFloat(z.split("Version/")[1]));b.add("mac",0<=z.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);
if(!b("wp")&&q.match(/(iPhone|iPod|iPad)/)){var r=RegExp.$1.replace(/P/,"p"),m=q.match(/OS ([\d_]+)/)?RegExp.$1:"1";m=parseFloat(m.replace(/_/,".").replace(/_/g,""));b.add(r,m);b.add("ios",m)}b.add("bb",(0<=q.indexOf("BlackBerry")||0<=q.indexOf("BB10"))&&parseFloat(q.split("Version/")[1])||void 0);b.add("trident",parseFloat(z.split("Trident/")[1])||void 0);b.add("svg","undefined"!==typeof SVGAngle);b("webkit")||(0<=q.indexOf("Opera")&&b.add("opera",9.8<=w?parseFloat(q.split("Version/")[1])||w:w),
!(0<=q.indexOf("Gecko"))||b("wp")||b("khtml")||b("trident")||b("edge")||b.add("mozilla",w),b("mozilla")&&b.add("ff",parseFloat(q.split("Firefox/")[1]||q.split("Minefield/")[1])||void 0),document.all&&!b("opera")&&(q=parseFloat(z.split("MSIE ")[1])||void 0,(z=document.documentMode)&&5!=z&&Math.floor(q)!=z&&(q=z),b.add("ie",q)),b.add("wii","undefined"!=typeof opera&&opera.wiiremote));return b})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,z,q){function w(c){return p[c]=
new Function("item","index","array",c)}function r(c){var a=!c;return function(f,e,l){var k=0,d=f&&f.length||0;d&&"string"==typeof f&&(f=f.split(""));"string"==typeof e&&(e=p[e]||w(e));if(l)for(;k<d;++k){var u=!e.call(l,f[k],k,f);if(c^u)return!u}else for(;k<d;++k)if(u=!e(f[k],k,f),c^u)return!u;return a}}function m(c){var a=1,f=0,e=0;c||(a=f=e=-1);return function(l,k,d,u){if(u&&0<a)return h.lastIndexOf(l,k,d);u=l&&l.length||0;var x=c?u+e:f;d===t?d=c?f:u+e:0>d?(d=u+d,0>d&&(d=f)):d=d>=u?u+e:d;for(u&&
"string"==typeof l&&(l=l.split(""));d!=x;d+=a)if(l[d]==k)return d;return-1}}var p={},t,h={every:r(!1),some:r(!0),indexOf:m(!0),lastIndexOf:m(!1),forEach:function(c,a,f){var e=0,l=c&&c.length||0;l&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||w(a));if(f)for(;e<l;++e)a.call(f,c[e],e,c);else for(;e<l;++e)a(c[e],e,c)},map:function(c,a,f,e){var l=0,k=c&&c.length||0;e=new (e||Array)(k);k&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||w(a));if(f)for(;l<k;++l)e[l]=a.call(f,
c[l],l,c);else for(;l<k;++l)e[l]=a(c[l],l,c);return e},filter:function(c,a,f){var e=0,l=c&&c.length||0,k=[];l&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||w(a));if(f)for(;e<l;++e){var d=c[e];a.call(f,d,e,c)&&k.push(d)}else for(;e<l;++e)d=c[e],a(d,e,c)&&k.push(d);return k},clearCache:function(){p={}}};q.mixin(b,h);return h})},"dojo/require":function(){define(["./_base/loader"],function(b){return{dynamic:0,normalize:function(z){return z},load:b.require}})},"dojo/text":function(){define(["./_base/kernel",
"require","./has","./request"],function(b,z,q,w){var r=function(c,a,f){w(c,{sync:!!a,headers:{"X-Requested-With":null}}).then(f)};var m={},p=function(c){if(c){c=c.replace(/^\s*<\?xml(\s)+version=['"](\d)*.(\d)*['"](\s)*\?>/im,"");var a=c.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(c=a[1])}else c="";return c},t={},h={};b.cache=function(c,a,f){if("string"==typeof c)if(/\//.test(c)){var e=c;f=a}else e=z.toUrl(c.replace(/\./g,"/")+(a?"/"+a:""));else e=c+"",f=a;c=void 0!=f&&"string"!=typeof f?f.value:
f;f=f&&f.sanitize;if("string"==typeof c)return m[e]=c,f?p(c):c;if(null===c)return delete m[e],null;e in m||r(e,!0,function(l){m[e]=l});return f?p(m[e]):m[e]};return{dynamic:!0,normalize:function(c,a){c=c.split("!");var f=c[0];return(/^\./.test(f)?a(f):f)+(c[1]?"!"+c[1]:"")},load:function(c,a,f){c=c.split("!");var e=1<c.length,l=c[0],k=a.toUrl(c[0]);c="url:"+k;var d=t,u=function(n){f(e?p(n):n)};l in m?d=m[l]:a.cache&&c in a.cache?d=a.cache[c]:k in m&&(d=m[k]);if(d===t)if(h[k])h[k].push(u);else{var x=
h[k]=[u];r(k,!a.async,function(n){m[l]=m[k]=n;for(var v=0;v<x.length;)x[v++](n);delete h[k]})}else u(d)}}})},"dojo/request":function(){define(["./request/default!"],function(b){return b})},"dojo/request/default":function(){define(["exports","require","../has"],function(b,z,q){var w=q("config-requestProvider");w||(w="./xhr");b.getPlatformDefaultId=function(){return"./xhr"};b.load=function(r,m,p,t){z(["platform"==r?"./xhr":w],function(h){p(h)})}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
function(b,z,q,w,r,m,p,t,h){q.add("dojo-preload-i18n-Api",1);var c=b.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,f=function(B,K,J,R){var W=[J+R];K=K.split("-");for(var Y="",S=0;S<K.length;S++)if(Y+=(Y?"-":"")+K[S],!B||B[Y])W.push(J+Y+"/"+R),W.specificity=Y;return W},e={},l=function(B,K,J){J=J?J.toLowerCase():b.locale;B=B.replace(/\./g,"/");K=K.replace(/\./g,"/");return/root/i.test(J)?B+"/nls/"+K:B+"/nls/"+J+"/"+K},k=b.getL10nName=function(B,K,J){return B=h.id+"!"+l(B,K,J)},d=function(B,K,
J,R,W,Y){B([K],function(S){var U=m.clone(S.root||S.ROOT),L=f(!S._v1x&&S,W,J,R);B(L,function(){for(var T=1;T<L.length;T++)U=m.mixin(m.clone(U),arguments[T]);e[K+"/"+W]=U;U.$locale=L.specificity;Y()})})},u=function(B){var K=r.extraLocale||[];K=m.isArray(K)?K:[K];K.push(B);return K},x=function(B,K,J){var R=a.exec(B),W=R[1]+"/",Y=R[5]||R[4],S=W+Y,U=(R=R[5]&&R[4])||b.locale||"",L=S+"/"+U;R=R?[U]:u(U);var T=R.length,da=function(){--T||J(m.delegate(e[L]))};U=B.split("*");var ha="preload"==U[1];if(q("dojo-preload-i18n-Api")){if(ha&&
(e[B]||(e[B]=1,Q(U[2],t.parse(U[3]),1,K)),J(1)),(U=ha)||(v&&D.push([B,K,J]),U=v&&!e[L]),U)return}else if(ha){J(1);return}w.forEach(R,function(ca){var qa=S+"/"+ca;q("dojo-preload-i18n-Api")&&y(qa);e[qa]?da():d(K,S,W,Y,ca,da)})};q("dojo-preload-i18n-Api");var n=c.normalizeLocale=function(B){B=B?B.toLowerCase():b.locale;return"root"==B?"ROOT":B},v=0,D=[],Q=c._preloadLocalizations=function(B,K,J,R){function W(L,T){R.isXdUrl(z.toUrl(L+".js"))||J?R([L],T):H([L],T,R)}function Y(L,T){for(L=L.split("-");L.length;){if(T(L.join("-")))return;
L.pop()}T("ROOT")}function S(){for(--v;!v&&D.length;)x.apply(null,D.shift())}function U(L){L=n(L);Y(L,function(T){if(0<=w.indexOf(K,T)){var da=B.replace(/\./g,"/")+"_"+T;v++;W(da,function(ha){for(var ca in ha){var qa=ha[ca],ta=ca.match(/(.+)\/([^\/]+)$/);if(ta){var oa=ta[2];ta=ta[1]+"/";if(qa._localized){var va;if("ROOT"===T){var na=va=qa._localized;delete qa._localized;na.root=qa;e[z.toAbsMid(ca)]=na}else va=qa._localized,e[z.toAbsMid(ta+oa+"/"+T)]=qa;T!==L&&function(ra,ia,wa,ya){var E=[],G=[];Y(L,
function(M){ya[M]&&(E.push(z.toAbsMid(ra+M+"/"+ia)),G.push(z.toAbsMid(ra+ia+"/"+M)))});E.length?(v++,R(E,function(){for(var M=E.length-1;0<=M;M--)wa=m.mixin(m.clone(wa),arguments[M]),e[G[M]]=wa;e[z.toAbsMid(ra+ia+"/"+L)]=m.clone(wa);S()})):e[z.toAbsMid(ra+ia+"/"+L)]=wa}(ta,oa,qa,va)}}}S()});return!0}return!1})}R=R||z;U();w.forEach(b.config.extraLocale,U)},y=function(){},A={},I={},C,H=function(B,K,J){var R=[];w.forEach(B,function(W){function Y(L){C||(C=new Function("__bundle","__checkForLegacyModules",
"__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));L=C(L,y,W,A);L===A?R.push(e[S]=A.result):(L instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+
S,L),L={}),R.push(e[S]=/nls\/[^\/]+\/[^\/]+$/.test(S)?L:{root:L,_v1x:1}))}var S=J.toUrl(W+".js");if(e[S])R.push(e[S]);else{var U=J.syncLoadNls(W);U||(U=y(W.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1")));if(U)R.push(U);else if(p)p.get({url:S,sync:!0,load:Y,error:function(){R.push(e[S]={})}});else try{J.getText(S,!0,Y)}catch(L){R.push(e[S]={})}}});K&&K.apply(null,R)};y=function(B){for(var K,J=B.split("/"),R=b.global[J[0]],W=1;R&&W<J.length-1;R=R[J[W++]]);R&&((K=R[J[W]])||(K=R[J[W].replace(/-/g,"_")]),
K&&(e[B]=K));return K};c.getLocalization=function(B,K,J){var R,W=l(B,K,J);if(I[W])return I[W];x(W,z.isXdUrl(z.toUrl(W+".js"))?z:function(Y,S){H(Y,S,z)},function(Y){R=I[W]=Y});return R};return m.mixin(c,{dynamic:!0,normalize:function(B,K){return/^\./.test(B)?K(B):B},load:x,cache:e,getL10nName:k})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(b,z,q,w,r,m,p,t,h,c,a,f,e,l,k,d){b._xhrObj=k._create;var u=b.config;b.objectToQuery=w.objectToQuery;b.queryToObject=w.queryToObject;b.fieldToObject=m.fieldToObject;b.formToObject=m.toObject;b.formToQuery=m.toQuery;b.formToJson=m.toJson;b._blockAsync=!1;z.add("native-xhr2-blob",function(){if(z("native-xhr2")){var y=new XMLHttpRequest;y.open("GET","/",!0);y.responseType="blob";var A=y.responseType;y.abort();return"blob"===A}});var x=b._contentHandlers=b.contentHandlers={text:function(y){return y.responseText},
json:function(y){return h.fromJson(y.responseText||null)},"json-comment-filtered":function(y){t.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");y=y.responseText;var A=y.indexOf("/*"),I=y.lastIndexOf("*/");if(-1==A||-1==I)throw Error("JSON was not comment filtered");
return h.fromJson(y.substring(A+2,I))},javascript:function(y){return b.eval(y.responseText)},xml:function(y){var A=y.responseXML;A&&z("dom-qsa2.1")&&!A.querySelectorAll&&z("dom-parser")&&(A=(new DOMParser).parseFromString(y.responseText,"application/xml"));if(z("ie")&&(!A||!A.documentElement)){var I=function(C){return"MSXML"+C+".DOMDocument"};I=["Microsoft.XMLDOM",I(6),I(4),I(3),I(2)];a.some(I,function(C){try{var H=new ActiveXObject(C);H.async=!1;H.loadXML(y.responseText);A=H}catch(B){return!1}return!0})}return A},
"json-comment-optional":function(y){return y.responseText&&/^[^{\[]*\/\*/.test(y.responseText)?x["json-comment-filtered"](y):x.json(y)}};z("native-xhr2")&&(x.arraybuffer=x.blob=x.document=function(y,A){return"blob"!==A.args.handleAs||z("native-xhr2-blob")?y.response:new Blob([y.response],{type:y.getResponseHeader("Content-Type")})});b._ioSetArgs=function(y,A,I,C){var H={args:y,url:y.url},B=null;if(y.form){B=r.byId(y.form);var K=B.getAttributeNode("action");H.url=H.url||(K?K.value:b.doc?b.doc.URL:
null);B=m.toObject(B)}K={};B&&c.mixin(K,B);y.content&&c.mixin(K,y.content);y.preventCache&&(K["dojo.preventCache"]=(new Date).valueOf());H.query=w.objectToQuery(K);H.handleAs=y.handleAs||"text";var J=new p(function(S){S.canceled=!0;A&&A(S);var U=S.ioArgs.error;U||(U=Error("request cancelled"),U.dojoType="cancel",S.ioArgs.error=U);return U});J.addCallback(I);var R=y.load;R&&c.isFunction(R)&&J.addCallback(function(S){return R.call(y,S,H)});var W=y.error;W&&c.isFunction(W)&&J.addErrback(function(S){return W.call(y,
S,H)});var Y=y.handle;Y&&c.isFunction(Y)&&J.addBoth(function(S){return Y.call(y,S,H)});J.addErrback(function(S){return C(S,J)});u.ioPublish&&b.publish&&!1!==H.args.ioPublish&&(J.addCallbacks(function(S){b.publish("/dojo/io/load",[J,S]);return S},function(S){b.publish("/dojo/io/error",[J,S]);return S}),J.addBoth(function(S){b.publish("/dojo/io/done",[J,S]);return S}));J.ioArgs=H;return J};var n=function(y){y=x[y.ioArgs.handleAs](y.ioArgs.xhr,y.ioArgs);return void 0===y?null:y},v=function(y,A){A.ioArgs.args.failOk||
console.error(y);return y},D=function(y){0>=Q&&(Q=0,u.ioPublish&&b.publish&&(!y||y&&!1!==y.ioArgs.args.ioPublish)&&b.publish("/dojo/io/stop"))},Q=0;e.after(l,"_onAction",function(){--Q});e.after(l,"_onInFlight",D);b._ioCancelAll=l.cancelAll;b._ioNotifyStart=function(y){u.ioPublish&&b.publish&&!1!==y.ioArgs.args.ioPublish&&(Q||b.publish("/dojo/io/start"),Q+=1,b.publish("/dojo/io/send",[y]))};b._ioWatch=function(y,A,I,C){y.ioArgs.options=y.ioArgs.args;c.mixin(y,{response:y.ioArgs,isValid:function(H){return A(y)},
isReady:function(H){return I(y)},handleResponse:function(H){return C(y)}});l(y);D(y)};b._ioAddQueryToUrl=function(y){y.query.length&&(y.url+=(-1==y.url.indexOf("?")?"?":"\x26")+y.query,y.query=null)};b.xhr=function(y,A,I){var C=b._ioSetArgs(A,function(J){K&&K.cancel()},n,v),H=C.ioArgs;"postData"in A?H.query=A.postData:"putData"in A?H.query=A.putData:"rawBody"in A?H.query=A.rawBody:(2<arguments.length&&!I||-1==="POST|PUT".indexOf(y.toUpperCase()))&&b._ioAddQueryToUrl(H);var B;z("native-xhr2")&&(B=
{arraybuffer:1,blob:1,document:1});B=B[A.handleAs]?A.handleAs:"text";"blob"!==B||z("native-xhr2-blob")||(B="arraybuffer");B={method:y,handleAs:B,responseType:A.responseType,timeout:A.timeout,withCredentials:A.withCredentials,ioArgs:H};"undefined"!==typeof A.headers&&(B.headers=A.headers);"undefined"!==typeof A.contentType&&(B.headers||(B.headers={}),B.headers["Content-Type"]=A.contentType);"undefined"!==typeof H.query&&(B.data=H.query);"undefined"!==typeof A.sync&&(B.sync=A.sync);b._ioNotifyStart(C);
try{var K=k(H.url,B,!0)}catch(J){return C.cancel(),C}C.ioArgs.xhr=K.response.xhr;K.then(function(){C.resolve(C)}).otherwise(function(J){H.error=J;J.response&&(J.status=J.response.status,J.responseText=J.response.text,J.xhr=J.response.xhr);C.reject(J)});return C};b.xhrGet=function(y){return b.xhr("GET",y)};b.rawXhrPost=b.xhrPost=function(y){return b.xhr("POST",y,!0)};b.rawXhrPut=b.xhrPut=function(y){return b.xhr("PUT",y,!0)};b.xhrDelete=function(y){return b.xhr("DELETE",y)};b._isDocumentOk=function(y){return d.checkStatus(y.status)};
b._getText=function(y){var A;b.xhrGet({url:y,sync:!0,load:function(I){A=I}});return A};c.mixin(b.xhr,{_xhrObj:b._xhrObj,fieldToObject:m.fieldToObject,formToObject:m.toObject,objectToQuery:w.objectToQuery,formToQuery:m.toQuery,formToJson:m.toJson,queryToObject:w.queryToObject,contentHandlers:x,_ioSetArgs:b._ioSetArgs,_ioCancelAll:b._ioCancelAll,_ioNotifyStart:b._ioNotifyStart,_ioWatch:b._ioWatch,_ioAddQueryToUrl:b._ioAddQueryToUrl,_isDocumentOk:b._isDocumentOk,_getText:b._getText,get:b.xhrGet,post:b.xhrPost,
put:b.xhrPut,del:b.xhrDelete});return b.xhr})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(b,z,q){b._name="browser";z.mixin(b,{isBrowser:!0,isFF:q("ff"),isIE:q("ie"),isKhtml:q("khtml"),isWebKit:q("webkit"),isMozilla:q("mozilla"),isMoz:q("mozilla"),isOpera:q("opera"),isSafari:q("safari"),isChrome:q("chrome"),isMac:q("mac"),isIos:q("ios"),isAndroid:q("android"),isWii:q("wii"),isQuirks:q("quirks"),isAir:q("air")});return q})},"dojo/io-query":function(){define(["./_base/lang"],
function(b){var z={};return{objectToQuery:function(q){var w=encodeURIComponent,r=[],m;for(m in q){var p=q[m];if(p!=z[m]){var t=w(m)+"\x3d";if(b.isArray(p))for(var h=0,c=p.length;h<c;++h)r.push(t+w(p[h]));else r.push(t+w(p))}}return r.join("\x26")},queryToObject:function(q){var w=decodeURIComponent;q=q.split("\x26");for(var r={},m,p,t=0,h=q.length;t<h;++t)if(p=q[t],p.length){var c=p.indexOf("\x3d");0>c?(m=w(p),p=""):(m=w(p.slice(0,c)),p=w(p.slice(c+1)));"string"==typeof r[m]&&(r[m]=[r[m]]);b.isArray(r[m])?
r[m].push(p):r[m]=p}return r}}})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(b,z,q){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(m){}var w={};b("ie")?w.byId=function(m,p){if("string"!=typeof m)return m||null;var t=p||z.doc;p=m&&t.getElementById(m);if(!p||p.attributes.id.value!=m&&p.id!=m){t=t.all[m];if(!t||t.nodeName)t=[t];for(var h=0;p=t[h++];)if(p.attributes&&p.attributes.id&&p.attributes.id.value==m||p.id==m)return p}else return p;
return null}:w.byId=function(m,p){return("string"==typeof m?(p||z.doc).getElementById(m):m)||null};q=q.global.document||null;b.add("dom-contains",!(!q||!q.contains));w.isDescendant=b("dom-contains")?function(m,p){return!(!(p=w.byId(p))||!p.contains(w.byId(m)))}:function(m,p){try{for(m=w.byId(m),p=w.byId(p);m;){if(m==p)return!0;m=m.parentNode}}catch(t){}return!1};b.add("css-user-select",function(m,p,t){if(!t)return!1;m=t.style;p=["Khtml","O","Moz","Webkit"];t=p.length;var h="userSelect";do if("undefined"!==
typeof m[h])return h;while(t--&&(h=p[t]+"UserSelect"));return!1});var r=b("css-user-select");w.setSelectable=r?function(m,p){w.byId(m).style[r]=p?"":"none"}:function(m,p){m=w.byId(m);var t=m.getElementsByTagName("*"),h=t.length;if(p)for(m.removeAttribute("unselectable");h--;)t[h].removeAttribute("unselectable");else for(m.setAttribute("unselectable","on");h--;)t[h].setAttribute("unselectable","on")};return w})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,z,q){var w=
{global:b.global,doc:b.global.document||null,body:function(r){r=r||b.doc;return r.body||r.getElementsByTagName("body")[0]},setContext:function(r,m){b.global=w.global=r;b.doc=w.doc=m},withGlobal:function(r,m,p,t){var h=b.global;try{return b.global=w.global=r,w.withDoc.call(null,r.document,m,p,t)}finally{b.global=w.global=h}},withDoc:function(r,m,p,t){var h=w.doc,c=q("quirks"),a=q("ie"),f,e;try{b.doc=w.doc=r;b.isQuirks=q.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(q("ie")&&(e=r.parentWindow)&&
e.navigator){var l=parseFloat(e.navigator.appVersion.split("MSIE ")[1])||void 0;(f=r.documentMode)&&5!=f&&Math.floor(l)!=f&&(l=f);b.isIE=q.add("ie",l,!0,!0)}p&&"string"==typeof m&&(m=p[m]);return m.apply(p,t||[])}finally{b.doc=w.doc=h,b.isQuirks=q.add("quirks",c,!0,!0),b.isIE=q.add("ie",a,!0,!0)}}};z.mixin(b,w);return w})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(b,z,q,w){var r={fieldToObject:function(m){var p=null;if(m=z.byId(m)){var t=m.name,h=(m.type||
"").toLowerCase();if(t&&h&&!m.disabled)if("radio"==h||"checkbox"==h)m.checked&&(p=m.value);else if(m.multiple)for(p=[],m=[m.firstChild];m.length;)for(t=m.pop();t;t=t.nextSibling)if(1==t.nodeType&&"option"==t.tagName.toLowerCase())t.selected&&p.push(t.value);else{t.nextSibling&&m.push(t.nextSibling);t.firstChild&&m.push(t.firstChild);break}else p=m.value}return p},toObject:function(m){var p={};m=z.byId(m).elements;for(var t=0,h=m.length;t<h;++t){var c=m[t],a=c.name,f=(c.type||"").toLowerCase();if(a&&
f&&0>"file|submit|image|reset|button".indexOf(f)&&!c.disabled){var e=p,l=a;c=r.fieldToObject(c);if(null!==c){var k=e[l];"string"==typeof k?e[l]=[k,c]:b.isArray(k)?k.push(c):e[l]=c}"image"==f&&(p[a+".x"]=p[a+".y"]=p[a].x=p[a].y=0)}}return p},toQuery:function(m){return q.objectToQuery(r.toObject(m))},toJson:function(m,p){return w.stringify(r.toObject(m),null,p?4:0)}};return r})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
function(b,z,q,w,r,m,p){var t=function(){},h=Object.freeze||function(){},c=b.Deferred=function(a){function f(y){if(k)throw Error("This deferred has already been resolved");l=y;k=!0;e()}function e(){for(var y;!y&&v;){var A=v;v=v.next;if(y=A.progress==t)k=!1;var I=x?A.error:A.resolved;r("config-useDeferredInstrumentation")&&x&&z.instrumentRejected&&z.instrumentRejected(l,!!I);if(I)try{var C=I(l);C&&"function"===typeof C.then?C.then(m.hitch(A.deferred,"resolve"),m.hitch(A.deferred,"reject"),m.hitch(A.deferred,
"progress")):(I=y&&void 0===C,y&&!I&&(x=C instanceof Error),A.deferred[I&&x?"reject":"resolve"](I?l:C))}catch(H){A.deferred.reject(H)}else x?A.deferred.reject(l):A.deferred.resolve(l)}}var l,k,d,u,x,n,v,D=this.promise=new q;this.isResolved=D.isResolved=function(){return 0==u};this.isRejected=D.isRejected=function(){return 1==u};this.isFulfilled=D.isFulfilled=function(){return 0<=u};this.isCanceled=D.isCanceled=function(){return d};this.resolve=this.callback=function(y){this.fired=u=0;this.results=
[y,null];f(y)};this.reject=this.errback=function(y){x=!0;this.fired=u=1;r("config-useDeferredInstrumentation")&&z.instrumentRejected&&z.instrumentRejected(y,!!v);f(y);this.results=[null,y]};this.progress=function(y){for(var A=v;A;){var I=A.progress;I&&I(y);A=A.next}};this.addCallbacks=function(y,A){this.then(y,A,t);return this};D.then=this.then=function(y,A,I){var C=I==t?this:new c(D.cancel);y={resolved:y,error:A,progress:I,deferred:C};v?n=n.next=y:v=n=y;k&&e();return C.promise};var Q=this;D.cancel=
this.cancel=function(){if(!k){var y=a&&a(Q);k||(y instanceof Error||(y=new w(y)),y.log=!1,Q.reject(y))}d=!0};h(D)};m.extend(c,{addCallback:function(a){return this.addCallbacks(m.hitch.apply(b,arguments))},addErrback:function(a){return this.addCallbacks(null,m.hitch.apply(b,arguments))},addBoth:function(a){var f=m.hitch.apply(b,arguments);return this.addCallbacks(f,f)},fired:-1});c.when=b.when=p;return c})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise",
"./promise/instrumentation"],function(b,z,q,w,r){var m=Object.freeze||function(){},p=function(f,e,l,k,d){2===e&&a.instrumentRejected&&0===f.length&&a.instrumentRejected(l,!1,k,d);for(d=0;d<f.length;d++)t(f[d],e,l,k)},t=function(f,e,l,k){var d=f[e],u=f.deferred;if(d)try{var x=d(l);if(0===e)"undefined"!==typeof x&&c(u,e,x);else{if(x&&"function"===typeof x.then){f.cancel=x.cancel;x.then(h(u,1),h(u,2),h(u,0));return}c(u,1,x)}}catch(n){c(u,2,n)}else c(u,e,l);2===e&&a.instrumentRejected&&a.instrumentRejected(l,
!!d,k,u.promise)},h=function(f,e){return function(l){c(f,e,l)}},c=function(f,e,l){if(!f.isCanceled())switch(e){case 0:f.progress(l);break;case 1:f.resolve(l);break;case 2:f.reject(l)}},a=function(f){var e=this.promise=new w,l=this,k,d,u,x=!1,n=[];Error.captureStackTrace&&(Error.captureStackTrace(l,a),Error.captureStackTrace(e,a));this.isResolved=e.isResolved=function(){return 1===k};this.isRejected=e.isRejected=function(){return 2===k};this.isFulfilled=e.isFulfilled=function(){return!!k};this.isCanceled=
e.isCanceled=function(){return x};this.progress=function(D,Q){if(k){if(!0===Q)throw Error("This deferred has already been fulfilled.");return e}p(n,0,D,null,l);return e};this.resolve=function(D,Q){if(k){if(!0===Q)throw Error("This deferred has already been fulfilled.");return e}p(n,k=1,d=D,null,l);n=null;return e};var v=this.reject=function(D,Q){if(k){if(!0===Q)throw Error("This deferred has already been fulfilled.");return e}Error.captureStackTrace&&Error.captureStackTrace(u={},v);p(n,k=2,d=D,u,
l);n=null;return e};this.then=e.then=function(D,Q,y){var A=[y,D,Q];A.cancel=e.cancel;A.deferred=new a(function(I){return A.cancel&&A.cancel(I)});k&&!n?t(A,k,d,u):n.push(A);return A.deferred.promise};this.cancel=e.cancel=function(D,Q){if(!k){f&&(Q=f(D),D="undefined"===typeof Q?D:Q);x=!0;if(!k)return"undefined"===typeof D&&(D=new q),v(D),D;if(2===k&&d===D)return D}else if(!0===Q)throw Error("This deferred has already been fulfilled.");};m(e)};a.prototype.toString=function(){return"[object Deferred]"};
r&&r(a);return a})},"dojo/errors/CancelError":function(){define(["./create"],function(b){return b("CancelError",null,null,{dojoType:"cancel",log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(b){return function(z,q,w,r){w=w||Error;var m=function(p){if(w===Error){Error.captureStackTrace&&Error.captureStackTrace(this,m);var t=Error.call(this,p),h;for(h in t)t.hasOwnProperty(h)&&(this[h]=t[h]);this.message=p;this.stack=t.stack}else w.apply(this,arguments);q&&q.apply(this,arguments)};
m.prototype=b.delegate(w.prototype,r);m.prototype.name=z;return m.prototype.constructor=m}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(b){function z(){throw new TypeError("abstract");}return b.extend(function(){},{then:function(q,w,r){z()},cancel:function(q,w){z()},isResolved:function(){z()},isRejected:function(){z()},isFulfilled:function(){z()},isCanceled:function(){z()},"finally":function(q){return this.then(function(w){var r=q();return r&&"function"===typeof r.then?r.then(function(){return w}):
w},function(w){var r=q();if(r&&"function"===typeof r.then)return r.then(function(){throw w;});throw w;})},always:function(q){return this.then(q,q)},"catch":function(q){return this.then(null,q)},otherwise:function(q){return this.then(null,q)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(b,z,q,w){function r(f,e,l){if(!f||
!1!==f.log){var k="";f&&f.stack&&(k+=f.stack);e&&e.stack&&(k+="\n    ----------------------------------------\n    rejected"+e.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));l&&l.stack&&(k+="\n    ----------------------------------------\n"+l.stack);console.error(f,k)}}function m(f,e,l,k){e||r(f,l,k)}function p(f,e,l,k){w.some(h,function(d){if(d.error===f)return e&&(d.handled=!0),!0})||h.push({error:f,rejection:l,handled:e,deferred:k,timestamp:(new Date).getTime()});c||(c=setTimeout(t,
a))}function t(){var f=(new Date).getTime(),e=f-a;h=w.filter(h,function(l){return l.timestamp<e?(l.handled||r(l.error,l.rejection,l.deferred),!1):!0});c=h.length?setTimeout(t,h[0].timestamp+a-f):!1}z.add("config-useDeferredInstrumentation","report-unhandled-rejections");var h=[],c=!1,a=1E3;return function(f){var e=z("config-useDeferredInstrumentation");if(e){b.on("resolved",q.hitch(console,"log","resolved"));b.on("rejected",q.hitch(console,"log","rejected"));b.on("progress",q.hitch(console,"log",
"progress"));var l=[];"string"===typeof e&&(l=e.split(","),e=l.shift());if("report-rejections"===e)f.instrumentRejected=m;else if("report-unhandled-rejections"===e||!0===e||1===e)f.instrumentRejected=p,a=parseInt(l[0],10)||a;else throw Error("Unsupported instrumentation usage \x3c"+e+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(b,z,q){function w(p){setTimeout(function(){m.apply(r,p)},0)}var r=new q,m=r.emit;r.emit=null;z.prototype.trace=
function(){var p=b._toArray(arguments);this.then(function(t){w(["resolved",t].concat(p))},function(t){w(["rejected",t].concat(p))},function(t){w(["progress",t].concat(p))});return this};z.prototype.traceRejected=function(){var p=b._toArray(arguments);this.otherwise(function(t){w(["rejected",t].concat(p))});return this};return r})},"dojo/Evented":function(){define(["./aspect","./on"],function(b,z){function q(){}var w=b.after;q.prototype={on:function(r,m){return z.parse(this,r,m,function(p,t){return w(p,
"on"+t,m,!0)})},emit:function(r,m){var p=[this];p.push.apply(p,arguments);return z.emit.apply(z,p)}};return q})},"dojo/aspect":function(){define([],function(){function b(p,t,h,c){var a=p[t],f="around"==t;if(f){var e=h(function(){return a.advice(this,arguments)});var l={remove:function(){e&&(e=p=h=null)},advice:function(k,d){return e?e.apply(k,d):a.advice(k,d)}}}else l={remove:function(){if(l.advice){var k=l.previous,d=l.next;d||k?(k?k.next=d:p[t]=d,d&&(d.previous=k)):delete p[t];p=h=l.advice=null}},
id:p.nextId++,advice:h,receiveArguments:c};if(a&&!f)if("after"==t){for(;a.next&&(a=a.next););a.next=l;l.previous=a}else"before"==t&&(p[t]=l,l.next=a,a.previous=l);else p[t]=l;return l}function z(p){return function(t,h,c,a){var f=t[h],e;f&&f.target==t||(t[h]=e=function(){for(var l=e.nextId,k=arguments,d=e.before;d;)d.advice&&(k=d.advice.apply(this,k)||k),d=d.next;if(e.around)var u=e.around.advice(this,k);for(d=e.after;d&&d.id<l;){if(d.advice)if(d.receiveArguments){var x=d.advice.apply(this,k);u=x===
q?u:x}else u=d.advice.call(this,u,k);d=d.next}return u},f&&(e.around={advice:function(l,k){return f.apply(l,k)}}),e.target=t,e.nextId=e.nextId||0);t=b(e||f,p,c,a);c=null;return t}}var q,w=z("after"),r=z("before"),m=z("around");return{before:r,around:m,after:w}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(b,z,q){function w(A,I,C,H,B){if(H=I.match(/(.*):(.*)/))return I=H[2],H=H[1],t.selector(H,I).call(B,A,C);q("touch")&&(h.test(I)&&(C=y(C)),
q("event-orientationchange")||"orientationchange"!=I||(I="resize",A=window,C=y(C)));l&&(C=l(C));if(A.addEventListener){var K=I in f,J=K?f[I]:I;A.addEventListener(J,C,K);return{remove:function(){A.removeEventListener(J,C,K)}}}if(x&&A.attachEvent)return x(A,"on"+I,C);throw Error("Target must be an event emitter");}function r(){this.cancelable=!1;this.defaultPrevented=!0}function m(){this.bubbles=!1}var p=window.ScriptEngineMajorVersion;q.add("jscript",p&&p()+ScriptEngineMinorVersion()/10);q.add("event-orientationchange",
q("touch")&&!q("android"));q.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);q.add("event-focusin",function(A,I,C){return"onfocusin"in C});q("touch")&&q.add("touch-can-modify-event-delegate",function(){var A=function(){};A.prototype=document.createEvent("MouseEvents");try{var I=new A;I.target=null;return null===I.target}catch(C){return!1}});var t=function(A,I,C,H){return"function"!=typeof A.on||"function"==typeof I||A.nodeType?
t.parse(A,I,C,w,H,this):A.on(I,C)};t.pausable=function(A,I,C,H){var B;A=t(A,I,function(){if(!B)return C.apply(this,arguments)},H);A.pause=function(){B=!0};A.resume=function(){B=!1};return A};t.once=function(A,I,C,H){var B=t(A,I,function(){B.remove();return C.apply(this,arguments)});return B};t.parse=function(A,I,C,H,B,K){var J;if(I.call)return I.call(K,A,C);I instanceof Array?J=I:-1<I.indexOf(",")&&(J=I.split(/\s*,\s*/));if(J){var R=[];I=0;for(var W;W=J[I++];)R.push(t.parse(A,W,C,H,B,K));R.remove=
function(){for(var Y=0;Y<R.length;Y++)R[Y].remove()};return R}return H(A,I,C,B,K)};var h=/^touch/;t.matches=function(A,I,C,H,B){B=B&&"function"==typeof B.matches?B:z.query;H=!1!==H;1!=A.nodeType&&(A=A.parentNode);for(;!B.matches(A,I,C);)if(A==C||!1===H||!(A=A.parentNode)||1!=A.nodeType)return!1;return A};t.selector=function(A,I,C){return function(H,B){function K(W){return t.matches(W,A,H,C,J)}var J="function"==typeof A?{matches:A}:this,R=I.bubble;return R?t(H,R(K),B):t(H,I,function(W){var Y=K(W.target);
if(Y)return W.selectorTarget=Y,B.call(Y,W)})}};var c=[].slice,a=t.emit=function(A,I,C){var H=c.call(arguments,2),B="on"+I;if("parentNode"in A){var K=H[0]={},J;for(J in C)K[J]=C[J];K.preventDefault=r;K.stopPropagation=m;K.target=A;K.type=I;C=K}do A[B]&&A[B].apply(A,H);while(C&&C.bubbles&&(A=A.parentNode));return C&&C.cancelable&&C},f=q("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!q("event-stopimmediatepropagation"))var e=function(){this.modified=this.immediatelyStopped=!0},l=function(A){return function(I){if(!I.immediatelyStopped)return I.stopImmediatePropagation=
e,A.apply(this,arguments)}};if(q("dom-addeventlistener"))t.emit=function(A,I,C){if(A.dispatchEvent&&document.createEvent){var H=(A.ownerDocument||document).createEvent("HTMLEvents");H.initEvent(I,!!C.bubbles,!!C.cancelable);for(var B in C)B in H||(H[B]=C[B]);return A.dispatchEvent(H)&&H}return a.apply(t,arguments)};else{t._fixEvent=function(A,I){A||(A=(I&&(I.ownerDocument||I.document||I).parentWindow||window).event);if(!A)return A;try{k&&A.type==k.type&&A.srcElement==k.target&&(A=k)}catch(C){}if(!A.target)switch(A.target=
A.srcElement,A.currentTarget=I||A.srcElement,"mouseover"==A.type&&(A.relatedTarget=A.fromElement),"mouseout"==A.type&&(A.relatedTarget=A.toElement),A.stopPropagation||(A.stopPropagation=n,A.preventDefault=v),A.type){case "keypress":I="charCode"in A?A.charCode:A.keyCode,10==I?(I=0,A.keyCode=13):13==I||27==I?I=0:3==I&&(I=99),A.charCode=I,I=A,I.keyChar=I.charCode?String.fromCharCode(I.charCode):"",I.charOrCode=I.keyChar||I.keyCode}return A};var k,d=function(A){this.handle=A};d.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var u=function(A){return function(I){I=t._fixEvent(I,this);var C=A.call(this,I);I.modified&&(k||setTimeout(function(){k=null}),k=I);return C}},x=function(A,I,C){C=u(C);if(((A.ownerDocument?A.ownerDocument.parentWindow:A.parentWindow||A.window||window)!=top||5.8>q("jscript"))&&!q("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var H=A[I];if(!H||!H.listeners){var B=H;H=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
H.listeners=[];A[I]=H;H.global=this;B&&H.listeners.push(_dojoIEListeners_.push(B)-1)}H.listeners.push(A=H.global._dojoIEListeners_.push(C)-1);return new d(A)}return b.after(A,I,C,!0)},n=function(){this.cancelBubble=!0},v=t._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(A){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(q("touch"))var D=function(){},Q=window.orientation,y=function(A){return function(I){var C=I.corrected;if(!C){var H=
I.type;try{delete I.type}catch(J){}if(I.type){if(q("touch-can-modify-event-delegate"))D.prototype=I,C=new D;else{C={};for(var B in I)C[B]=I[B]}C.preventDefault=function(){I.preventDefault()};C.stopPropagation=function(){I.stopPropagation()}}else C=I,C.type=H;I.corrected=C;if("resize"==H){if(Q==window.orientation)return null;Q=window.orientation;C.type="orientationchange";return A.call(this,C)}"rotation"in C||(C.rotation=0,C.scale=1);if(window.TouchEvent&&I instanceof TouchEvent){H=C.changedTouches[0];
for(var K in H)delete C[K],C[K]=H[K]}}return A.call(this,C)}};return t})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(b,z){return function(q,w,r,m){var p=q&&"function"===typeof q.then,t=p&&q instanceof z;if(!p)return 1<arguments.length?w?w(q):q:(new b).resolve(q);t||(p=new b(q.cancel),q.then(p.resolve,p.reject,p.progress),q=p.promise);return w||r||m?q.then(w,r,m):q}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(b,z){b.fromJson=function(q){return eval("("+
q+")")};b._escapeString=z.stringify;b.toJsonIndentStr="\t";b.toJson=function(q,w){return z.stringify(q,function(r,m){return m&&(r=m.__json__||m.json,"function"==typeof r)?r.call(m):m},w&&b.toJsonIndentStr)};return b})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(b,z,q,w,r,m){function p(){for(var a=+new Date,f=0,e;f<c.length&&(e=c[f]);f++){var l=
e.response,k=l.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(l)?(c.splice(f--,1),t._onAction&&t._onAction()):e.isReady&&e.isReady(l)?(c.splice(f--,1),e.handleResponse(l),t._onAction&&t._onAction()):e.startTime&&e.startTime+(k.timeout||0)<a&&(c.splice(f--,1),e.cancel(new z("Timeout exceeded",l)),t._onAction&&t._onAction())}t._onInFlight&&t._onInFlight(e);c.length||(clearInterval(h),h=null)}function t(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(c.push(a),h||
(h=setInterval(p,50)),a.response.options.sync&&p())}var h=null,c=[];t.cancelAll=function(){try{w.forEach(c,function(a){try{a.cancel(new q("All requests canceled."))}catch(f){}})}catch(a){}};r&&m&&r.doc.attachEvent&&m(r.global,"unload",function(){t.cancelAll()});return t})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(b,z,q,w,r,m,p,t,h){function c(k){return h("native-arraybuffer")&&
k instanceof ArrayBuffer}function a(k){return h("native-blob")&&k instanceof Blob}function f(k){return l(k)}function e(k){return void 0!==k.data?k.data:k.text}b.deepCopy=function(k,d){for(var u in d){var x=k[u],n=d[u];if("__proto__"!==u&&x!==n){var v=n,D;if(D=v&&"object"===typeof v)D=v,D=!(h("native-formdata")&&D instanceof FormData);!D||("undefined"!==typeof Element?v instanceof Element:1===v.nodeType)||a(v)||c(v)?k[u]=n:"[object Date]"===Object.prototype.toString.call(n)?k[u]=new Date(n):p.isArray(n)?
k[u]=b.deepCopyArray(n):x&&"object"===typeof x?b.deepCopy(x,n):k[u]=b.deepCopy({},n)}}return k};b.deepCopyArray=function(k){for(var d=[],u=0,x=k.length;u<x;u++){var n=k[u];"object"===typeof n?d.push(b.deepCopy({},n)):d.push(n)}return d};b.deepCreate=function(k,d){d=d||{};var u=p.delegate(k),x,n;for(x in k)(n=k[x])&&"object"===typeof n&&(u[x]=b.deepCreate(n,d[x]));return b.deepCopy(u,d)};var l=Object.freeze||function(k){return k};b.deferred=function(k,d,u,x,n,v){var D=new w(function(y){d&&d(D,k);return y&&
(y instanceof z||y instanceof q)?y:new q("Request canceled",k)});D.response=k;D.isValid=u;D.isReady=x;D.handleResponse=n;u=D.then(f).otherwise(function(y){y.response=k;throw y;});b.notify&&u.then(p.hitch(b.notify,"emit","load"),p.hitch(b.notify,"emit","error"));x=u.then(e);n=new t;for(var Q in x)x.hasOwnProperty(Q)&&(n[Q]=x[Q]);n.response=u;l(n);v&&D.then(function(y){v.call(D,y)},function(y){v.call(D,k,y)});D.promise=n;D.then=n.then;return D};b.addCommonMethods=function(k,d){m.forEach(d||["GET","POST",
"PUT","DELETE"],function(u){k[("DELETE"===u?"DEL":u).toLowerCase()]=function(x,n){n=p.delegate(n||{});n.method=u;return k(x,n)}})};b.parseArgs=function(k,d,u){var x=d.data,n=d.query;!x||u||"object"!==typeof x||h("native-xhr2")&&(c(x)||a(x))||(d.data=r.objectToQuery(x));n?("object"===typeof n&&(n=r.objectToQuery(n)),d.preventCache&&(n+=(n?"\x26":"")+"request.preventCache\x3d"+ +new Date)):d.preventCache&&(n="request.preventCache\x3d"+ +new Date);k&&n&&(k+=(~k.indexOf("?")?"\x26":"?")+n);return{url:k,
options:d,getHeader:function(v){return null}}};b.checkStatus=function(k){k=k||0;return 200<=k&&300>k||304===k||1223===k||!k}})},"dojo/errors/RequestError":function(){define(["./create"],function(b){return b("RequestError",function(z,q){this.response=q})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(b,z){return b("RequestTimeoutError",null,z,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers",
"./util","../has"],function(b,z,q,w,r){function m(d,u){var x=d.xhr;d.status=d.xhr.status;try{d.text=x.responseText}catch(v){}"xml"===d.options.handleAs&&(d.data=x.responseXML);if(u)this.reject(u);else{try{q(d)}catch(v){var n=v}w.checkStatus(x.status)?n?this.reject(n):this.resolve(d):(u=n?new b("Unable to load "+d.url+" status: "+x.status+" and an error in handleAs: transformation of response",d):new b("Unable to load "+d.url+" status: "+x.status,d),this.reject(u))}}function p(d){return this.xhr.getResponseHeader(d)}
function t(d,u,x){var n=r("native-formdata")&&u&&u.data&&u.data instanceof FormData,v=w.parseArgs(d,w.deepCreate(k,u),n);d=v.url;u=v.options;var D=!u.data&&"POST"!==u.method&&"PUT"!==u.method;10>=r("ie")&&(d=d.split("#")[0]);var Q,y=w.deferred(v,a,c,e,m,function(){Q&&Q()}),A=v.xhr=t._create();if(!A)return y.cancel(new b("XHR was not created")),x?y:y.promise;v.getHeader=p;f&&(Q=f(A,y,v,u.uploadProgress));var I="undefined"===typeof u.data?null:u.data,C=!u.sync,H=u.method;try{A.open(H,d,C,u.user||l,
u.password||l);u.withCredentials&&(A.withCredentials=u.withCredentials);r("native-response-type")&&u.handleAs in h&&(A.responseType=h[u.handleAs]);var B=u.headers;d=n||D?!1:"application/x-www-form-urlencoded";if(B)for(var K in B)"content-type"===K.toLowerCase()?d=B[K]:B[K]&&A.setRequestHeader(K,B[K]);d&&!1!==d&&A.setRequestHeader("Content-Type",d);B&&"X-Requested-With"in B||A.setRequestHeader("X-Requested-With","XMLHttpRequest");w.notify&&w.notify.emit("send",v,y.promise.cancel);A.send(I)}catch(J){y.reject(J)}z(y);
A=null;return x?y:y.promise}r.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});r.add("dojo-force-activex-xhr",function(){return r("activex")&&"file:"===window.location.protocol});r.add("native-xhr2",function(){if(r("native-xhr")&&!r("dojo-force-activex-xhr")){var d=new XMLHttpRequest;return"undefined"!==typeof d.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof d.upload)}});r.add("native-formdata",function(){return"undefined"!==typeof FormData});r.add("native-blob",
function(){return"undefined"!==typeof Blob});r.add("native-arraybuffer",function(){return"undefined"!==typeof ArrayBuffer});r.add("native-response-type",function(){return r("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});r.add("native-xhr2-blob",function(){if(r("native-response-type")){var d=new XMLHttpRequest;d.open("GET","https://dojotoolkit.org/",!0);d.responseType="blob";var u=d.responseType;d.abort();return"blob"===u}});var h={blob:r("native-xhr2-blob")?"blob":"arraybuffer",
document:"document",arraybuffer:"arraybuffer"};if(r("native-xhr2")){var c=function(d){return!this.isFulfilled()};var a=function(d,u){u.xhr.abort()};var f=function(d,u,x,n){function v(I){u.handleResponse(x)}function D(I){I=new b("Unable to load "+x.url+" status: "+I.target.status,x);u.handleResponse(x,I)}function Q(I,C){x.transferType=I;C.lengthComputable?(x.loaded=C.loaded,x.total=C.total,u.progress(x)):3===x.xhr.readyState&&(x.loaded="loaded"in C?C.loaded:C.position,u.progress(x))}function y(I){return Q("download",
I)}function A(I){return Q("upload",I)}d.addEventListener("load",v,!1);d.addEventListener("error",D,!1);d.addEventListener("progress",y,!1);n&&d.upload&&d.upload.addEventListener("progress",A,!1);return function(){d.removeEventListener("load",v,!1);d.removeEventListener("error",D,!1);d.removeEventListener("progress",y,!1);d.upload.removeEventListener("progress",A,!1);d=null}}}else{c=function(d){return d.xhr.readyState};var e=function(d){return 4===d.xhr.readyState};a=function(d,u){d=u.xhr;u=typeof d.abort;
"function"!==u&&"object"!==u&&"unknown"!==u||d.abort()}}var l,k={data:null,query:null,sync:!1,method:"GET"};t._create=function(){throw Error("XMLHTTP not available");};if(r("native-xhr")&&!r("dojo-force-activex-xhr"))t._create=function(){return new XMLHttpRequest};else if(r("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),t._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(d){try{new ActiveXObject("Microsoft.XMLHTTP"),t._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}w.addCommonMethods(t);
return t})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(b,z,q,w){function r(a){var f=c[a.options.handleAs];a.data=f?f(a):a.data||a.text;return a}w.add("activex","undefined"!==typeof ActiveXObject);w.add("dom-parser",function(a){return"DOMParser"in a});if(w("activex")){var m=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],p;var t=function(a){function f(k){try{var d=
new ActiveXObject(k);d.async=!1;d.loadXML(l);e=d;p=k}catch(u){return!1}return!0}var e=a.data,l=a.text;e&&w("dom-qsa2.1")&&!e.querySelectorAll&&w("dom-parser")&&(e=(new DOMParser).parseFromString(l,"application/xml"));e&&e.documentElement||p&&f(p)||q.some(m,f);return e}}var h=function(a){return w("native-xhr2-blob")||"blob"!==a.options.handleAs||"undefined"===typeof Blob?a.xhr.response:new Blob([a.xhr.response],{type:a.xhr.getResponseHeader("Content-Type")})},c={javascript:function(a){return z.eval(a.text||
"")},json:function(a){return b.parse(a.text||null)},xml:t,blob:h,arraybuffer:h,document:h};r.register=function(a,f){c[a]=f};return r})},"dojo/selector/_loader":function(){define(["../has","require"],function(b,z){if("undefined"!==typeof document){var q=document.createElement("div");b.add("dom-qsa2.1",!!q.querySelectorAll);b.add("dom-qsa3",function(){try{return q.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==q.querySelectorAll(".TEST:empty").length}catch(r){}})}var w;return{load:function(r,m,
p,t){if(t&&t.isBuild)p();else{t=z;r="default"==r?b("config-selectorEngine")||"css3":r;r="css2"==r||"lite"==r?"./lite":"css2.1"==r?b("dom-qsa2.1")?"./lite":"./acme":"css3"==r?b("dom-qsa3")?"./lite":"./acme":"acme"==r?"./acme":(t=m)&&r;if("?"==r.charAt(r.length-1)){r=r.substring(0,r.length-1);var h=!0}if(h&&(b("dom-compliant-qsa")||w))return p(w);t([r],function(c){"./lite"!=r&&(w=c);p(c)})}}}})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),
function(b,z,q,w,r,m,p,t){p.isDebug&&q(["./_firebug/firebug"]);var h=p.require;h&&(h=m.map(r.isArray(h)?h:[h],function(c){return c.replace(/\./g,"/")}),b.isAsync?q(h):t(1,function(){q(h)}));return b})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(b,z,q,w,r){var m=0,p=[],t=0;z=function(){m=1;b._postLoad=b.config.afterOnLoad=!0;h()};var h=function(){if(!t){for(t=1;m&&(!w||0==w._Q.length)&&(q.idle?q.idle():1)&&p.length;){var f=p.shift();try{f()}catch(e){if(e.info=
e.message,q.signal)q.signal("error",e);else throw e;}}t=0}};q.on&&q.on("idle",h);w&&(w._onQEmpty=h);var c=b.ready=b.addOnLoad=function(f,e,l){var k=r._toArray(arguments);"number"!=typeof f?(l=e,e=f,f=1E3):k.shift();l=l?r.hitch.apply(b,k):function(){e()};l.priority=f;for(k=0;k<p.length&&f>=p[k].priority;k++);p.splice(k,0,l);h()},a=b.config.addOnLoad;if(a)c[r.isArray(a)?"apply":"call"](b,a);b.config.parseOnLoad&&!b.isAsync&&c(99,function(){b.parser||(b.deprecated("Add explicit require(['dojo/parser']);",
"","2.0"),q(["dojo/parser"]))});w?w(z):z();return c})},"dojo/domReady":function(){define(["./global","./has"],function(b,z){function q(d){h.push(d);t&&w()}function w(){if(!c){for(c=!0;h.length;)try{h.shift()(r)}catch(d){console.error(d,"in domReady callback",d.stack)}c=!1;q._onQEmpty()}}var r=document,m={loaded:1,complete:1},p="string"!=typeof r.readyState,t=!!m[r.readyState],h=[],c;q.load=function(d,u,x){q(x)};q._Q=h;q._onQEmpty=function(){};p&&(r.readyState="loading");if(!t){var a=[],f=function(d){d=
d||b.event;t||"readystatechange"==d.type&&!m[r.readyState]||(p&&(r.readyState="complete"),t=1,w())},e=function(d,u){d.addEventListener(u,f,!1);h.push(function(){d.removeEventListener(u,f,!1)})};if(!z("dom-addeventlistener")){e=function(d,u){u="on"+u;d.attachEvent(u,f);h.push(function(){d.detachEvent(u,f)})};var l=r.createElement("div");try{l.doScroll&&null===b.frameElement&&a.push(function(){try{return l.doScroll("left"),1}catch(d){}})}catch(d){}}e(r,"DOMContentLoaded");e(b,"load");"onreadystatechange"in
r?e(r,"readystatechange"):p||a.push(function(){return m[r.readyState]});if(a.length){var k=function(){if(!t){for(var d=a.length;d--;)if(a[d]()){f("poller");return}setTimeout(k,30)}};k()}}return q})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(b,z,q){function w(C,H){throw Error("declare"+(H?" "+H:"")+": "+C);}function r(C,H){for(var B=[],K=[{cls:0,refs:[]}],J={},R=1,W=C.length,Y=0,S,U,L,T,da;Y<W;++Y){(S=C[Y])?"[object Function]"!=Q.call(S)&&w("mixin #"+Y+" is not a callable constructor.",
H):w("mixin #"+Y+" is unknown. Did you use dojo.require to pull it in?",H);U=S._meta?S._meta.bases:[S];L=0;for(S=U.length-1;0<=S;--S)T=U[S].prototype,T.hasOwnProperty("declaredClass")||(T.declaredClass="uniqName_"+y++),T=T.declaredClass,J.hasOwnProperty(T)||(J[T]={count:0,refs:[],cls:U[S]},++R),T=J[T],L&&L!==T&&(T.refs.push(L),++L.count),L=T;++L.count;K[0].refs.push(L)}for(;K.length;){L=K.pop();B.push(L.cls);for(--R;da=L.refs,1==da.length;){L=da[0];if(!L||--L.count){L=0;break}B.push(L.cls);--R}if(L)for(Y=
0,W=da.length;Y<W;++Y)L=da[Y],--L.count||K.push(L)}R&&w("can't build consistent linearization",H);S=C[0];B[0]=S?S._meta&&S===B[B.length-S._meta.bases.length]?S._meta.bases.length:1:0;return B}function m(C,H,B,K){var J,R=this._inherited=this._inherited||{};if("string"===typeof C){var W=C;C=H;H=B;B=K}if("function"===typeof C){var Y=C;C=H;H=B}else try{Y=C.callee}catch(T){if(T instanceof TypeError)w("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);
else throw T;}(W=W||Y.nom)||w("can't deduce a name to call inherited()",this.declaredClass);B=K=0;var S=this.constructor._meta;K=S.bases;var U=R.p;if("constructor"!=W){if(R.c!==Y){U=0;var L=K[0];S=L._meta;if(S.hidden[W]!==Y){(J=S.chains)&&"string"==typeof J[W]&&w("calling chained method with inherited: "+W,this.declaredClass);do if(S=L._meta,J=L.prototype,S&&(J[W]===Y&&J.hasOwnProperty(W)||S.hidden[W]===Y))break;while(L=K[++U]);U=L?U:-1}}if(L=K[++U])if(J=L.prototype,L._meta&&J.hasOwnProperty(W))B=
J[W];else{Y=D[W];do if(J=L.prototype,(B=J[W])&&(L._meta?J.hasOwnProperty(W):B!==Y))break;while(L=K[++U])}B=L&&B||D[W]}else{if(R.c!==Y&&(U=0,(S=K[0]._meta)&&S.ctor!==Y)){for((J=S.chains)&&"manual"===J.constructor||w("calling chained constructor with inherited",this.declaredClass);(L=K[++U])&&(!(S=L._meta)||S.ctor!==Y););U=L?U:-1}for(;(L=K[++U])&&!(B=(S=L._meta)?S.ctor:L););B=L&&B}R.c=B;R.p=U;if(B)return!0===H?B:B.apply(this,H||C)}function p(C,H,B){return"string"===typeof C?"function"===typeof H?this.__inherited(C,
H,B,!0):this.__inherited(C,H,!0):"function"===typeof C?this.__inherited(C,H,!0):this.__inherited(C,!0)}function t(C,H,B,K){var J=this.getInherited(C,H,B);if(J)return J.apply(this,K||B||H||C)}function h(C){for(var H=this.constructor._meta.bases,B=0,K=H.length;B<K;++B)if(H[B]===C)return!0;return this instanceof C}function c(C,H){for(var B in H)"constructor"!=B&&H.hasOwnProperty(B)&&(C[B]=H[B]);if(z("bug-for-in-skips-shadowed"))for(var K=q._extraNames,J=K.length;J;)B=K[--J],"constructor"!=B&&H.hasOwnProperty(B)&&
(C[B]=H[B])}function a(C){n.safeMixin(this.prototype,C);return this}function f(C,H){C instanceof Array||"function"===typeof C||(H=C,C=void 0);H=H||{};C=C||[];return n([this].concat(C),H)}function e(C,H){return function(){var B=arguments,K=B,J=B[0],R;var W=C.length;if(!(this instanceof B.callee))return x(B);if(H&&(J&&J.preamble||this.preamble)){var Y=Array(C.length);Y[0]=B;for(R=0;;){(J=B[0])&&(J=J.preamble)&&(B=J.apply(this,B)||B);J=C[R].prototype;(J=J.hasOwnProperty("preamble")&&J.preamble)&&(B=
J.apply(this,B)||B);if(++R==W)break;Y[R]=B}}for(R=W-1;0<=R;--R)J=C[R],(J=(W=J._meta)?W.ctor:J)&&J.apply(this,Y?Y[R]:B);(J=this.postscript)&&J.apply(this,K)}}function l(C,H){return function(){var B=arguments,K=B,J=B[0];if(!(this instanceof B.callee))return x(B);H&&(J&&(J=J.preamble)&&(K=J.apply(this,K)||K),(J=this.preamble)&&J.apply(this,K));C&&C.apply(this,B);(J=this.postscript)&&J.apply(this,B)}}function k(C){return function(){var H=arguments,B=0,K,J;if(!(this instanceof H.callee))return x(H);for(;K=
C[B];++B)if(K=(J=K._meta)?J.ctor:K){K.apply(this,H);break}(K=this.postscript)&&K.apply(this,H)}}function d(C,H,B){return function(){var K,J=0,R=1;B&&(J=H.length-1,R=-1);for(;K=H[J];J+=R){var W=K._meta;(K=(W?W.hidden:K.prototype)[C])&&K.apply(this,arguments)}}}function u(C){A.prototype=C.prototype;C=new A;A.prototype=null;return C}function x(C){var H=C.callee,B=u(H);H.apply(B,C);return B}function n(C,H,B){"string"!=typeof C&&(B=H,H=C,C="");B=B||{};var K,J,R,W=1,Y=H;if("[object Array]"==Q.call(H)){var S=
r(H,C);var U=S[0];W=S.length-U;H=S[W]}else S=[0],H?"[object Function]"==Q.call(H)?(U=H._meta,S=S.concat(U?U.bases:H)):w("base class is not a callable constructor.",C):null!==H&&w("unknown base class. Did you use dojo.require to pull it in?",C);if(H)for(K=W-1;;--K){var L=u(H);if(!K)break;U=S[K];(U._meta?c:v)(L,U.prototype);var T=z("csp-restrictions")?function(){}:new Function;T.superclass=H;T.prototype=L;H=L.constructor=T}else L={};n.safeMixin(L,B);U=B.constructor;U!==D.constructor&&(U.nom="constructor",
L.constructor=U);for(K=W-1;K;--K)(U=S[K]._meta)&&U.chains&&(R=v(R||{},U.chains));L["-chains-"]&&(R=v(R||{},L["-chains-"]));H&&H.prototype&&H.prototype["-chains-"]&&(R=v(R||{},H.prototype["-chains-"]));U=!R||!R.hasOwnProperty("constructor");S[0]=T=R&&"manual"===R.constructor?k(S):1==S.length?l(B.constructor,U):e(S,U);T._meta={bases:S,hidden:B,chains:R,parents:Y,ctor:B.constructor};T.superclass=H&&H.prototype;T.extend=a;T.createSubclass=f;T.prototype=L;L.constructor=T;L.getInherited=p;L.isInstanceOf=
h;L.inherited=I;L.__inherited=m;C&&(L.declaredClass=C,q.setObject(C,T));if(R)for(J in R)L[J]&&"string"==typeof R[J]&&"constructor"!=J&&(U=L[J]=d(J,S,"after"===R[J]),U.nom=J);return T}var v=q.mixin,D=Object.prototype,Q=D.toString,y=0;var A=z("csp-restrictions")?function(){}:new Function;var I=b.config.isDebug?t:m;b.safeMixin=n.safeMixin=function(C,H){for(R in H){var B=H[R];B===D[R]&&R in D||"constructor"==R||("[object Function]"==Q.call(B)&&(B.nom=R),C[R]=B)}if(z("bug-for-in-skips-shadowed")&&H)for(var K=
q._extraNames,J=K.length;J;){var R=K[--J];B=H[R];B===D[R]&&R in D||"constructor"==R||("[object Function]"==Q.call(B)&&(B.nom=R),C[R]=B)}return C};return b.declare=n})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(b,z,q,w,r,m,p,t){function h(d,u,x,n,v){n=t.hitch(x,n);if(!d||!d.addEventListener&&!d.attachEvent)return w.after(d||b.global,u,n,!0);"string"==typeof u&&"on"==u.substring(0,2)&&(u=u.substring(2));d||
(d=b.global);if(!v)switch(u){case "keypress":u=l;break;case "mouseenter":u=m.enter;break;case "mouseleave":u=m.leave}return z(d,u,n,v)}function c(d){d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}p.add("events-keypress-typed",function(){var d={charCode:0};try{d=document.createEvent("KeyboardEvent"),(d.initKeyboardEvent||d.initKeyEvent).call(d,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(u){}return 0==d.charCode&&!p("opera")});var a={106:42,111:47,186:59,
187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=p("mac")?"metaKey":"ctrlKey",e=function(d,u){u=t.mixin({},d,u);c(u);u.preventDefault=function(){d.preventDefault()};u.stopPropagation=function(){d.stopPropagation()};return u};var l=p("events-keypress-typed")?function(d,u){var x=z(d,"keydown",function(v){var D=v.keyCode,Q=13!=D&&32!=D&&(27!=D||!p("ie"))&&(48>D||90<D)&&(96>D||111<D)&&(186>D||192<D)&&(219>D||222<D)&&229!=D;if(Q||v.ctrlKey){Q=Q?0:D;if(v.ctrlKey){if(3==D||
13==D)return u.call(v.currentTarget,v);Q=95<Q&&106>Q?Q-48:!v.shiftKey&&65<=Q&&90>=Q?Q+32:a[Q]||Q}D=e(v,{type:"keypress",faux:!0,charCode:Q});u.call(v.currentTarget,D);if(p("ie"))try{v.keyCode=D.keyCode}catch(y){}}}),n=z(d,"keypress",function(v){var D=v.charCode;v=e(v,{charCode:32<=D?D:0,faux:!0});return u.call(this,v)});return{remove:function(){x.remove();n.remove()}}}:p("opera")?function(d,u){return z(d,"keypress",function(x){var n=x.which;3==n&&(n=99);n=32>n&&!x.shiftKey?0:n;x.ctrlKey&&!x.shiftKey&&
65<=n&&90>=n&&(n+=32);return u.call(this,e(x,{charCode:n}))})}:function(d,u){return z(d,"keypress",function(x){c(x);return u.call(this,x)})};var k={_keypress:l,connect:function(d,u,x,n,v){var D=arguments,Q=[],y=0;Q.push("string"==typeof D[0]?null:D[y++],D[y++]);var A=D[y+1];Q.push("string"==typeof A||"function"==typeof A?D[y++]:null,D[y++]);for(A=D.length;y<A;y++)Q.push(D[y]);return h.apply(this,Q)},disconnect:function(d){d&&d.remove()},subscribe:function(d,u,x){return q.subscribe(d,t.hitch(u,x))},
publish:function(d,u){return q.publish.apply(q,[d].concat(u))},connectPublisher:function(d,u,x){var n=function(){k.publish(d,arguments)};return x?k.connect(u,x,n):k.connect(u,n)},isCopyKey:function(d){return d[f]}};k.unsubscribe=k.disconnect;t.mixin(b,k);return k})},"dojo/topic":function(){define(["./Evented"],function(b){var z=new b;return{publish:function(q,w){return z.emit.apply(z,arguments)},subscribe:function(q,w){return z.on.apply(z,arguments)}}})},"dojo/_base/event":function(){define(["./kernel",
"../on","../has","../dom-geometry"],function(b,z,q,w){if(z._fixEvent){var r=z._fixEvent;z._fixEvent=function(p,t){(p=r(p,t))&&w.normalizeEvent(p);return p}}var m={fix:function(p,t){return z._fixEvent?z._fixEvent(p,t):p},stop:function(p){q("dom-addeventlistener")||p&&p.preventDefault?(p.preventDefault(),p.stopPropagation()):(p=p||window.event,p.cancelBubble=!0,z._preventDefault.call(p))}};b.fixEvent=m.fix;b.stopEvent=m.stop;return m})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(b,z,q,w){function r(a,f,e,l,k,d){d=d||"px";a=a.style;isNaN(f)||(a.left=f+d);isNaN(e)||(a.top=e+d);0<=l&&(a.width=l+d);0<=k&&(a.height=k+d)}function m(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function p(a){return"border-box"==h.boxModel||"table"==a.tagName.toLowerCase()||m(a)}function t(a){var f={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};try{var e=a.getBoundingClientRect()}catch(l){return f}return"undefined"===
typeof e.left?f:e}var h={boxModel:"content-box"};b("ie")&&(h.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");h.getPadExtents=function(a,f){a=q.byId(a);var e=f||w.getComputedStyle(a),l=w.toPixelValue;f=l(a,e.paddingLeft);var k=l(a,e.paddingTop),d=l(a,e.paddingRight);a=l(a,e.paddingBottom);return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getBorderExtents=function(a,f){a=q.byId(a);var e=w.toPixelValue,l=f||w.getComputedStyle(a);f="none"!=l.borderLeftStyle?e(a,l.borderLeftWidth):0;var k=
"none"!=l.borderTopStyle?e(a,l.borderTopWidth):0,d="none"!=l.borderRightStyle?e(a,l.borderRightWidth):0;a="none"!=l.borderBottomStyle?e(a,l.borderBottomWidth):0;return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getPadBorderExtents=function(a,f){a=q.byId(a);var e=f||w.getComputedStyle(a);f=h.getPadExtents(a,e);a=h.getBorderExtents(a,e);return{l:f.l+a.l,t:f.t+a.t,r:f.r+a.r,b:f.b+a.b,w:f.w+a.w,h:f.h+a.h}};h.getMarginExtents=function(a,f){a=q.byId(a);var e=f||w.getComputedStyle(a),l=w.toPixelValue;f=l(a,e.marginLeft);
var k=l(a,e.marginTop),d=l(a,e.marginRight);a=l(a,e.marginBottom);return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getMarginBox=function(a,f){a=q.byId(a);f=f||w.getComputedStyle(a);f=h.getMarginExtents(a,f);var e=a.offsetLeft-f.l,l=a.offsetTop-f.t,k=a.parentNode,d=w.toPixelValue;8==b("ie")&&!b("quirks")&&k&&(k=w.getComputedStyle(k),e-="none"!=k.borderLeftStyle?d(a,k.borderLeftWidth):0,l-="none"!=k.borderTopStyle?d(a,k.borderTopWidth):0);return{l:e,t:l,w:a.offsetWidth+f.w,h:a.offsetHeight+f.h}};h.getContentBox=
function(a,f){a=q.byId(a);var e=f||w.getComputedStyle(a);f=a.clientWidth;var l=h.getPadExtents(a,e);var k=h.getBorderExtents(a,e);e=a.offsetLeft+l.l+k.l;var d=a.offsetTop+l.t+k.t;f?k=a.clientHeight:(f=a.offsetWidth-k.w,k=a.offsetHeight-k.h);if(8==b("ie")&&!b("quirks")){var u=a.parentNode,x=w.toPixelValue;u&&(u=w.getComputedStyle(u),e-="none"!=u.borderLeftStyle?x(a,u.borderLeftWidth):0,d-="none"!=u.borderTopStyle?x(a,u.borderTopWidth):0)}return{l:e,t:d,w:f-l.w,h:k-l.h}};h.setContentSize=function(a,
f,e){a=q.byId(a);var l=f.w;f=f.h;p(a)&&(e=h.getPadBorderExtents(a,e),0<=l&&(l+=e.w),0<=f&&(f+=e.h));r(a,NaN,NaN,l,f)};var c={l:0,t:0,w:0,h:0};h.setMarginBox=function(a,f,e){a=q.byId(a);var l=e||w.getComputedStyle(a);e=f.w;var k=f.h,d=p(a)?c:h.getPadBorderExtents(a,l);l=h.getMarginExtents(a,l);if(b("webkit")&&m(a)){var u=a.style;0<=e&&!u.width&&(u.width="4px");0<=k&&!u.height&&(u.height="4px")}0<=e&&(e=Math.max(e-d.w-l.w,0));0<=k&&(k=Math.max(k-d.h-l.h,0));r(a,f.l,f.t,e,k)};h.isBodyLtr=function(a){a=
a||z.doc;return"ltr"==(z.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};h.docScroll=function(a){a=a||z.doc;var f=a.parentWindow||a.defaultView;return"pageXOffset"in f?{x:f.pageXOffset,y:f.pageYOffset}:(f=b("quirks")?z.body(a):a.documentElement)&&{x:h.fixIeBiDiScrollLeft(f.scrollLeft||0,a),y:f.scrollTop||0}};h.getIeDocumentElementOffset=function(a){return{x:0,y:0}};h.fixIeBiDiScrollLeft=function(a,f){f=f||z.doc;var e=b("ie");if(e&&!h.isBodyLtr(f)){var l=b("quirks");f=l?z.body(f):f.documentElement;
var k=z.global;6==e&&!l&&k.frameElement&&f.scrollHeight>f.clientHeight&&(a+=f.clientLeft);return 8>e||l?a+f.clientWidth-f.scrollWidth:-a}return a};h.position=function(a,f){a=q.byId(a);var e=z.body(a.ownerDocument),l=t(a);l={x:l.left,y:l.top,w:l.right-l.left,h:l.bottom-l.top};9>b("ie")&&(l.x-=b("quirks")?e.clientLeft+e.offsetLeft:0,l.y-=b("quirks")?e.clientTop+e.offsetTop:0);f&&(a=h.docScroll(a.ownerDocument),l.x+=a.x,l.y+=a.y);return l};h.getMarginSize=function(a,f){a=q.byId(a);f=h.getMarginExtents(a,
f||w.getComputedStyle(a));a=t(a);return{w:a.right-a.left+f.w,h:a.bottom-a.top+f.h}};h.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var f=a.target;f=f&&f.ownerDocument||document;var e=b("quirks")?f.body:f.documentElement;a.pageX=a.clientX+h.fixIeBiDiScrollLeft(e.scrollLeft||0,f);a.pageY=a.clientY+(e.scrollTop||0)}};return h})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(b,z,q){function w(l,k,d){k=k.toLowerCase();
if("auto"==d){if("height"==k)return l.offsetHeight;if("width"==k)return l.offsetWidth}if("fontweight"==k)switch(d){case 700:return"bold";default:return"normal"}k in a||(a[k]=f.test(k));return a[k]?p(l,d):d}var r={};var m=b("webkit")?function(l){if(1==l.nodeType){var k=l.ownerDocument.defaultView;var d=k.getComputedStyle(l,null);!d&&l.style&&(l.style.display="",d=k.getComputedStyle(l,null))}return d||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(l){return 1==l.nodeType&&l.currentStyle?l.currentStyle:
{}}:function(l){if(1===l.nodeType){var k=l.ownerDocument.defaultView;return(k.opener?k:q.global.window).getComputedStyle(l,null)}return{}};r.getComputedStyle=m;var p=b("ie")?function(l,k){if(!k)return 0;if("medium"==k)return 4;if(k.slice&&"px"==k.slice(-2))return parseFloat(k);var d=l.style,u=l.runtimeStyle,x=d.left,n=u.left;u.left=l.currentStyle.left;try{d.left=k,k=d.pixelLeft}catch(v){k=0}d.left=x;u.left=n;return k}:function(l,k){return parseFloat(k)||0};r.toPixelValue=p;var t=function(l,k){try{return l.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return k?
{}:null}},h=9>b("ie")||10>b("ie")&&b("quirks")?function(l){try{return t(l).Opacity/100}catch(k){return 1}}:function(l){return m(l).opacity},c=9>b("ie")||10>b("ie")&&b("quirks")?function(l,k){""===k&&(k=1);var d=100*k;1===k?(l.style.zoom="",t(l)&&(l.style.filter=l.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(l.style.zoom=1,t(l)?t(l,1).Opacity=d:l.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",t(l,1).Enabled=!0);if("tr"==l.tagName.toLowerCase())for(l=
l.firstChild;l;l=l.nextSibling)"td"==l.tagName.toLowerCase()&&c(l,k);return k}:function(l,k){return l.style.opacity=k},a={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,styleFloat:1,"float":1};r.get=function(l,k){var d=z.byId(l),u=arguments.length;if(2==u&&"opacity"==k)return h(d);k=e[k]?"cssFloat"in d.style?"cssFloat":"styleFloat":k;var x=r.getComputedStyle(d);return 1==u?x:w(d,k,x[k]||d.style[k])};r.set=function(l,k,d){var u=z.byId(l),x=arguments.length,n="opacity"==
k;k=e[k]?"cssFloat"in u.style?"cssFloat":"styleFloat":k;if(3==x)return n?c(u,d):u.style[k]=d;for(var v in k)r.set(l,v,k[v]);return r.getComputedStyle(u)};return r})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(b,z,q,w,r){function m(p,t){var h=function(c,a){return z(c,p,function(f){if(t)return t(f,a);if(!w.isDescendant(f.relatedTarget,c))return a.call(this,f)})};h.bubble=function(c){return m(p,function(a,f){var e=c(a.target),l=a.relatedTarget;
if(e&&e!=(l&&1==l.nodeType&&c(l)))return f.call(e,a)})};return h}q.add("dom-quirks",r.doc&&"BackCompat"==r.doc.compatMode);q.add("events-mouseenter",r.doc&&"onmouseenter"in r.doc.createElement("div"));q.add("events-mousewheel",r.doc&&"onmousewheel"in r.doc);r=q("dom-quirks")&&q("ie")||!q("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(p,t){return p.button&t},isLeft:function(p){return p.button&1},isMiddle:function(p){return p.button&4},isRight:function(p){return p.button&2}}:{LEFT:0,
MIDDLE:1,RIGHT:2,isButton:function(p,t){return p.button==t},isLeft:function(p){return 0==p.button},isMiddle:function(p){return 1==p.button},isRight:function(p){return 2==p.button}};b.mouseButtons=r;b=q("events-mousewheel")?"mousewheel":function(p,t){return z(p,"DOMMouseScroll",function(h){h.wheelDelta=-h.detail;t.call(this,h)})};return{_eventHandler:m,enter:m("mouseover"),leave:m("mouseout"),wheel:b,isLeft:r.isLeft,isMiddle:r.isMiddle,isRight:r.isRight}})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(b,z){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:z("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:z("mac")&&!z("air")?z("safari")?91:224:17}})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(b,z,q,w){var r=b.Color=function(m){m&&this.setColor(m)};r.named={black:[0,0,0],silver:[192,192,192],gray:[128,
128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:w.transparentColor||[0,0,0,0]};z.extend(r,{r:255,g:255,b:255,a:1,_set:function(m,p,t,h){this.r=m;this.g=p;this.b=t;this.a=h},setColor:function(m){z.isString(m)?r.fromString(m,this):z.isArray(m)?r.fromArray(m,this):(this._set(m.r,m.g,m.b,m.a),m instanceof r||
this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+q.map(["r","g","b"],function(m){m=this[m].toString(16);return 2>m.length?"0"+m:m},this).join("")},toCss:function(m){var p=this.r+", "+this.g+", "+this.b;return(m?"rgba("+p+", "+this.a:"rgb("+p)+")"},toString:function(){return this.toCss(!0)}});r.blendColors=b.blendColors=function(m,p,t,h){h=h||new r;h.r=Math.round(m.r+
(p.r-m.r)*t);h.g=Math.round(m.g+(p.g-m.g)*t);h.b=Math.round(m.b+(p.b-m.b)*t);h.a=m.a+(p.a-m.a)*t;return h.sanitize()};r.fromRgb=b.colorFromRgb=function(m,p){return(m=m.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&r.fromArray(m[1].split(/\s*,\s*/),p)};r.fromHex=b.colorFromHex=function(m,p){var t=p||new r,h=4==m.length?4:8,c=(1<<h)-1;m=Number("0x"+m.substr(1));if(isNaN(m))return null;q.forEach(["b","g","r"],function(a){var f=m&c;m>>=h;t[a]=4==h?17*f:f});t.a=1;return t};r.fromArray=b.colorFromArray=
function(m,p){p=p||new r;p._set(Number(m[0]),Number(m[1]),Number(m[2]),Number(m[3]));isNaN(p.a)&&(p.a=1);return p.sanitize()};r.fromString=b.colorFromString=function(m,p){var t=r.named[m];return t&&r.fromArray(t,p)||r.fromRgb(m,p)||r.fromHex(m,p)};return r})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(b){return b})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(b,z,q){var w=window,r={addOnWindowUnload:function(m,p){b.windowUnloaded||q(w,"unload",b.windowUnloaded=function(){});q(w,"unload",z.hitch(m,p))},addOnUnload:function(m,p){q(w,"beforeunload",z.hitch(m,p))}};b.addOnWindowUnload=r.addOnWindowUnload;b.addOnUnload=r.addOnUnload;return r})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(b,z,q,w,r,m,p,t){b.byId=z.byId;
b.isDescendant=z.isDescendant;b.setSelectable=z.setSelectable;b.getAttr=w.get;b.setAttr=w.set;b.hasAttr=w.has;b.removeAttr=w.remove;b.getNodeProp=w.getNodeProp;b.attr=function(h,c,a){return 2==arguments.length?w["string"==typeof c?"get":"set"](h,c):w.set(h,c,a)};b.hasClass=m.contains;b.addClass=m.add;b.removeClass=m.remove;b.toggleClass=m.toggle;b.replaceClass=m.replace;b._toDom=b.toDom=p.toDom;b.place=p.place;b.create=p.create;b.empty=function(h){p.empty(h)};b._destroyElement=b.destroy=function(h){p.destroy(h)};
b._getPadExtents=b.getPadExtents=t.getPadExtents;b._getBorderExtents=b.getBorderExtents=t.getBorderExtents;b._getPadBorderExtents=b.getPadBorderExtents=t.getPadBorderExtents;b._getMarginExtents=b.getMarginExtents=t.getMarginExtents;b._getMarginSize=b.getMarginSize=t.getMarginSize;b._getMarginBox=b.getMarginBox=t.getMarginBox;b.setMarginBox=t.setMarginBox;b._getContentBox=b.getContentBox=t.getContentBox;b.setContentSize=t.setContentSize;b._isBodyLtr=b.isBodyLtr=t.isBodyLtr;b._docScroll=b.docScroll=
t.docScroll;b._getIeDocumentElementOffset=b.getIeDocumentElementOffset=t.getIeDocumentElementOffset;b._fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft=t.fixIeBiDiScrollLeft;b.position=t.position;b.marginBox=function(h,c){return c?t.setMarginBox(h,c):t.getMarginBox(h)};b.contentBox=function(h,c){return c?t.setContentSize(h,c):t.getContentBox(h)};b.coords=function(h,c){b.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");h=z.byId(h);var a=q.getComputedStyle(h);a=t.getMarginBox(h,a);h=
t.position(h,c);a.x=h.x;a.y=h.y;return a};b.getProp=r.get;b.setProp=r.set;b.prop=function(h,c,a){return 2==arguments.length?r["string"==typeof c?"get":"set"](h,c):r.set(h,c,a)};b.getStyle=q.get;b.setStyle=q.set;b.getComputedStyle=q.getComputedStyle;b.__toPixelValue=b.toPixelValue=q.toPixelValue;b.style=function(h,c,a){switch(arguments.length){case 1:return q.get(h);case 2:return q["string"==typeof c?"get":"set"](h,c)}return q.set(h,c,a)};return b})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(b,z,q,w,r,m){function p(c,a){c=c.getAttributeNode&&c.getAttributeNode(a);return!!c&&c.specified}var t={innerHTML:1,textContent:1,className:1,htmlFor:z("ie")?1:0,value:1},h={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};b.has=function(c,a){var f=a.toLowerCase();return!!t[m.names[f]||a]||p(w.byId(c),h[f]||a)};b.get=function(c,a){c=w.byId(c);var f=a.toLowerCase(),e=m.names[f]||a,l=c[e];if(t[e]&&"undefined"!=typeof l)return l;if("textContent"==e)return m.get(c,e);if("href"!=
e&&("boolean"==typeof l||q.isFunction(l)))return l;a=h[f]||a;return p(c,a)?c.getAttribute(a):null};b.set=function(c,a,f){c=w.byId(c);if(2==arguments.length){for(var e in a)b.set(c,e,a[e]);return c}e=a.toLowerCase();var l=m.names[e]||a,k=t[l];if("style"==l&&"string"!=typeof f)return r.set(c,f),c;if(k||"boolean"==typeof f||q.isFunction(f))return m.set(c,a,f);c.setAttribute(h[e]||a,f);return c};b.remove=function(c,a){w.byId(c).removeAttribute(h[a.toLowerCase()]||a)};b.getNodeProp=function(c,a){c=w.byId(c);
var f=a.toLowerCase(),e=m.names[f]||a;if(e in c&&"href"!=e)return c[e];a=h[f]||a;return p(c,a)?c.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(b,z,q,w,r,m,p,t){function h(e){var l="";e=e.childNodes;for(var k=0,d;d=e[k];k++)8!=d.nodeType&&(l=1==d.nodeType?l+h(d):l+d.nodeValue);return l}var c={},a=1,f=z._scopeName+"attrid";q.add("dom-textContent",function(e,l,k){return"textContent"in
k});b.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};b.get=function(e,l){e=r.byId(e);var k=l.toLowerCase();l=b.names[k]||l;return"textContent"!=l||q("dom-textContent")?e[l]:h(e)};b.set=function(e,l,k){e=r.byId(e);if(2==arguments.length&&"string"!=typeof l){for(var d in l)b.set(e,d,l[d]);return e}d=l.toLowerCase();d=b.names[d]||l;if("style"==d&&"string"!=
typeof k)return m.set(e,k),e;if("innerHTML"==d)return q("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(p.empty(e),e.appendChild(p.toDom(k,e.ownerDocument))):e[d]=k,e;if("textContent"==d&&!q("dom-textContent"))return p.empty(e),e.appendChild(e.ownerDocument.createTextNode(k)),e;if(w.isFunction(k)){var u=e[f];u||(u=a++,e[f]=u);c[u]||(c[u]={});var x=c[u][d];if(x)t.disconnect(x);else try{delete e[d]}catch(n){}k?c[u][d]=t.connect(e,d,k):e[d]=null;return e}e[d]=
k;return e}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(b,z,q,w,r,m){function p(x,n){var v=n.parentNode;v&&v.insertBefore(x,n)}function t(x){if("innerHTML"in x)try{x.innerHTML="";return}catch(v){}for(var n;n=x.lastChild;)x.removeChild(n)}var h={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},c=/<\s*([\w:]+)/,a={},f=0,e="__"+z._scopeName+"ToDomId",l;for(l in h)h.hasOwnProperty(l)&&(z=h[l],z.pre="option"==l?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+z.join("\x3e\x3c")+"\x3e",z.post="\x3c/"+z.reverse().join("\x3e\x3c/")+"\x3e");var k;8>=q("ie")&&(k=function(x){x.__dojo_html5_tested="yes";var n=d("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},x.body);1!==n.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(v){x.createElement(v)});u(n)});b.toDom=function(x,n){n=n||w.doc;var v=n[e];v||(n[e]=v=++f+"",a[v]=n.createElement("div"));8>=q("ie")&&!n.__dojo_html5_tested&&n.body&&k(n);x+="";var D=x.match(c),Q=D?D[1].toLowerCase():"";v=a[v];if(D&&h[Q])for(D=h[Q],v.innerHTML=D.pre+x+D.post,x=D.length;x;--x)v=v.firstChild;else v.innerHTML=x;if(1==v.childNodes.length)return v.removeChild(v.firstChild);for(x=n.createDocumentFragment();n=v.firstChild;)x.appendChild(n);return x};b.place=function(x,n,v){n=r.byId(n);
"string"==typeof x&&(x=/^\s*</.test(x)?b.toDom(x,n.ownerDocument):r.byId(x));if("number"==typeof v){var D=n.childNodes;!D.length||D.length<=v?n.appendChild(x):p(x,D[0>v?0:v])}else switch(v){case "before":p(x,n);break;case "after":v=x;(D=n.parentNode)&&(D.lastChild==n?D.appendChild(v):D.insertBefore(v,n.nextSibling));break;case "replace":n.parentNode.replaceChild(x,n);break;case "only":b.empty(n);n.appendChild(x);break;case "first":if(n.firstChild){p(x,n.firstChild);break}default:n.appendChild(x)}return x};
var d=b.create=function(x,n,v,D){var Q=w.doc;v&&(v=r.byId(v),Q=v.ownerDocument);"string"==typeof x&&(x=Q.createElement(x));n&&m.set(x,n);v&&b.place(x,v,D);return x};b.empty=function(x){t(r.byId(x))};var u=b.destroy=function(x){if(x=r.byId(x)){var n=x;x=x.parentNode;n.firstChild&&t(n);x&&(q("ie")&&x.canHaveChildren&&"removeNode"in n?n.removeNode(!1):x.removeChild(n))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(b,z,q){function w(h){if("string"==typeof h||
h instanceof String){if(h&&!m.test(h))return p[0]=h,p;h=h.split(m);h.length&&!h[0]&&h.shift();h.length&&!h[h.length-1]&&h.pop();return h}return h?z.filter(h,function(c){return c}):[]}var r,m=/\s+/,p=[""],t={};return r={contains:function(h,c){return 0<=(" "+q.byId(h).className+" ").indexOf(" "+c+" ")},add:function(h,c){h=q.byId(h);c=w(c);var a=h.className;a=a?" "+a+" ":" ";var f=a.length;for(var e=0,l=c.length,k;e<l;++e)(k=c[e])&&0>a.indexOf(" "+k+" ")&&(a+=k+" ");f<a.length&&(h.className=a.substr(1,
a.length-2))},remove:function(h,c){h=q.byId(h);if(void 0!==c){c=w(c);var a=" "+h.className+" ";for(var f=0,e=c.length;f<e;++f)a=a.replace(" "+c[f]+" "," ");a=b.trim(a)}else a="";h.className!=a&&(h.className=a)},replace:function(h,c,a){h=q.byId(h);t.className=h.className;r.remove(t,a);r.add(t,c);h.className!==t.className&&(h.className=t.className)},toggle:function(h,c,a){h=q.byId(h);if(void 0===a){c=w(c);for(var f=0,e=c.length,l;f<e;++f)l=c[f],r[r.contains(h,l)?"remove":"add"](h,l)}else r[a?"add":
"remove"](h,c);return a}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(b,z,q){z=z.NodeList;var w=z.prototype;w.connect=z._adaptAsForEach(function(){return b.connect.apply(this,arguments)});w.coords=z._adaptAsMap(b.coords);z.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");q.forEach(z.events,function(r){var m="on"+r;w[m]=function(p,
t){return this.connect(m,p,t)}});return b.NodeList=z})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(b,z,q,w,r,m,p,t){function h(n,v){var D=function(y,A){if("string"==typeof A&&(A=q.byId(A),!A))return new v([]);y="string"==typeof y?n(y,A):y?y.end&&y.on?y:[y]:[];return y.end&&y.on?y:new v(y)};D.matches=n.match||function(y,A,I){return 0<D.filter([y],A,I).length};D.filter=n.filter||function(y,
A,I){return D(A,I).filter(function(C){return-1<r.indexOf(y,C)})};if("function"!=typeof n){var Q=n.search;n=function(y,A){return Q(A||document,y)}}return D}z.add("array-extensible",function(){return 1==m.delegate([],{length:1}).length&&!z("bug-for-in-skips-shadowed")});var c=Array.prototype,a=c.slice,f=c.concat,e=r.forEach,l=function(n,v,D){v=[0].concat(a.call(v,0));D=D||b.global;return function(Q){v[0]=Q;return n.apply(D,v)}},k=function(n){var v=this instanceof d&&z("array-extensible");"number"==
typeof n&&(n=Array(n));var D=n&&"length"in n?n:arguments;if(v||!D.sort){for(var Q=v?this:[],y=Q.length=D.length,A=0;A<y;A++)Q[A]=D[A];if(v)return Q;D=Q}m._mixin(D,u);D._NodeListCtor=function(I){return d(I)};return D},d=k,u=d.prototype=z("array-extensible")?[]:{};d._wrap=u._wrap=function(n,v,D){n=new (D||this._NodeListCtor||d)(n);return v?n._stash(v):n};d._adaptAsMap=function(n,v){return function(){return this.map(l(n,arguments,v))}};d._adaptAsForEach=function(n,v){return function(){this.forEach(l(n,
arguments,v));return this}};d._adaptAsFilter=function(n,v){return function(){return this.filter(l(n,arguments,v))}};d._adaptWithCondition=function(n,v,D){return function(){var Q=arguments,y=l(n,Q,D);if(v.call(D||b.global,Q))return this.map(y);this.forEach(y);return this}};e(["slice","splice"],function(n){var v=c[n];u[n]=function(){return this._wrap(v.apply(this,arguments),"slice"==n?this:null)}});e(["indexOf","lastIndexOf","every","some"],function(n){var v=r[n];u[n]=function(){return v.apply(b,[this].concat(a.call(arguments,
0)))}});m.extend(k,{constructor:d,_NodeListCtor:d,toString:function(){return this.join(",")},_stash:function(n){this._parent=n;return this},on:function(n,v){var D=this.map(function(Q){return w(Q,n,v)});D.remove=function(){for(var Q=0;Q<D.length;Q++)D[Q].remove()};return D},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(n){var v=a.call(this,0),D=r.map(arguments,function(Q){return a.call(Q,0)});return this._wrap(f.apply(v,D),this)},map:function(n,v){return this._wrap(r.map(this,
n,v),this)},forEach:function(n,v){e(this,n,v);return this},filter:function(n){var v=arguments,D=this,Q=0;if("string"==typeof n){D=x._filterResult(this,v[0]);if(1==v.length)return D._stash(this);Q=1}return this._wrap(r.filter(D,v[Q],v[Q+1]),this)},instantiate:function(n,v){var D=m.isFunction(n)?n:m.getObject(n);v=v||{};return this.forEach(function(Q){new D(v,Q)})},at:function(){var n=new this._NodeListCtor(0);e(arguments,function(v){0>v&&(v=this.length+v);this[v]&&n.push(this[v])},this);return n._stash(this)}});
var x=h(t,k);b.query=h(t,function(n){return k(n)});x.load=function(n,v,D){p.load(n,v,function(Q){D(h(Q,k))})};b._filterQueryResult=x._filterResult=function(n,v,D){return new k(x.filter(n,v,D))};b.NodeList=x.NodeList=k;return x})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(b,z,q,w,r){var m=w.trim,p=q.forEach,t="BackCompat"==r.doc.compatMode,h=!1,c=function(){return!0},a=function(E){E=0<="\x3e~+".indexOf(E.slice(-1))?E+" * ":
E+" ";for(var G=function(Ia,Ja){return m(E.slice(Ia,Ja))},M=[],P=-1,aa=-1,ba=-1,la=-1,Z=-1,ea=-1,pa=-1,ma,ua="",sa="",Fa,ja=0,Ha=E.length,fa=null,xa=null,za=function(){0<=ea&&(fa.id=G(ea,ja).replace(/\\/g,""),ea=-1);if(0<=pa){var Ia=pa==ja?null:G(pa,ja);fa[0>"\x3e~+".indexOf(Ia)?"tag":"oper"]=Ia;pa=-1}0<=Z&&(fa.classes.push(G(Z+1,ja).replace(/\\/g,"")),Z=-1)};ua=sa,sa=E.charAt(ja),ja<Ha;ja++)"\\"!=ua&&(fa||(Fa=ja,fa={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return h?
this.otag:this.tag}},pa=ja),ma?sa==ma&&(ma=null):"'"==sa||'"'==sa?ma=sa:0<=P?"]"==sa?(xa.attr?xa.matchFor=G(ba||P+1,ja):xa.attr=G(P+1,ja),!(P=xa.matchFor)||'"'!=P.charAt(0)&&"'"!=P.charAt(0)||(xa.matchFor=P.slice(1,-1)),xa.matchFor&&(xa.matchFor=xa.matchFor.replace(/\\/g,"")),fa.attrs.push(xa),xa=null,P=ba=-1):"\x3d"==sa&&(ba=0<="|~^$*".indexOf(ua)?ua:"",xa.type=ba+sa,xa.attr=G(P+1,ja-ba.length),ba=ja+1):0<=aa?")"==sa&&(0<=la&&(xa.value=G(aa+1,ja)),la=aa=-1):"#"==sa?(za(),ea=ja+1):"."==sa?(za(),Z=
ja):":"==sa?(za(),la=ja):"["==sa?(za(),P=ja,xa={}):"("==sa?(0<=la&&(xa={name:G(la+1,ja),value:null},fa.pseudos.push(xa)),aa=ja):" "==sa&&ua!=sa&&(za(),0<=la&&fa.pseudos.push({name:G(la+1,ja)}),fa.loops=fa.pseudos.length||fa.attrs.length||fa.classes.length,fa.oquery=fa.query=G(Fa,ja),fa.otag=fa.tag=fa.oper?null:fa.tag||"*",fa.tag&&(fa.tag=fa.tag.toUpperCase()),M.length&&M[M.length-1].oper&&(fa.infixOper=M.pop(),fa.query=fa.infixOper.query+" "+fa.query),M.push(fa),fa=null));return M},f=function(E,G){return E?
G?function(){return E.apply(window,arguments)&&G.apply(window,arguments)}:E:G},e=function(E,G){G=G||[];E&&G.push(E);return G},l=function(E){return 1==E.nodeType},k=function(E,G){return E?"class"==G?E.className||"":"for"==G?E.htmlFor||"":"style"==G?E.style.cssText||"":(h?E.getAttribute(G):E.getAttribute(G,2))||"":""},d={"*\x3d":function(E,G){return function(M){return 0<=k(M,E).indexOf(G)}},"^\x3d":function(E,G){return function(M){return 0==k(M,E).indexOf(G)}},"$\x3d":function(E,G){return function(M){M=
" "+k(M,E);var P=M.lastIndexOf(G);return-1<P&&P==M.length-G.length}},"~\x3d":function(E,G){var M=" "+G+" ";return function(P){return 0<=(" "+k(P,E)+" ").indexOf(M)}},"|\x3d":function(E,G){var M=G+"-";return function(P){P=k(P,E);return P==G||0==P.indexOf(M)}},"\x3d":function(E,G){return function(M){return k(M,E)==G}}};w=r.doc.documentElement;var u=!(w.nextElementSibling||"nextElementSibling"in w),x=u?"nextSibling":"nextElementSibling",n=u?"previousSibling":"previousElementSibling",v=u?l:c,D=function(E){for(;E=
E[n];)if(v(E))return!1;return!0},Q=function(E){for(;E=E[x];)if(v(E))return!1;return!0},y=function(E){var G=E.parentNode;G=7!=G.nodeType?G:G.nextSibling;var M=0,P=G.children||G.childNodes,aa=E._i||E.getAttribute("_i")||-1,ba=G._l||("undefined"!==typeof G.getAttribute?G.getAttribute("_l"):-1);if(!P)return-1;P=P.length;if(ba==P&&0<=aa&&0<=ba)return aa;z("ie")&&"undefined"!==typeof G.setAttribute?G.setAttribute("_l",P):G._l=P;aa=-1;for(G=G.firstElementChild||G.firstChild;G;G=G[x])v(G)&&(z("ie")?G.setAttribute("_i",
++M):G._i=++M,E===G&&(aa=M));return aa},A=function(E){return!(y(E)%2)},I=function(E){return y(E)%2},C={checked:function(E,G){return function(M){return!("checked"in M?!M.checked:!M.selected)}},disabled:function(E,G){return function(M){return M.disabled}},enabled:function(E,G){return function(M){return!M.disabled}},"first-child":function(){return D},"last-child":function(){return Q},"only-child":function(E,G){return function(M){return D(M)&&Q(M)}},empty:function(E,G){return function(M){var P=M.childNodes;
for(M=M.childNodes.length-1;0<=M;M--){var aa=P[M].nodeType;if(1===aa||3==aa)return!1}return!0}},contains:function(E,G){E=G.charAt(0);if('"'==E||"'"==E)G=G.slice(1,-1);return function(M){return 0<=M.innerHTML.indexOf(G)}},not:function(E,G){E=a(G)[0];G={el:1};"*"!=E.tag&&(G.tag=1);E.classes.length||(G.classes=1);var M=B(E,G);return function(P){return!M(P)}},"nth-child":function(E,G){E=parseInt;if("odd"==G)return I;if("even"==G)return A;if(-1!=G.indexOf("n")){G=G.split("n",2);var M=G[0]?"-"==G[0]?-1:
E(G[0]):1,P=G[1]?E(G[1]):0,aa=0,ba=-1;0<M?0>P?P=P%M&&M+P%M:0<P&&(P>=M&&(aa=P-P%M),P%=M):0>M&&(M*=-1,0<P&&(ba=P,P%=M));if(0<M)return function(Z){Z=y(Z);return Z>=aa&&(0>ba||Z<=ba)&&Z%M==P};G=P}var la=E(G);return function(Z){return y(Z)==la}}},H=9>z("ie")||9==z("ie")&&z("quirks")?function(E){var G=E.toLowerCase();"class"==G&&(E="className");return function(M){return h?M.getAttribute(E):M[E]||M[G]}}:function(E){return function(G){return G&&G.getAttribute&&G.hasAttribute(E)}},B=function(E,G){if(!E)return c;
G=G||{};var M=null;"el"in G||(M=f(M,l));"tag"in G||"*"!=E.tag&&(M=f(M,function(P){return P&&(h?P.tagName:P.tagName.toUpperCase())==E.getTag()}));"classes"in G||p(E.classes,function(P,aa,ba){var la=new RegExp("(?:^|\\s)"+P+"(?:\\s|$)");M=f(M,function(Z){return la.test(Z.className)});M.count=aa});"pseudos"in G||p(E.pseudos,function(P){var aa=P.name;C[aa]&&(M=f(M,C[aa](aa,P.value)))});"attrs"in G||p(E.attrs,function(P){var aa,ba=P.attr;P.type&&d[P.type]?aa=d[P.type](ba,P.matchFor):ba.length&&(aa=H(ba));
aa&&(M=f(M,aa))});"id"in G||E.id&&(M=f(M,function(P){return!!P&&P.id==E.id}));M||"default"in G||(M=c);return M},K=function(E){return function(G,M,P){for(;G=G[x];)if(!u||l(G)){P&&!ia(G,P)||!E(G)||M.push(G);break}return M}},J=function(E){return function(G,M,P){for(G=G[x];G;){if(v(G)){if(P&&!ia(G,P))break;E(G)&&M.push(G)}G=G[x]}return M}},R=function(E,G){var M=function(P){var aa=[];try{aa=Array.prototype.slice.call(P)}catch(Z){for(var ba=0,la=P.length;ba<la;ba++)aa.push(P[ba])}return aa};E=E||c;return function(P,
aa,ba){var la=0,Z=[];Z=M(P.children||P.childNodes);for(G&&q.forEach(Z,function(ea){1===ea.nodeType&&(Z=Z.concat(M(ea.getElementsByTagName("*"))))});P=Z[la++];)v(P)&&(!ba||ia(P,ba))&&E(P,la)&&aa.push(P);return aa}},W=function(E,G){for(E=E.parentNode;E&&E!=G;)E=E.parentNode;return!!E},Y={},S=function(E){var G=Y[E.query];if(G)return G;var M=E.infixOper;M=M?M.oper:"";var P=B(E,{el:1}),aa="*"==E.tag,ba=r.doc.getElementsByClassName;if(M)ba={el:1},aa&&(ba.tag=1),P=B(E,ba),"+"==M?G=K(P):"~"==M?G=J(P):"\x3e"==
M&&(G=R(P));else if(E.id)P=!E.loops&&aa?c:B(E,{el:1,id:1}),G=function(Z,ea){var pa=b.byId(E.id,Z.ownerDocument||Z);Z.ownerDocument&&!W(Z,Z.ownerDocument)&&q.some(11===Z.nodeType?Z.childNodes:[Z],function(ma){ma=R(function(ua){return ua.id===E.id},!0)(ma,[]);if(ma.length)return pa=ma[0],!1});if(pa&&P(pa)&&(9==Z.nodeType||W(pa,Z)))return e(pa,ea)};else if(ba&&/\{\s*\[native code\]\s*\}/.test(String(ba))&&E.classes.length&&!t){P=B(E,{el:1,classes:1,id:1});var la=E.classes.join(" ");G=function(Z,ea,pa){ea=
e(0,ea);for(var ma,ua=0,sa=Z.getElementsByClassName(la);ma=sa[ua++];)P(ma,Z)&&ia(ma,pa)&&ea.push(ma);return ea}}else aa||E.loops?(P=B(E,{el:1,tag:1,id:1}),G=function(Z,ea,pa){ea=e(0,ea);for(var ma,ua=0,sa=(ma=E.getTag())?Z.getElementsByTagName(ma):[];ma=sa[ua++];)P(ma,Z)&&ia(ma,pa)&&ea.push(ma);return ea}):G=function(Z,ea,pa){ea=e(0,ea);var ma=0,ua=E.getTag();for(ua=ua?Z.getElementsByTagName(ua):[];Z=ua[ma++];)ia(Z,pa)&&ea.push(Z);return ea};return Y[E.query]=G},U={},L={},T=function(E){var G=a(m(E));
if(1==G.length){var M=S(G[0]);return function(P){if(P=M(P,[]))P.nozip=!0;return P}}return function(P){P=e(P);for(var aa,ba,la=G.length,Z,ea,pa=0;pa<la;pa++){ea=[];aa=G[pa];ba=P.length-1;0<ba&&(Z={},ea.nozip=!0);ba=S(aa);for(var ma=0;aa=P[ma];ma++)ba(aa,ea,Z);if(!ea.length)break;P=ea}return ea}},da=z("ie")?"commentStrip":"nozip",ha=!!r.doc.querySelectorAll,ca=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,qa=function(E,G,M,P){return M?(G?G+" ":"")+M+(P?" "+P:""):E},ta=/([^[]*)([^\]]*])?/g,oa=function(E,
G,M){return G.replace(ca,qa)+(M||"")},va=function(E,G){E=E.replace(ta,oa);if(ha){var M=L[E];if(M&&!G)return M}if(M=U[E])return M;M=E.charAt(0);var P=-1==E.indexOf(" ");0<=E.indexOf("#")&&P&&(G=!0);if(!ha||G||-1!="\x3e~+".indexOf(M)||z("ie")&&-1!=E.indexOf(":")||t&&0<=E.indexOf(".")||-1!=E.indexOf(":contains")||-1!=E.indexOf(":checked")||-1!=E.indexOf("|\x3d")){var aa=E.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return U[E]=2>aa.length?T(E):function(la){for(var Z=0,ea=[],pa;pa=aa[Z++];)ea=
ea.concat(T(pa)(la));return ea}}var ba=0<="\x3e~+".indexOf(E.charAt(E.length-1))?E+" *":E;return L[E]=function(la){if(9==la.nodeType||P)try{var Z=la.querySelectorAll(ba);Z[da]=!0;return Z}catch(ea){}return va(E,!0)(la)}},na=0,ra=z("ie")?function(E){return h?E.getAttribute("_uid")||E.setAttribute("_uid",++na)||na:E.uniqueID}:function(E){return E._uid||(E._uid=++na)},ia=function(E,G){if(!G)return 1;E=ra(E);return G[E]?0:G[E]=1},wa=function(E){if(E&&E.nozip)return E;if(!E||!E.length)return[];if(2>E.length)return[E[0]];
var G=[];na++;var M,P;if(z("ie")&&h){var aa=na+"";for(M=0;M<E.length;M++)(P=E[M])&&P.getAttribute("_zipIdx")!=aa&&(G.push(P),P.setAttribute("_zipIdx",aa))}else if(z("ie")&&E.commentStrip)try{for(M=0;M<E.length;M++)(P=E[M])&&l(P)&&G.push(P)}catch(ba){}else for(M=0;M<E.length;M++)(P=E[M])&&P._zipIdx!=na&&(G.push(P),P._zipIdx=na);return G},ya=function(E,G){G=G||r.doc;h="div"===(G.ownerDocument||G).createElement("div").tagName;return(E=va(E)(G))&&E.nozip?E:wa(E)};ya.filter=function(E,G,M){var P=[],aa=
a(G);aa=1!=aa.length||/[^\w#\.]/.test(G)?function(Z){return-1!=q.indexOf(ya(G,b.byId(M)),Z)}:B(aa[0]);for(var ba=0,la;la=E[ba];ba++)aa(la)&&P.push(la);return P};return ya})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(b,z,q,w,r,m,p,t,h){function c(u){return function(x,n,v){return 2==arguments.length?u["string"==typeof n?"get":"set"](x,n):u.set(x,n,v)}}var a=function(u){return 1==
u.length&&"string"==typeof u[0]},f=function(u){var x=u.parentNode;x&&x.removeChild(u)},e=z.NodeList,l=e._adaptWithCondition,k=e._adaptAsForEach,d=e._adaptAsMap;w.extend(e,{_normalize:function(u,x){var n=!0===u.parse;if("string"==typeof u.template){var v=u.templateFunc||b.string&&b.string.substitute;u=v?v(u.template,u):u}v=typeof u;"string"==v||"number"==v?(u=m.toDom(u,x&&x.ownerDocument),u=11==u.nodeType?w._toArray(u.childNodes):[u]):w.isArrayLike(u)?w.isArray(u)||(u=w._toArray(u)):u=[u];n&&(u._runParse=
!0);return u},_cloneNode:function(u){return u.cloneNode(!0)},_place:function(u,x,n,v){if(1==x.nodeType||"only"!=n)for(var D,Q=u.length,y=Q-1;0<=y;y--){var A=v?this._cloneNode(u[y]):u[y];if(u._runParse&&b.parser&&b.parser.parse)for(D||(D=x.ownerDocument.createElement("div")),D.appendChild(A),b.parser.parse(D),A=D.firstChild;D.firstChild;)D.removeChild(D.firstChild);y==Q-1?m.place(A,x,n):x.parentNode.insertBefore(A,x);x=A}},position:d(p.position),attr:l(c(t),a),style:l(c(h),a),addClass:k(r.add),removeClass:k(r.remove),
toggleClass:k(r.toggle),replaceClass:k(r.replace),empty:k(m.empty),removeAttr:k(t.remove),marginBox:d(p.getMarginBox),place:function(u,x){var n=z(u)[0];return this.forEach(function(v){m.place(v,n,x)})},orphan:function(u){return(u?z._filterResult(this,u):this).forEach(f)},adopt:function(u,x){return z(u).place(this[0],x)._stash(this)},query:function(u){if(!u)return this;var x=new e;this.map(function(n){z(u,n).forEach(function(v){void 0!==v&&x.push(v)})});return x._stash(this)},filter:function(u){var x=
arguments,n=this,v=0;if("string"==typeof u){n=z._filterResult(this,x[0]);if(1==x.length)return n._stash(this);v=1}return this._wrap(q.filter(n,x[v],x[v+1]),this)},addContent:function(u,x){u=this._normalize(u,this[0]);for(var n=0,v;v=this[n];n++)u.length?this._place(u,v,x,0<n):m.empty(v);return this}});return e})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(b,z,q,w,r,m,p,t,h){var c=q.mixin,a={},f=a._Line=
function(n,v){this.start=n;this.end=v};f.prototype.getValue=function(n){return(this.end-this.start)*n+this.start};var e=a.Animation=function(n){c(this,n);q.isArray(this.curve)&&(this.curve=new f(this.curve[0],this.curve[1]))};e.prototype=new w;q.extend(e,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var n=this._percent,v=this.easing;return v?v(n):n},_fire:function(n,v){v=v||[];if(this[n])if(z.debugAtAllCosts)this[n].apply(this,v);else try{this[n].apply(this,v)}catch(D){console.error("exception in animation handler for:",
n),console.error(D)}return this},play:function(n,v){this._delayTimer&&this._clearTimer();if(v)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);n=n||this.delay;v=q.hitch(this,"_play",v);if(0<n)return this._delayTimer=setTimeout(v,n),this;v();return this},_play:function(n){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);
this._active=!0;this._paused=!1;n=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[n]));this._fire("onPlay",[n]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(n,v){this._stopTimer();this._active=this._paused=!0;this._percent=
n;v&&this.play();return this},stop:function(n){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();n&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var n=(new Date).valueOf();n=0===this.duration?1:(n-this._startTime)/this.duration;1<=n&&(n=1);this._percent=
n;this.easing&&(n=this.easing(n));this._fire("onAnimate",[this.curve.getValue(n)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var l=0,k=null,d={run:function(){}};
q.extend(e,{_startTimer:function(){this._timer||(this._timer=m.after(d,"run",q.hitch(this,"_cycle"),!0),l++);k||(k=setInterval(q.hitch(d,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,l--);0>=l&&(clearInterval(k),k=null,l=0)}});var u=p("ie")?function(n){var v=n.style;v.width.length||"auto"!=h.get(n,"width")||(v.width="auto")}:function(){};a._fade=function(n){n.node=t.byId(n.node);var v=c({properties:{}},n);n=v.properties.opacity={};n.start="start"in v?
v.start:function(){return+h.get(v.node,"opacity")||0};n.end=v.end;n=a.animateProperty(v);m.after(n,"beforeBegin",q.partial(u,v.node),!0);return n};a.fadeIn=function(n){return a._fade(c({end:1},n))};a.fadeOut=function(n){return a._fade(c({end:0},n))};a._defaultEasing=function(n){return.5+Math.sin((n+1.5)*Math.PI)/2};var x=function(n){this._properties=n;for(var v in n){var D=n[v];D.start instanceof r&&(D.tempColor=new r)}};x.prototype.getValue=function(n){var v={},D;for(D in this._properties){var Q=
this._properties[D],y=Q.start;y instanceof r?v[D]=r.blendColors(y,Q.end,n,Q.tempColor).toCss():q.isArray(y)||(v[D]=(Q.end-y)*n+y+("opacity"!=D?Q.units||"px":0))}return v};a.animateProperty=function(n){var v=n.node=t.byId(n.node);n.easing||(n.easing=b._defaultEasing);n=new e(n);m.after(n,"beforeBegin",q.hitch(n,function(){var D={},Q;for(Q in this.properties){if("width"==Q||"height"==Q)this.node.display="block";var y=this.properties[Q];q.isFunction(y)&&(y=y(v));y=D[Q]=c({},q.isObject(y)?y:{end:y});
q.isFunction(y.start)&&(y.start=y.start(v));q.isFunction(y.end)&&(y.end=y.end(v));var A=0<=Q.toLowerCase().indexOf("color"),I=function(C,H){var B={height:C.offsetHeight,width:C.offsetWidth}[H];if(void 0!==B)return B;B=h.get(C,H);return"opacity"==H?+B:A?B:parseFloat(B)};"end"in y?"start"in y||(y.start=I(v,Q)):y.end=I(v,Q);A?(y.start=new r(y.start),y.end=new r(y.end)):y.start="opacity"==Q?+y.start:parseFloat(y.start)}this.curve=new x(D)}),!0);m.after(n,"onAnimate",q.hitch(h,"set",n.node),!0);return n};
a.anim=function(n,v,D,Q,y,A){return a.animateProperty({node:n,duration:D||e.prototype.duration,properties:v,easing:Q,onEnd:y}).play(A||0)};c(b,a);b._Animation=e;return a})},"*noref":1}});(function(){var b=this.require;b({cache:{}});!b.async&&b(["dojo"]);b.boot&&b.apply(null,b.boot)})();// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.38/esri/copyright.txt for details.
//>>built
require({cache:{"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(D,w,a,t){return w("dojo.fx.Toggler",null,{node:null,showFunc:a.fadeIn,hideFunc:a.fadeOut,showDuration:200,hideDuration:200,constructor:function(l){D.mixin(this,l);this.node=l.node;this._showArgs=D.mixin({},l);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=D.mixin({},l);this._hideArgs.node=this.node;
this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);t.after(this.showAnim,"beforeBegin",D.hitch(this.hideAnim,"stop",!0),!0);t.after(this.hideAnim,"beforeBegin",D.hitch(this.showAnim,"stop",!0),!0)},show:function(l){return this.showAnim.play(l||0)},hide:function(l){return this.hideAnim.play(l||0)}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(D,w,a,t,l){var n={};D.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),
function(h){n[h]=t[h]});a.mixin(n,{defaultDuration:w.defaultDuration||200});a.mixin(l,n);return l})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(D,w,a){var t={},l={},n={length:0,add:function(h){if(l[h.id])throw Error("Tried to register widget with id\x3d\x3d"+h.id+" but that id is already registered");l[h.id]=h;this.length++},remove:function(h){l[h]&&(delete l[h],this.length--)},byId:function(h){return"string"==typeof h?l[h]:h},byNode:function(h){return l[h.getAttribute("widgetId")]},
toArray:function(){var h=[],g;for(g in l)h.push(l[g]);return h},getUniqueId:function(h){do var g=h+"_"+(h in t?++t[h]:t[h]=0);while(l[g]);return"dijit"==a._scopeName?g:a._scopeName+"_"+g},findWidgets:function(h,g){function e(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var c=b.getAttribute("widgetId");c?(c=l[c])&&d.push(c):b!==g&&e(b)}}var d=[];e(h);return d},_destroyAll:function(){a._curFocus=null;a._prevFocus=null;a._activeStack=[];D.forEach(n.findWidgets(w.body()),function(h){h._destroyed||
(h.destroyRecursive?h.destroyRecursive():h.destroy&&h.destroy())})},getEnclosingWidget:function(h){for(;h;){var g=1==h.nodeType&&h.getAttribute("widgetId");if(g)return l[g];h=h.parentNode}return null},_hash:l};return a.registry=n})},"dijit/main":function(){define(["dojo/_base/kernel"],function(D){return D.dijit})},"esri/main":function(){define(["./kernel","dojo/i18n!./nls/jsapi","./config","./sniff"],function(D,w){D.bundle=w;return D})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config",
"dojo/has"],function(D,w,a){var t=function(){return this}(),l=t.location,n=l.pathname,h=l.protocol;l={version:"3.38",_appBaseUrl:h+"//"+l.host+n.substring(0,n.lastIndexOf(n.split("/")[n.split("/").length-1]))};w.noGlobals||(t.esri=l);D.isAsync||a.add("extend-esri",1);(l.dijit=l.dijit||{})._arcgisUrl=("http:"===h||"https:"===h?h:"http:")+"//www.arcgis.com/sharing/rest";return l})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(D,w,a,t){var l=function(){return this}(),
n={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,zoomAnimationThrottled:!1,panDuration:350,
panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:l.Worker&&!1,io:{errorHandler:function(h,g){w.publish("esri.Error",[h])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:[/^https?:\/\/.+\.arcgis\.com(\/|$)/i,"server.arcgisonline.com","services.arcgisonline.com","www.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","tiles.arcgis.com","tiles1.arcgis.com","tiles2.arcgis.com","tiles3.arcgis.com","tiles4.arcgis.com","basemaps.arcgis.com","basemapsbeta.arcgis.com",
"basemaps-api.arcgis.com","elevation3d.arcgis.com","services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","services4.arcgis.com","services5.arcgis.com","services6.arcgis.com","services7.arcgis.com","services8.arcgis.com","services9.arcgis.com","cdn.arcgis.com","cdn-a.arcgis.com","cdn-b.arcgis.com","static.arcgis.com","utility.arcgis.com","utility.arcgisonline.com","geocode.arcgis.com","geoenrich.arcgis.com","qaext.arcgis.com","staticqa.arcgis.com","tilesqa.arcgis.com",
"servicesqa.arcgis.com","servicesqa1.arcgis.com","servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","geoenrichqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","localvtiles.arcgis.com","staticdev.arcgis.com","tilesdevext.arcgis.com","elevation3ddev.arcgis.com","servicesdev.arcgis.com","servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com","geocodedev.arcgis.com","geoenrichdev.arcgis.com","basemapsdev.arcgis.com","basemapsdev-api.arcgis.com","basemapsbetadev.arcgis.com"],
corsDetection:l.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};a("extend-esri")&&(t.config=n);D.noGlobals||(l.esriConfig=n);return n})},
"esri/sniff":function(){define(["dojo/_base/sniff","dojo/global","./kernel"],function(D,w,a){var t=D("ff"),l=D("ie"),n=void 0===l&&7<=D("trident"),h=D("edge"),g=D("webkit"),e=D("opera"),d=D("chrome"),b=D("safari"),c=navigator.userAgent,f;(f=c.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+_\d+)/i))&&D.add("esri-iphone",parseFloat(f[2].replace("_",".")));(f=c.match(/Android\s+(\d+(\.\d+)*)/i))&&D.add("esri-android",parseFloat(f[1]));(f=c.match(/Fennec\/(\d+\.\d+)/i))&&D.add("esri-fennec",parseFloat(f[1]));0<=
c.indexOf("BlackBerry")&&0<=c.indexOf("WebKit")&&D.add("esri-blackberry",1);D.add("esri-touch",D("esri-iphone")||D("esri-android")||D("esri-blackberry")||6<=D("esri-fennec")||(t||g)&&(document.createTouch||"ontouchstart"in w||w.TouchEvent&&0<navigator.maxTouchPoints)?!0:!1);(f=c.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i))&&D.add("esri-mobile",!!f);D.add("esri-pointer",!t&&(navigator.pointerEnabled||navigator.msPointerEnabled||!!w.PointerEvent));a._getDOMAccessor=function(r){var p=
"";t?p="Moz":g?p="Webkit":l?p="ms":e&&(p="O");return p+r.charAt(0).toUpperCase()+r.substr(1)};D.add("esri-phonegap",!!w.cordova);D.add("esri-cors",D("esri-phonegap")||w.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest);D.add("esri-file-upload",w.FormData&&w.FileList?!0:!1);D.add("esri-script-sandbox",function(){return"MessageChannel"in w&&"HTMLIFrameElement"in w&&"sandbox"in HTMLIFrameElement.prototype});D.add("esri-secure-context",function(){if("isSecureContext"in w)return w.isSecureContext;
if(w.location&&w.location.origin)return 0===w.location.origin.indexOf("https:")});D.add("esri-wasm","WebAssembly"in w);D.add("esri-workers",w.Worker?!0:!1);D.add("esri-featurelayer-webgl",!1);if(c=D("esri-featurelayer-webgl")){var m=D("esri-mobile");f=m?1:2;m=m?1:3;"object"===typeof c?(c.maxDrillLevel=null==c.maxDrillLevel?f:c.maxDrillLevel,c.maxRecordCountFactor=null==c.maxRecordCountFactor?m:c.maxRecordCountFactor,c.enablePBFQuery=null==c.enablePBFQuery?!0:c.enablePBFQuery):D.add("esri-featurelayer-webgl",
{maxDrillLevel:f,maxRecordCountFactor:m,enablePBFQuery:!0},null,!0)}D.add("esri-featurelayer-webgl-labeling",!1);D.add("esri-pbf",!l||10<=l);D.add("esri-featurelayer-pbf",!0);D.add("esri-transforms",n||h||9<=l||3.5<=t||4<=d||3.1<=b||10.5<=e||3.2<=D("esri-iphone")||2.1<=D("esri-android"));D.add("esri-transitions",n||h||10<=l||4<=t||4<=d||3.1<=b||10.5<=e||3.2<=D("esri-iphone")||2.1<=D("esri-android"));D.add("esri-transforms3d",n||h||10<=t||12<=d||4<=b||3.2<=D("esri-iphone")||3<=D("esri-android"));D.add("esri-url-encodes-apostrophe",
function(){if(!w.document)return!1;var r=w.document.createElement("a");r.href="?'";return-1<r.href.indexOf("?%27")});3>D("esri-android")&&(D.add("esri-transforms",!1,!1,!0),D.add("esri-transitions",!1,!1,!0),D.add("esri-transforms3d",!1,!1,!0));D.add("esri-will-change",D("esri-transforms")&&(52<=d||11.1<=b));a._css=function(r){var p=D("esri-transforms3d");void 0!==r&&null!==r?p=r:p&&(d||b&&!D("esri-iphone"))&&(p=!1);var u=p?"translate3d(":"translate(",y=p?d?",-1px)":",0px)":")",x=p?"scale3d(":"scale(",
z=p?",1)":")",q=p?"rotate3d(0,0,1,":"rotate(",k=p?"matrix3d(":"matrix(",v=p?",0,0,":",",B=p?",0,0,0,0,1,0,":",",E=p?",0,1)":")";return{names:{transition:g&&"-webkit-transition"||t&&"MozTransition"||e&&"OTransition"||l&&"msTransition"||"transition",transform:g&&"-webkit-transform"||t&&"MozTransform"||e&&"OTransform"||l&&"msTransform"||"transform",transformName:g&&"-webkit-transform"||t&&"-moz-transform"||e&&"-o-transform"||l&&"-ms-transform"||"transform",origin:g&&"-webkit-transform-origin"||t&&"MozTransformOrigin"||
e&&"OTransformOrigin"||l&&"msTransformOrigin"||"transformOrigin",endEvent:g&&"webkitTransitionEnd"||t&&"transitionend"||e&&"oTransitionEnd"||l&&"MSTransitionEnd"||"transitionend"},translate:function(N,G){return u+N+"px,"+G+"px"+y},scale:function(N){return x+N+","+N+z},rotate:function(N){return q+N+"deg)"},matrix:function(N){return k+N.xx+","+N.xy+v+N.yx+","+N.yy+B+N.dx.toFixed(10)+(t&&59>=t?"px,":",")+N.dy.toFixed(10)+(t&&59>=t?"px":"")+E},getScaleFromMatrix:function(N){if(!N)return 1;N=N.toLowerCase();
var G=-1<N.indexOf("matrix3d")?"matrix3d(":"matrix(";return Number(N.substring(G.length,N.indexOf(",")))}}};D("extend-esri")&&(a.isiPhone=D("esri-iphone"),a.isAndroid=D("esri-android"),a.isFennec=D("esri-fennec"),a.isBlackBerry=D("esri-blackberry"),a.isTouchEnabled=D("esri-touch"),a.isPointerEnabled=D("esri-pointer"),a._hasCors=D("esri-cors"),a._hasFileUpload=D("esri-file-upload"),a._hasTransforms=D("esri-transforms"),a._hasTransitions=D("esri-transitions"),a._has3DTransforms=D("esri-transforms3d"));
return D})},"esri/map":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/event dojo/on dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/a11yclick dijit/registry ./kernel ./config ./sniff ./lang ./_coremap ./MapNavigationManager dojo/i18n!./nls/jsapi".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B){var E={up:"panUp",right:"panRight",down:"panDown",
left:"panLeft"},N={upperRight:"panUpperRight",lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},G=t.connect,K=t.disconnect,I=f.create,O=r.set,V=l.hitch,na=m.getMarginBox,ja=w.deprecated,la=l.mixin,ca=0;w=a(k,{declaredClass:"esri.Map",constructor:function(ea,oa){oa=oa||{};la(this,{_slider:null,_navDiv:null,_mapParams:la({attributionWidth:.45,slider:!0,nav:!1,logo:!0,sliderStyle:"small",sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:!0},oa)});la(this,{isMapNavigation:null!=
oa.isMapNavigation?oa.isMapNavigation:!0,isDoubleClickZoom:null!=oa.isDoubleClickZoom?oa.isDoubleClickZoom:!0,isClickRecenter:null!=oa.isClickRecenter?oa.isClickRecenter:!0,isPan:null!=oa.isPan?oa.isPan:!0,isRubberBandZoom:null!=oa.isRubberBandZoom?oa.isRubberBandZoom:!0,isPinchZoom:null!=oa.isPinchZoom?oa.isPinchZoom:!0,isKeyboardNavigation:null!=oa.isKeyboardNavigation?oa.isKeyboardNavigation:!0,isScrollWheel:null!=oa.isScrollWheel?oa.isScrollWheel:!0,isShiftDoubleClickZoom:!1,isScrollWheelZoom:!1,
isPanArrows:!1,isZoomSlider:!1});l.isFunction(y._css)&&(y._css=y._css(this._mapParams.force3DTransforms),this.force3DTransforms=this._mapParams.force3DTransforms);ea=z("esri-transforms")&&z("esri-transitions");this.navigationMode=this._mapParams.navigationMode||ea&&"css-transforms"||"classic";"css-transforms"!==this.navigationMode||ea||(this.navigationMode="classic");this.fadeOnZoom=q.isDefined(this._mapParams.fadeOnZoom)?this._mapParams.fadeOnZoom:"css-transforms"===this.navigationMode;"css-transforms"!==
this.navigationMode&&(this.fadeOnZoom=!1);this.setMapCursor("default");this.smartNavigation=oa&&oa.smartNavigation;if(!(q.isDefined(this.smartNavigation)||!z("mac")||z("esri-touch")||z("esri-pointer")||3.5>=z("ff"))){var sa=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|_)([\d]+)\D/i);sa&&q.isDefined(sa[1])&&q.isDefined(sa[3])&&(ea=parseInt(sa[1],10),sa=parseInt(sa[3],10),this.smartNavigation=10<ea||10===ea&&6<=sa)}ea=!0;ea=!1;this.showAttribution=q.isDefined(this._mapParams.showAttribution)?
this._mapParams.showAttribution:ea;this._onLoadHandler_connect=G(this,"onLoad",this,"_onLoadInitNavsHandler");var za=I("div",{class:"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution)if(ea=l.getObject("esri.dijit.Attribution",!1))this._initAttribution(ea,za);else{var Z=ca++,ka=this;this._rids&&this._rids.push(Z);D(["./dijit/Attribution"],function(ua){var A=ka._rids?n.indexOf(ka._rids,Z):-1;-1!==A&&(ka._rids.splice(A,1),ka._initAttribution(ua,za))})}this._mapParams.logo&&
(ea={},6===z("ie")&&(ea.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+D.toUrl("./images/map/logo-med.png")+"')"),this._ogol=I("div",{style:ea,tabIndex:"0",title:"Esri"},za),this._setLogoSize(),this._onMapResizeLogo_connect=G(this,"onResize",this,"_setLogoSize"),this._ogol_connect=G(this._ogol,p,this,"_openLogoLink"));this.navigationManager=new v(this);oa&&oa.basemap&&(this._onLoadFix=!0,this.setBasemap(oa.basemap),this._onLoadFix=!1);
if(this.autoResize=this._mapParams.autoResize)oa=this._getEnclosingResizableWidget(this.container)||window,ea=this.resize,this._rszSignal=g.pausable(oa,"resize",ea),this._oriSignal=g.pausable(window,"orientationchange",ea),e.after(oa,"resize",ea,!0),this._startResizeTimer()},_startResizeTimer:function(){clearTimeout(this._persistentTimer);this._persistentTimer=setTimeout(this._timedResize,2*this.resizeDelay)},_getEnclosingResizableWidget:function(ea){var oa=u.getEnclosingWidget(ea);return oa?oa.resize?
oa:this._getEnclosingResizableWidget(ea.parentNode):oa},_setLogoSize:function(){this._ogol&&(25E4>this.root.clientWidth*this.root.clientHeight?(c.remove(this._ogol,"logo-med"),c.add(this._ogol,"logo-sm")):(c.remove(this._ogol,"logo-sm"),c.add(this._ogol,"logo-med")))},_initAttribution:function(ea,oa){oa=I("span",{class:"esriAttribution"},oa,"first");O(oa,"maxWidth",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(G(oa,p,function(){c.contains(this,"esriAttributionOpen")?
c.remove(this,"esriAttributionOpen"):this.scrollWidth>this.clientWidth&&c.add(this,"esriAttributionOpen")}));this.attribution=new ea({map:this},oa)},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var ea=this._slider;ea&&ea.destroy&&!ea._destroyed&&ea.destroy();ea=this._navDiv;var oa=this.attribution;ea&&f.destroy(ea);oa&&oa.destroy();this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);n.forEach(this._connects,K);clearInterval(this._persistentTimer);
this.attribution=this.navigationManager=this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=this._persistentTimer=null;this.inherited("_cleanUp",arguments)},_isPanningOrZooming:function(){return this.__panning||this.__zooming},_canZoom:function(ea){var oa=this.getLevel();return!this.__tileInfo||!(oa===this.getMinZoom()&&0>ea||oa===this.getMaxZoom()&&0<ea)},_onLoadInitNavsHandler:function(){this._evalMapNavigation();this._createNav();if("small"===this._mapParams.sliderStyle||
!this._createSlider)this._createSimpleSlider();else if(this._mapParams.slider){var ea=-1!==this._getSliderClass(!0).indexOf("Horizontal");ea=[ea?"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",ea?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",ea?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels"];if(n.some(ea,function(za){return!l.getObject(za,!1)})){ea=n.map(ea,function(za){return za.replace(/\./g,"/")});var oa=ca++,sa=this;this._rids&&this._rids.push(oa);D(ea,function(){var za=
sa._rids?n.indexOf(sa._rids,oa):-1;-1!==za&&(sa._rids.splice(za,1),sa._createSlider.apply(sa,arguments))})}else ea=n.map(ea,function(za){return l.getObject(za,!1)}),this._createSlider.apply(this,ea)}K(this._onLoadHandler_connect)},_createNav:function(){if(this._mapParams.nav){var ea,oa=c.add,sa=this.id;this._navDiv=I("div",{id:sa+"_navdiv"},this.root);oa(this._navDiv,"navDiv");var za=this.width/2,Z=this.height/2;for(ea in E){var ka=E[ea];var ua=I("div",{id:sa+"_pan_"+ea},this._navDiv);oa(ua,"fixedPan "+
ka);if("up"===ea||"down"===ea){var A=parseInt(na(ua).w,10)/2;O(ua,{left:za-A+"px",zIndex:30})}else A=parseInt(na(ua).h,10)/2,O(ua,{top:Z-A+"px",zIndex:30});this._connects.push(G(ua,"onclick",V(this,this[ka])))}this._onMapResizeNavHandler_connect=G(this,"onResize",this,"_onMapResizeNavHandler");for(ea in N)ka=N[ea],ua=I("div",{id:sa+"_pan_"+ea,style:{zIndex:30}},this._navDiv),oa(ua,"fixedPan "+ka),this._connects.push(G(ua,"onclick",V(this,this[ka])));this.isPanArrows=!0}},_onMapResizeNavHandler:function(ea,
oa,sa){ea=this.id;oa/=2;sa/=2;var za=d.byId,Z;for(Z in E){var ka=za(ea+"_pan_"+Z);if("up"===Z||"down"===Z){var ua=parseInt(na(ka).w,10)/2;O(ka,"left",oa-ua+"px")}else ua=parseInt(na(ka).h,10)/2,O(ka,"top",sa-ua+"px")}},_createSimpleSlider:function(){if(this._mapParams.slider){var ea=this._slider=I("div",{id:this.id+"_zoom_slider",class:this._getSliderClass(),style:{zIndex:30}}),oa=I("div",{class:"esriSimpleSliderIncrementButton",tabIndex:"0",role:"button"},ea),sa=I("div",{class:"esriSimpleSliderDecrementButton",
tabIndex:"0",role:"button"},ea);this._addZoomButtonTooltips(oa,sa);this._incButton=oa;this._decButton=sa;this._simpleSliderZoomHandler(null,null,null,this.getLevel());var za=B.widgets.zoomSlider;this._addZoomButtonIcon(oa,"+",za.zoomIn);this._addZoomButtonIcon(sa,"\x26minus;",za.zoomOut);8>z("ie")&&c.add(sa,"dj_ie67Fix");this._connects.push(G(oa,p,this,this._simpleSliderChangeHandler));this._connects.push(G(sa,p,this,this._simpleSliderChangeHandler));(-1<this.getMaxZoom()||-1<this.getMinZoom())&&
this._connects.push(G(this,"onZoomEnd",this,this._simpleSliderZoomHandler));10>z("ie")&&d.setSelectable(ea,!1);this.root.appendChild(ea);this.isZoomSlider=!0}},_simpleSliderChangeHandler:function(ea){h.stop(ea);ea=-1!==ea.currentTarget.className.indexOf("IncrementButton")?!0:!1;this._extentUtil({numLevels:ea?1:-1})},_simpleSliderZoomHandler:function(ea,oa,sa,za){var Z;ea=this._incButton;oa=this._decButton;-1<za&&za===this.getMaxZoom()?Z=ea:-1<za&&za===this.getMinZoom()&&(Z=oa);Z?(c.add(Z,"esriSimpleSliderDisabledButton"),
c.remove(Z===ea?oa:ea,"esriSimpleSliderDisabledButton")):(c.remove(ea,"esriSimpleSliderDisabledButton"),c.remove(oa,"esriSimpleSliderDisabledButton"))},_getSliderClass:function(ea){ea=ea?"Large":"Simple";var oa=this._mapParams.sliderOrientation,sa=this._mapParams.sliderPosition||"";oa=oa&&"horizontal"===oa.toLowerCase()?"esri"+ea+"SliderHorizontal":"esri"+ea+"SliderVertical";if(sa)switch(sa.toLowerCase()){case "top-left":sa="esri"+ea+"SliderTL";break;case "top-right":sa="esri"+ea+"SliderTR";break;
case "bottom-left":sa="esri"+ea+"SliderBL";break;case "bottom-right":sa="esri"+ea+"SliderBR"}return"esri"+ea+"Slider "+oa+" "+sa},_addZoomButtonIcon:function(ea,oa,sa){f.create("span",{"aria-hidden":"true",role:"presentation",innerHTML:oa},ea);f.create("span",{class:"esriIconFallbackText",innerHTML:sa},ea)},_addZoomButtonTooltips:function(ea,oa){var sa=B.widgets.zoomSlider;b.set(ea,"title",sa.zoomIn);b.set(oa,"title",sa.zoomOut)},_openLogoLink:function(ea){window.open(x.defaults.map.logoLink,"_blank");
h.stop(ea)},enableMapNavigation:function(){this.isMapNavigation||(this.isMapNavigation=!0,this._evalMapNavigation())},disableMapNavigation:function(){this.isMapNavigation&&(this.isMapNavigation=!1,this._evalMapNavigation())},_evalMapNavigation:function(){this.isMapNavigation?this.navigationManager.enableNavigation():this.navigationManager.disableNavigation()},_evalNavigationFeature:function(ea){if(this.isMapNavigation&&this["is"+ea])this.navigationManager["enable"+ea]();else this.navigationManager["disable"+
ea]()},enableDoubleClickZoom:function(){this.isDoubleClickZoom||(this.isDoubleClickZoom=!0,this._evalNavigationFeature("DoubleClickZoom"))},disableDoubleClickZoom:function(){this.isDoubleClickZoom&&(this.isDoubleClickZoom=!1,this._evalNavigationFeature("DoubleClickZoom"))},enableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom||(ja(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.enableShiftDoubleClickZoom(),
this.isShiftDoubleClickZoom=!0)},disableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom&&(ja(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.disableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!1)},enableClickRecenter:function(){this.isClickRecenter||(this.isClickRecenter=!0,this._evalNavigationFeature("ClickRecenter"))},disableClickRecenter:function(){this.isClickRecenter&&
(this.isClickRecenter=!1,this._evalNavigationFeature("ClickRecenter"))},enablePan:function(){this.isPan||(this.isPan=!0,this._evalNavigationFeature("Pan"))},disablePan:function(){this.isPan&&(this.isPan=!1,this._evalNavigationFeature("Pan"))},enableRubberBandZoom:function(){this.isRubberBandZoom||(this.isRubberBandZoom=!0,this._evalNavigationFeature("RubberBandZoom"))},disableRubberBandZoom:function(){this.isRubberBandZoom&&(this.isRubberBandZoom=!1,this._evalNavigationFeature("RubberBandZoom"))},
enablePinchZoom:function(){this.isPinchZoom||(this.isPinchZoom=!0,this._evalNavigationFeature("PinchZoom"))},disablePinchZoom:function(){this.isPinchZoom&&(this.isPinchZoom=!1,this._evalNavigationFeature("PinchZoom"))},enableKeyboardNavigation:function(){this.isKeyboardNavigation||(this.isKeyboardNavigation=!0,this._evalNavigationFeature("KeyboardNavigation"))},disableKeyboardNavigation:function(){this.isKeyboardNavigation&&(this.isKeyboardNavigation=!1,this._evalNavigationFeature("KeyboardNavigation"))},
enableScrollWheel:function(){this.isScrollWheel||(this.isScrollWheel=!0,this._evalNavigationFeature("ScrollWheel"))},disableScrollWheel:function(){this.isScrollWheel&&(this.isScrollWheel=!1,this._evalNavigationFeature("ScrollWheel"))},enableScrollWheelZoom:function(){this.isScrollWheelZoom||(this.navigationManager.enableScrollWheelZoom(),this.isScrollWheelZoom=!0)},disableScrollWheelZoom:function(){this.isScrollWheelZoom&&(this.navigationManager.disableScrollWheelZoom(),this.isScrollWheelZoom=!1)},
enableScrollWheelPan:function(){this.isScrollWheelPan||this.navigationManager.enableScrollWheelPan()},disableScrollWheelPan:function(){this.isScrollWheelPan&&this.navigationManager.disableScrollWheelPan()},showPanArrows:function(){this._navDiv&&(this._navDiv.style.display="block",this.isPanArrows=!0)},hidePanArrows:function(){this._navDiv&&(this._navDiv.style.display="none",this.isPanArrows=!1)},showZoomSlider:function(){this._slider&&(O(this._slider.domNode||this._slider,"visibility","inherit"),
this.isZoomSlider=!0)},hideZoomSlider:function(){this._slider&&(O(this._slider.domNode||this._slider,"visibility","hidden"),this.isZoomSlider=!1)},onClick:function(ea){ea.graphic||(ea.graphic=this.syncHitTestForWebGL(ea))}});z("extend-esri")&&(y.Map=w);return w})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(D,w,a,t){function l(g){if((g.keyCode===D.ENTER||g.keyCode===D.SPACE)&&!/input|button|textarea/i.test(g.target.nodeName))for(g=g.target;g;g=g.parentNode)if(g.dojoClick)return!0}
var n;a(document,"keydown",function(g){l(g)?(n=g.target,g.preventDefault()):n=null});a(document,"keyup",function(g){l(g)&&g.target==n&&(n=null,a.emit(g.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:g.ctrlKey,shiftKey:g.shiftKey,metaKey:g.metaKey,altKey:g.altKey,_origType:g.type}))});var h=function(g,e){g.dojoClick=!0;return a(g,"click",e)};h.click=h;h.press=function(g,e){var d=a(g,t.press,function(c){("mousedown"!=c.type||w.isLeft(c))&&e(c)}),b=a(g,"keydown",function(c){c.keyCode!==D.ENTER&&c.keyCode!==
D.SPACE||e(c)});return{remove:function(){d.remove();b.remove()}}};h.release=function(g,e){var d=a(g,t.release,function(c){("mouseup"!=c.type||w.isLeft(c))&&e(c)}),b=a(g,"keyup",function(c){c.keyCode!==D.ENTER&&c.keyCode!==D.SPACE||e(c)});return{remove:function(){d.remove();b.remove()}}};h.move=t.move;return h})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(D,w,a,t,l,n,h,g,e,d){function b(I,
O,V){return r&&V?function(na,ja){return n(na,V,ja)}:u?function(na,ja){var la=n(na,O,function(ea){ja.call(this,ea);G=(new Date).getTime()}),ca=n(na,I,function(ea){(!G||(new Date).getTime()>G+1E3)&&ja.call(this,ea)});return{remove:function(){la.remove();ca.remove()}}}:function(na,ja){return n(na,I,ja)}}function c(I){do if(void 0!==I.dojoClick)return I;while(I=I.parentNode)}function f(I,O,V){if(!g.isRight(I)){var na=c(I.target);if(x=!I.target.disabled&&na&&na.dojoClick)if(q=(z="useTarget"==x)?na:I.target,
z&&I.preventDefault(),k=I.changedTouches?I.changedTouches[0].pageX-d.global.pageXOffset:I.clientX,v=I.changedTouches?I.changedTouches[0].pageY-d.global.pageYOffset:I.clientY,B=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,E=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,!y){y=!0;var ja=function(la){x=z?a.isDescendant(d.doc.elementFromPoint(la.changedTouches?la.changedTouches[0].pageX-d.global.pageXOffset:la.clientX,la.changedTouches?la.changedTouches[0].pageY-d.global.pageYOffset:la.clientY),
q):x&&(la.changedTouches?la.changedTouches[0].target:la.target)==q&&Math.abs((la.changedTouches?la.changedTouches[0].pageX-d.global.pageXOffset:la.clientX)-k)<=B&&Math.abs((la.changedTouches?la.changedTouches[0].pageY-d.global.pageYOffset:la.clientY)-v)<=E};d.doc.addEventListener(O,function(la){g.isRight(la)||(ja(la),z&&la.preventDefault())},!0);d.doc.addEventListener(V,function(la){if(!g.isRight(la)&&(ja(la),x)){N=(new Date).getTime();var ca=z?q:la.target;"LABEL"===ca.tagName&&(ca=a.byId(ca.getAttribute("for"))||
ca);var ea=la.changedTouches?la.changedTouches[0]:la,oa=function(ka){var ua=document.createEvent("MouseEvents");ua._dojo_click=!0;ua.initMouseEvent(ka,!0,!0,la.view,la.detail,ea.screenX,ea.screenY,ea.clientX,ea.clientY,la.ctrlKey,la.altKey,la.shiftKey,la.metaKey,0,null);return ua},sa=oa("mousedown"),za=oa("mouseup"),Z=oa("click");setTimeout(function(){n.emit(ca,"mousedown",sa);n.emit(ca,"mouseup",za);n.emit(ca,"click",Z);N=(new Date).getTime()},0)}},!0);I=function(la){d.doc.addEventListener(la,function(ca){var ea=
ca.target;x&&!ca._dojo_click&&(new Date).getTime()<=N+1E3&&("INPUT"!=ea.tagName||!t.contains(ea,"dijitOffScreen"))&&(ca.stopPropagation(),ca.stopImmediatePropagation&&ca.stopImmediatePropagation(),"click"==la&&("INPUT"!=ea.tagName||"radio"==ea.type&&(t.contains(ea,"dijitCheckBoxInput")||t.contains(ea,"mblRadioButton"))||"checkbox"==ea.type&&(t.contains(ea,"dijitCheckBoxInput")||t.contains(ea,"mblCheckBox")))&&"TEXTAREA"!=ea.tagName&&"AUDIO"!=ea.tagName&&"VIDEO"!=ea.tagName&&ca.preventDefault())},
!0)};I("click");I("mousedown");I("mouseup")}}}var m=5>h("ios"),r=h("pointer-events")||h("MSPointer"),p=function(){var I={},O;for(O in{down:1,move:1,up:1,cancel:1,over:1,out:1})I[O]=h("MSPointer")?"MSPointer"+O.charAt(0).toUpperCase()+O.slice(1):"pointer"+O;return I}(),u=h("touch-events"),y,x,z=!1,q,k,v,B,E,N,G,K;h("touch")&&(r?e(function(){d.doc.addEventListener(p.down,function(I){f(I,p.move,p.up)},!0)}):e(function(){function I(O){var V=l.delegate(O,{bubbles:!0});6<=h("ios")&&(V.touches=O.touches,
V.altKey=O.altKey,V.changedTouches=O.changedTouches,V.ctrlKey=O.ctrlKey,V.metaKey=O.metaKey,V.shiftKey=O.shiftKey,V.targetTouches=O.targetTouches);return V}K=d.body();d.doc.addEventListener("touchstart",function(O){G=(new Date).getTime();var V=K;K=O.target;n.emit(V,"dojotouchout",{relatedTarget:K,bubbles:!0});n.emit(K,"dojotouchover",{relatedTarget:V,bubbles:!0});f(O,"touchmove","touchend")},!0);n(d.doc,"touchmove",function(O){G=(new Date).getTime();var V=d.doc.elementFromPoint(O.pageX-(m?0:d.global.pageXOffset),
O.pageY-(m?0:d.global.pageYOffset));V&&(K!==V&&(n.emit(K,"dojotouchout",{relatedTarget:V,bubbles:!0}),n.emit(V,"dojotouchover",{relatedTarget:K,bubbles:!0}),K=V),n.emit(V,"dojotouchmove",I(O))||O.preventDefault())});n(d.doc,"touchend",function(O){G=(new Date).getTime();var V=d.doc.elementFromPoint(O.pageX-(m?0:d.global.pageXOffset),O.pageY-(m?0:d.global.pageYOffset))||d.body();n.emit(V,"dojotouchend",I(O))})}));w={press:b("mousedown","touchstart",p.down),move:b("mousemove","dojotouchmove",p.move),
release:b("mouseup","dojotouchend",p.up),cancel:b(g.leave,"touchcancel",r?p.cancel:null),over:b("mouseover","dojotouchover",p.over),out:b("mouseout","dojotouchout",p.out),enter:g._eventHandler(b("mouseover","dojotouchover",p.over)),leave:g._eventHandler(b("mouseout","dojotouchout",p.out))};return D.touch=w})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale ./kernel".split(" "),function(D,w,a,t,l,n,h,
g,e){function d(x,z,q,k){(z=z&&z[x])?z={formatType:z.formatType,options:z}:k&&-1!==D.indexOf(k.properties||"",x)?z={formatType:k.formatter||"DateString",options:null}:q&&-1!==D.indexOf(q.properties||"",x)&&(z={formatType:q.formatter||"NumberFormat",options:null});return z}function b(x,z,q){return[t.isString(x)?x.split(""):x,z||a.global,t.isString(q)?new Function("item","index","array",q):q]}function c(x){return void 0!==x&&null!==x}function f(x){return c(x)?x:""}function m(x,z,q,k){var v=q.match(/([^\(]+)(\([^\)]+\))?/i);
q=t.trim(v[1]);var B=v[2]?t.trim(v[2]):null;v=z[x];k=k||(B?w.fromJson(B.replace(/^\(/,"({").replace(/\)$/,"})")):{});B=k.utcOffset;if(-1===D.indexOf(p,q))q=t.getObject(q),t.isFunction(q)&&(v=q(v,x,z,k));else if("number"===typeof v||"string"===typeof v&&v&&!isNaN(Number(v)))switch(v=Number(v),q){case "NumberFormat":return h.format(v,k);case "DateString":x=new Date(v);if(k.local||k.systemLocale)return k.systemLocale?x.toLocaleDateString()+(k.hideTime?"":" "+x.toLocaleTimeString()):x.toDateString()+
(k.hideTime?"":" "+x.toTimeString());x=x.toUTCString();k.hideTime&&(x=x.replace(/\s+\d\d:\d\d:\d\d\s+(utc|gmt)/i,""));return x;case "DateFormat":return x=new Date(v),c(B)&&(x=l.add(x,"minute",x.getTimezoneOffset()-B)),g.format(x,k)}return f(v)}function r(x,z){var q;if(z)for(q in x)x.hasOwnProperty(q)&&(void 0===x[q]?delete x[q]:x[q]instanceof Object&&r(x[q],!0));else for(q in x)x.hasOwnProperty(q)&&void 0===x[q]&&delete x[q];return x}var p=["NumberFormat","DateString","DateFormat"],u=/<\/?[^>]+>/g,
y={valueOf:function(x,z){for(var q in x)if(x[q]==z)return q;return null},stripTags:function(x){if(x){var z=typeof x;if("string"===z)x=x.replace(u,"");else if("object"===z)for(var q in x)(z=x[q])&&"string"===typeof z&&(z=z.replace(u,"")),x[q]=z}return x},substitute:function(x,z,q){if(c(q))if(t.isObject(q)){var k=q.first;var v=q.dateFormat;var B=q.numberFormat;var E=q.format}else k=q;if(z&&"${*}"!==z)return t.replace(z,t.hitch({obj:x},function(G,K){var I=K.split(":");return 1<I.length?(K=I[0],I.shift(),
(G=E&&E[I[0]])?I=G.formatType:(I=I.join(":"),G=null),m(K,this.obj,I,G)):(G=d(K,E,B,v))?m(K,this.obj,G.formatType,G.options):f(this.obj[K])}),/\$\{([^\}]+)\}/g);z=[];for(var N in x)if(q=(q=d(N,E,B,v))?m(N,x,q.formatType,q.options):x[N],z.push(N+" \x3d "+f(q)+"\x3cbr/\x3e"),k)break;return z.join("")},filter:function(x,z,q){z=b(x,q,z);q={};var k;x=z[0];for(k in x)z[2].call(z[k],x[k],k,x)&&(q[k]=x[k]);return q},startsWith:function(x,z,q){q=q||0;return x.indexOf(z,q)===q},endsWith:function(x,z,q){if("number"!==
typeof q||!isFinite(q)||Math.floor(q)!==q||q>x.length)q=x.length;q-=z.length;x=x.indexOf(z,q);return-1!==x&&x===q},isDefined:c,fixJson:r,isObject:function(x){return x&&"object"===typeof x},isString:function(x){return"string"===typeof x},mixin:function(x,z){for(var q in z)z.hasOwnProperty(q)&&(x[q]=z[q]);return x},clone2DArray:function(x){if(x=x?x.slice(0):null){var z,q=x.length;for(z=0;z<q;z++)x[z]=x[z]?x[z].slice(0):null}return x},clone3DArray:function(x){if(x=x?x.slice(0):null){var z,q=x.length;
for(z=0;z<q;z++){x[z]=x[z]?x[z].slice(0):null;var k=x[z];if(k){var v,B=k.length;for(v=0;v<B;v++)k[v]=k[v]?k[v].slice(0):null}}}return x}};n("extend-esri")&&(t.mixin(e,y),e._isDefined=c,e._getParts=b,e._sanitize=r);return y})},"dojo/date":function(){define(["./has","./_base/lang"],function(D,w){var a={getDaysInMonth:function(t){var l=t.getMonth();return 1==l&&a.isLeapYear(t)?29:[31,28,31,30,31,30,31,31,30,31,30,31][l]},isLeapYear:function(t){t=t.getFullYear();return!(t%400)||!(t%4)&&!!(t%100)},getTimezoneName:function(t){var l=
t.toString(),n="",h=l.indexOf("(");if(-1<h)n=l.substring(++h,l.indexOf(")"));else if(h=/([A-Z\/]+) \d{4}$/,l=l.match(h))n=l[1];else if(l=t.toLocaleString(),h=/ ([A-Z\/]+)$/,l=l.match(h))n=l[1];return"AM"==n||"PM"==n?"":n},compare:function(t,l,n){t=new Date(+t);l=new Date(+(l||new Date));"date"==n?(t.setHours(0,0,0,0),l.setHours(0,0,0,0)):"time"==n&&(t.setFullYear(0,0,0),l.setFullYear(0,0,0));return t>l?1:t<l?-1:0},add:function(t,l,n){var h=new Date(+t),g=!1,e="Date";switch(l){case "day":break;case "weekday":if(l=
n%5)var d=parseInt(n/5);else l=0<n?5:-5,d=0<n?(n-5)/5:(n+5)/5;var b=t.getDay(),c=0;6==b&&0<n?c=1:0==b&&0>n&&(c=-1);b+=l;if(0==b||6==b)c=0<n?2:-2;n=7*d+l+c;break;case "year":e="FullYear";g=!0;break;case "week":n*=7;break;case "quarter":n*=3;case "month":g=!0;e="Month";break;default:e="UTC"+l.charAt(0).toUpperCase()+l.substring(1)+"s"}if(e)h["set"+e](h["get"+e]()+n);g&&h.getDate()<t.getDate()&&h.setDate(0);return h},difference:function(t,l,n){l=l||new Date;n=n||"day";var h=l.getFullYear()-t.getFullYear(),
g=1;switch(n){case "quarter":t=t.getMonth();l=l.getMonth();g=Math.floor(l/3)+1+4*h-(Math.floor(t/3)+1);break;case "weekday":h=Math.round(a.difference(t,l,"day"));n=parseInt(a.difference(t,l,"week"));if(0==h%7)h=5*n;else{g=0;var e=t.getDay(),d=l.getDay();n=parseInt(h/7);l=h%7;t=new Date(t);t.setDate(t.getDate()+7*n);t=t.getDay();if(0<h)switch(!0){case 6==e:g=-1;break;case 0==e:g=0;break;case 6==d:g=-1;break;case 0==d:g=-2;break;case 5<t+l:g=-2}else if(0>h)switch(!0){case 6==e:g=0;break;case 0==e:g=
1;break;case 6==d:g=2;break;case 0==d:g=1;break;case 0>t+l:g=2}h=h+g-2*n}g=h;break;case "year":g=h;break;case "month":g=l.getMonth()-t.getMonth()+12*h;break;case "week":g=parseInt(a.difference(t,l,"day")/7);break;case "day":g/=24;case "hour":g/=60;case "minute":g/=60;case "second":g/=1E3;case "millisecond":g*=l.getTime()-t.getTime()}return Math.round(g)}};w.mixin(w.getObject("dojo.date",!0),a);return a})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string",
"./regexp"],function(D,w,a,t,l){var n={};D.setObject("dojo.number",n);n.format=function(g,e){e=D.mixin({},e||{});var d=w.normalizeLocale(e.locale);d=w.getLocalization("dojo.cldr","number",d);e.customs=d;d=e.pattern||d[(e.type||"decimal")+"Format"];return isNaN(g)||Infinity==Math.abs(g)?null:n._applyPattern(g,d,e)};n._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;n._applyPattern=function(g,e,d){d=d||{};var b=d.customs.group,c=d.customs.decimal;e=e.split(";");var f=e[0];e=e[0>g?1:0]||"-"+f;if(-1!=e.indexOf("%"))g*=
100;else if(-1!=e.indexOf("\u2030"))g*=1E3;else if(-1!=e.indexOf("\u00a4"))b=d.customs.currencyGroup||b,c=d.customs.currencyDecimal||c,e=e.replace(/([\s\xa0\u202f]*)(\u00a4{1,3})([\s\xa0\u202f]*)/,function(r,p,u,y){return(r=d[["symbol","currency","displayName"][u.length-1]]||d.currency||"")?p+r+y:""});else if(-1!=e.indexOf("E"))throw Error("exponential notation not supported");var m=n._numberPatternRE;f=f.match(m);if(!f)throw Error("unable to find a number expression in pattern: "+e);!1===d.fractional&&
(d.places=0);return e.replace(m,n._formatAbsolute(g,f[0],{decimal:c,group:b,places:d.places,round:d.round}))};n.round=function(g,e,d){d=10/(d||10);return(d*+g).toFixed(e)/d};if(0==(.9).toFixed()){var h=n.round;n.round=function(g,e,d){var b=Math.pow(10,-e||0),c=Math.abs(g);if(!g||c>=b)b=0;else if(c/=b,.5>c||.95<=c)b=0;return h(g,e,d)+(0<g?b:-b)}}n._formatAbsolute=function(g,e,d){d=d||{};!0===d.places&&(d.places=0);Infinity===d.places&&(d.places=6);e=e.split(".");var b="string"==typeof d.places&&d.places.indexOf(","),
c=d.places;b?c=d.places.substring(b+1):0<=c||(c=(e[1]||[]).length);0>d.round||(g=n.round(g,c,d.round));g=String(Math.abs(g)).split(".");var f=g[1]||"";e[1]||d.places?(b&&(d.places=d.places.substring(0,b)),b=void 0!==d.places?d.places:e[1]&&e[1].lastIndexOf("0")+1,b>f.length&&(g[1]=t.pad(f,b,"0",!0)),c<f.length&&(g[1]=f.substr(0,c))):g[1]&&g.pop();c=e[0].replace(",","");b=c.indexOf("0");-1!=b&&(b=c.length-b,b>g[0].length&&(g[0]=t.pad(g[0],b)),-1==c.indexOf("#")&&(g[0]=g[0].substr(g[0].length-b)));
c=e[0].lastIndexOf(",");var m;if(-1!=c){var r=e[0].length-c-1;e=e[0].substr(0,c);c=e.lastIndexOf(",");-1!=c&&(m=e.length-c-1)}e=[];for(c=g[0];c;)b=c.length-r,e.push(0<b?c.substr(b):c),c=0<b?c.slice(0,b):"",m&&(r=m,m=void 0);g[0]=e.reverse().join(d.group||",");return g.join(d.decimal||".")};n.regexp=function(g){return n._parseInfo(g).regexp};n._parseInfo=function(g){g=g||{};var e=w.normalizeLocale(g.locale);e=w.getLocalization("dojo.cldr","number",e);var d=g.pattern||e[(g.type||"decimal")+"Format"],
b=e.group,c=e.decimal,f=1;if(-1!=d.indexOf("%"))f/=100;else if(-1!=d.indexOf("\u2030"))f/=1E3;else{var m=-1!=d.indexOf("\u00a4");m&&(b=e.currencyGroup||b,c=e.currencyDecimal||c)}e=d.split(";");1==e.length&&e.push("-"+e[0]);e=l.buildGroupRE(e,function(r){r="(?:"+l.escapeString(r,".")+")";return r.replace(n._numberPatternRE,function(p){var u={signed:!1,separator:g.strict?b:[b,""],fractional:g.fractional,decimal:c,exponent:!1};p=p.split(".");var y=g.places;1==p.length&&1!=f&&(p[1]="###");1==p.length||
0===y?u.fractional=!1:(void 0===y&&(y=g.pattern?p[1].lastIndexOf("0")+1:Infinity),y&&void 0==g.fractional&&(u.fractional=!0),!g.places&&y<p[1].length&&(y+=","+p[1].length),u.places=y);p=p[0].split(",");1<p.length&&(u.groupSize=p.pop().length,1<p.length&&(u.groupSize2=p.pop().length));return"("+n._realNumberRegexp(u)+")"})},!0);m&&(e=e.replace(/([\s\xa0\u202f]*)(\u00a4{1,3})([\s\xa0\u202f]*)/g,function(r,p,u,y){r=l.escapeString(g[["symbol","currency","displayName"][u.length-1]]||g.currency||"");if(!r)return"";
p=p?"[\\s\\xa0\\u202f]":"";y=y?"[\\s\\xa0\\u202f]":"";return g.strict?p+r+y:(p&&(p+="*"),y&&(y+="*"),"(?:"+p+r+y+")?")}));return{regexp:e.replace(/[\xa0\u202f ]/g,"[\\s\\xa0\\u202f]"),group:b,decimal:c,factor:f}};n.parse=function(g,e){e=n._parseInfo(e);g=(new RegExp("^"+e.regexp+"$")).exec(g);if(!g)return NaN;var d=g[1];if(!g[1]){if(!g[2])return NaN;d=g[2];e.factor*=-1}d=d.replace(new RegExp("["+e.group+"\\s\\xa0\\u202f]","g"),"").replace(e.decimal,".");return d*e.factor};n._realNumberRegexp=function(g){g=
g||{};"places"in g||(g.places=Infinity);"string"!=typeof g.decimal&&(g.decimal=".");"fractional"in g&&!/^0/.test(g.places)||(g.fractional=[!0,!1]);"exponent"in g||(g.exponent=[!0,!1]);"eSigned"in g||(g.eSigned=[!0,!1]);var e=n._integerRegexp(g),d=l.buildGroupRE(g.fractional,function(c){var f="";c&&0!==g.places&&(f="\\"+g.decimal,f=Infinity==g.places?"(?:"+f+"\\d+)?":f+("\\d{"+g.places+"}"));return f},!0),b=l.buildGroupRE(g.exponent,function(c){return c?"([eE]"+n._integerRegexp({signed:g.eSigned})+
")":""});e+=d;d&&(e="(?:(?:"+e+")|(?:"+d+"))");return e+b};n._integerRegexp=function(g){g=g||{};"signed"in g||(g.signed=[!0,!1]);"separator"in g?"groupSize"in g||(g.groupSize=3):g.separator="";var e=l.buildGroupRE(g.signed,function(b){return b?"[-+]":""},!0),d=l.buildGroupRE(g.separator,function(b){if(!b)return"(?:\\d+)";b=l.escapeString(b);" "==b?b="\\s":"\u00a0"==b?b="\\s\\xa0":"\u202f"==b&&(b="\\s\\u202f");var c=g.groupSize,f=g.groupSize2;return f?(b="(?:0|[1-9]\\d{0,"+(f-1)+"}(?:["+b+"]\\d{"+
f+"})*["+b+"]\\d{"+c+"})",0<c-f?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+b+"]\\d{"+c+"})*)"},!0);return e+d};return n})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(D,w){var a=/[&<>'"\/]/g,t={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},l={};w.setObject("dojo.string",l);l.escape=function(n){return n?n.replace(a,function(h){return t[h]}):""};l.rep=function(n,h){if(0>=h||!n)return"";
for(var g=[];;){h&1&&g.push(n);if(!(h>>=1))break;n+=n}return g.join("")};l.pad=function(n,h,g,e){g||(g="0");n=String(n);h=l.rep(g,Math.ceil((h-n.length)/g.length));return e?n+h:h+n};l.substitute=function(n,h,g,e){e=e||D.global;g=g?w.hitch(e,g):function(d){return d};return n.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(d,b,c){if(""==b)return"$";d=w.getObject(b,!1,h);c&&(d=w.getObject(c,!1,e).call(e,d,b));c=g(d,b);if("undefined"===typeof c)throw Error('string.substitute could not find key "'+
b+'" in template');return c.toString()})};l.trim=String.prototype.trim?w.trim:function(n){n=n.replace(/^\s+/,"");for(var h=n.length-1;0<=h;h--)if(/\S/.test(n.charAt(h))){n=n.substring(0,h+1);break}return n};return l})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(D,w){var a={};w.setObject("dojo.regexp",a);a.escapeString=function(t,l){return t.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(n){return l&&-1!=l.indexOf(n)?n:"\\"+n})};a.buildGroupRE=function(t,l,n){if(!(t instanceof
Array))return l(t);for(var h=[],g=0;g<t.length;g++)h.push(l(t[g]));return a.group(h.join("|"),n)};a.group=function(t,l){return"("+(l?"?:":"")+t+")"};return a})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(D,w,a,t,l,n,h,g,e){function d(u,y,x,z){return z.replace(/([a-z])\1*/ig,function(q){var k=q.charAt(0);q=q.length;var v=["abbr","wide","narrow"];switch(k){case "G":var B=
y[4>q?"eraAbbr":"eraNames"][0>u.getFullYear()?0:1];break;case "y":B=u.getFullYear();switch(q){case 1:break;case 2:if(!x.fullYear){B=String(B);B=B.substr(B.length-2);break}default:var E=!0}break;case "Q":case "q":B=Math.ceil((u.getMonth()+1)/3);E=!0;break;case "M":case "L":B=u.getMonth();3>q?(B+=1,E=!0):(k=["months","L"==k?"standAlone":"format",v[q-3]].join("-"),B=y[k][B]);break;case "w":B=f._getWeekOfYear(u,0);E=!0;break;case "d":B=u.getDate();E=!0;break;case "D":B=f._getDayOfYear(u);E=!0;break;case "e":case "c":if(B=
u.getDay(),2>q){B=(B-t.getFirstDayOfWeek(x.locale)+8)%7;break}case "E":B=u.getDay();3>q?(B+=1,E=!0):(k=["days","c"==k?"standAlone":"format",v[q-3]].join("-"),B=y[k][B]);break;case "a":k=12>u.getHours()?"am":"pm";B=x[k]||y["dayPeriods-format-wide-"+k];break;case "h":case "H":case "K":case "k":E=u.getHours();switch(k){case "h":B=E%12||12;break;case "H":B=E;break;case "K":B=E%12;break;case "k":B=E||24}E=!0;break;case "m":B=u.getMinutes();E=!0;break;case "s":B=u.getSeconds();E=!0;break;case "S":B=Math.round(u.getMilliseconds()*
Math.pow(10,q-3));E=!0;break;case "v":case "z":if(B=f._getZone(u,!0,x))break;q=4;case "Z":k=f._getZone(u,!1,x);k=[0>=k?"+":"-",h.pad(Math.floor(Math.abs(k)/60),2),h.pad(Math.abs(k)%60,2)];4==q&&(k.splice(0,0,"GMT"),k.splice(3,0,":"));B=k.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+z);}E&&(B=h.pad(B,q));return B})}function b(u,y,x,z){var q=function(B){return B};y=y||q;x=x||q;z=z||q;var k=u.match(/(''|[^'])+/g),v="'"==u.charAt(0);w.forEach(k,function(B,E){B?
(k[E]=(v?x:y)(B.replace(/''/g,"'")),v=!v):k[E]=""});return z(k.join(""))}function c(u,y,x,z){z=n.escapeString(z);x.strict||(z=z.replace(" a"," ?a"));return z.replace(/([a-z])\1*/ig,function(q){var k=q.charAt(0);var v=q.length,B="",E="";x.strict?(1<v&&(B="0{"+(v-1)+"}"),2<v&&(E="0{"+(v-2)+"}")):(B="0?",E="0{0,2}");switch(k){case "y":k="\\d{2,4}";break;case "M":case "L":2<v?(k=y["months-"+("L"==k?"standAlone":"format")+"-"+m[v-3]].slice(0).join("|"),x.strict||(k=k.replace(/\./g,""),k="(?:"+k+")\\.?")):
k="1[0-2]|"+B+"[1-9]";break;case "D":k="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+B+"[1-9][0-9]|"+E+"[1-9]";break;case "d":k="3[01]|[12]\\d|"+B+"[1-9]";break;case "w":k="[1-4][0-9]|5[0-3]|"+B+"[1-9]";break;case "E":case "e":case "c":k=".+?";break;case "h":k="1[0-2]|"+B+"[1-9]";break;case "k":k="1[01]|"+B+"\\d";break;case "H":k="1\\d|2[0-3]|"+B+"\\d";break;case "K":k="1\\d|2[0-4]|"+B+"[1-9]";break;case "m":case "s":k="[0-5]\\d";break;case "S":k="\\d{"+v+"}";break;case "a":v=x.am||y["dayPeriods-format-wide-am"];
B=x.pm||y["dayPeriods-format-wide-pm"];k=v+"|"+B;x.strict||(v!=v.toLowerCase()&&(k+="|"+v.toLowerCase()),B!=B.toLowerCase()&&(k+="|"+B.toLowerCase()),-1!=k.indexOf(".")&&(k+="|"+k.replace(/\./g,"")));k=k.replace(/\./g,"\\.");break;default:k=".*"}u&&u.push(q);return"("+k+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var f={};D.setObject(e.id.replace(/\//g,"."),f);f._getZone=function(u,y,x){return y?a.getTimezoneName(u):u.getTimezoneOffset()};f.format=function(u,y){y=y||{};var x=l.normalizeLocale(y.locale),
z=y.formatLength||"short";x=f._getGregorianBundle(x);var q=[];u=D.hitch(this,d,u,x,y);if("year"==y.selector)return b(x["dateFormatItem-yyyy"]||"yyyy",u);var k;"date"!=y.selector&&(k=y.timePattern||x["timeFormat-"+z])&&q.push(b(k,u));"time"!=y.selector&&(k=y.datePattern||x["dateFormat-"+z])&&q.push(b(k,u));return 1==q.length?q[0]:x["dateTimeFormat-"+z].replace(/'/g,"").replace(/\{(\d+)\}/g,function(v,B){return q[B]})};f.regexp=function(u){return f._parseInfo(u).regexp};f._parseInfo=function(u){u=u||
{};var y=l.normalizeLocale(u.locale);y=f._getGregorianBundle(y);var x=u.formatLength||"short",z=u.datePattern||y["dateFormat-"+x],q=u.timePattern||y["timeFormat-"+x];x="date"==u.selector?z:"time"==u.selector?q:y["dateTimeFormat-"+x].replace(/\{(\d+)\}/g,function(v,B){return[q,z][B]});var k=[];return{regexp:b(x,D.hitch(this,c,k,y,u)),tokens:k,bundle:y}};f.parse=function(u,y){var x=/[\u200E\u200F\u202A\u202E]/g,z=f._parseInfo(y),q=z.tokens,k=z.bundle;u=(new RegExp("^"+z.regexp.replace(x,"")+"$",z.strict?
"":"i")).exec(u&&u.replace(x,""));if(!u)return null;var v=["abbr","wide","narrow"],B=[1970,0,1,0,0,0,0],E="";u=w.every(u,function(G,K){if(!K)return!0;var I=q[K-1];K=I.length;I=I.charAt(0);switch(I){case "y":if(2!=K&&y.strict)B[0]=G;else if(100>G)G=Number(G),I=""+(new Date).getFullYear(),K=100*I.substring(0,2),I=Math.min(Number(I.substring(2,4))+20,99),B[0]=G<I?K+G:K-100+G;else{if(y.strict)return!1;B[0]=G}break;case "M":case "L":if(2<K){if(K=k["months-"+("L"==I?"standAlone":"format")+"-"+v[K-3]].concat(),
y.strict||(G=G.replace(".","").toLowerCase(),K=w.map(K,function(V){return V.replace(".","").toLowerCase()})),G=w.indexOf(K,G),-1==G)return!1}else G--;B[1]=G;break;case "E":case "e":case "c":K=k["days-"+("c"==I?"standAlone":"format")+"-"+v[K-3]].concat();y.strict||(G=G.toLowerCase(),K=w.map(K,function(V){return V.toLowerCase()}));G=w.indexOf(K,G);if(-1==G)return!1;break;case "D":B[1]=0;case "d":B[2]=G;break;case "a":K=y.am||k["dayPeriods-format-wide-am"];I=y.pm||k["dayPeriods-format-wide-pm"];if(!y.strict){var O=
/\./g;G=G.replace(O,"").toLowerCase();K=K.replace(O,"").toLowerCase();I=I.replace(O,"").toLowerCase()}if(y.strict&&G!=K&&G!=I)return!1;E=G==I?"p":G==K?"a":"";break;case "K":24==G&&(G=0);case "h":case "H":case "k":if(23<G)return!1;B[3]=G;break;case "m":B[4]=G;break;case "s":B[5]=G;break;case "S":B[6]=G}return!0});x=+B[3];"p"===E&&12>x?B[3]=x+12:"a"===E&&12==x&&(B[3]=0);x=new Date(B[0],B[1],B[2],B[3],B[4],B[5],B[6]);y.strict&&x.setFullYear(B[0]);var N=q.join("");z=-1!=N.indexOf("d");N=-1!=N.indexOf("M");
if(!u||N&&x.getMonth()>B[1]||z&&x.getDate()>B[2])return null;if(N&&x.getMonth()<B[1]||z&&x.getDate()<B[2])x=a.add(x,"hour",1);return x};var m=["abbr","wide","narrow"],r=[],p={};f.addCustomFormats=function(u,y){r.push({pkg:u,name:y});p={}};f._getGregorianBundle=function(u){if(p[u])return p[u];var y={};w.forEach(r,function(x){x=l.getLocalization(x.pkg,x.name,u);y=D.mixin(y,x)},this);return p[u]=y};f.addCustomFormats(e.id.replace(/\/date\/locale$/,".cldr"),"gregorian");f.getNames=function(u,y,x,z){z=
f._getGregorianBundle(z);u=[u,x,y];if("standAlone"==x){x=u.join("-");var q=z[x];1==q[0]&&(q=void 0)}u[1]="format";return(q||z[u.join("-")]).concat()};f.isWeekend=function(u,y){y=t.getWeekend(y);u=(u||new Date).getDay();y.end<y.start&&(y.end+=7,u<y.start&&(u+=7));return u>=y.start&&u<=y.end};f._getDayOfYear=function(u){return a.difference(new Date(u.getFullYear(),0,1,u.getHours()),u)+1};f._getWeekOfYear=function(u,y){1==arguments.length&&(y=0);var x=(new Date(u.getFullYear(),0,1)).getDay(),z=(x-y+
7)%7;z=Math.floor((f._getDayOfYear(u)+z-1)/7);x==y&&z++;return z};return f})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(D,w){var a={};D.setObject("dojo.cldr.supplemental",a);a.getFirstDayOfWeek=function(t){t={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,
mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[a._region(t)];return void 0===t?1:t};a._region=function(t){t=w.normalizeLocale(t);t=t.split("-");var l=t[1];l?4==l.length&&(l=t[2]):l={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",
dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",
lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",
tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",
chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",
kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",
mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",
swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[t[0]];return l};a.getWeekend=function(t){var l=a._region(t);t={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,
tn:5}[l];l={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[l];void 0===t&&(t=6);void 0===l&&(l=0);return{start:t,end:l}};return a})},"esri/_coremap":function(){define("require module dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix ./kernel ./config ./basemaps ./lang ./Evented ./fx ./deferredUtils ./tileUtils ./urlUtils ./PluginTarget ./Color ./promiseList ./arcade/Dictionary ./geometry/Point ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils ./layers/GraphicsLayer ./layers/TileInfo ./layers/LOD ./layers/ArcGISTiledMapServiceLayer ./layers/MapImageLayer ./layers/OpenStreetMapLayer ./layers/support/webglUtils ./dijit/Popup ./plugins/popupManager dojo/uacss".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B,E,N,G,K,I,O,V,na,ja,la,ca,ea,oa,sa,za,Z,ka,ua,A,F,Q,X,aa,pa){function ra(M,W){var fa=M.lods;fa.sort(function(Ba,Ja){return Ba.scale>Ja.scale?-1:Ba.scale<Ja.scale?1:0});var qa=[];fa=g.filter(fa,function(Ba){if(-1===P(qa,Ba.scale))return qa.push(Ba.scale),!0});var wa=W.lods=[],ya;g.forEach(fa,function(Ba,Ja){ya=wa[Ja]=new A(Ba);ya.level=Ja});W.tileInfo=new ua(Y(M,{lods:wa}))}var T,U=za.toMapPoint,ba=za.toScreenPoint,ma=l.connect,da=l.disconnect,
Aa=h.hitch,R=p.set,P=g.indexOf,Y=h.mixin,ha=0,ta=q.defaults.map,Da=ta.layerNamePrefix,Ga=ta.graphicsLayerNamePrefix,Ma=new RegExp("^"+Da+"(\\d+)$"),Ia=new RegExp("^"+Ga+"(\\d+)$"),Fa=function(){},La=0,Ka=aa.isWebGLEnabled();t=t([B,I],{declaredClass:"esri._CoreMap",tables:null,resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',
invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',visible:!0,webglEnabled:Ka,_eventMap:{"basemap-change":!0,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],
load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],scale:["matrix","immediate"],"time-extent-change":["timeExtent"],"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,
"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constructor:function(M,W){W=W||{};this.registerConnectEvents();Y(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_basemapPending:!1,_connects:[],_layerAddPromises:{},
_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null,_minResolution:0,_maxResolution:0,cursor:null,layerIds:[],graphicsLayerIds:[],graphics:null,_labels:null,loaded:!1,__panning:!1,__zooming:!1,__container:null,root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null,_rids:[],_webglContextOwners:[]});var fa=this.container=b.byId(M),qa=this.id=c.get(fa,"id")||y.getUniqueId(this.declaredClass);f.add(fa,"map");
var wa=r.getContentBox(fa);M=f.add;var ya=m.create;this.position=new la(0,0);this._reposition();var Ba=this.width=0<wa.w?wa.w:ta.width,Ja=this.height=0<wa.h?wa.h:ta.height,Ha=this.root=ya("div",{id:qa+"_root",style:{width:Ba+"px",height:Ja+"px",direction:"ltr"}});M(Ha,"esriMapContainer");wa=this.__container=ya("div",{id:qa+"_container"},Ha);R(wa,"position","absolute");M(wa,"esriMapContainer");fa.appendChild(Ha);W=this._params=Y({slider:!0,nav:!1,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,maxScale:0,
showInfoWindowOnClick:!0,displayGraphicsOnPan:!0,wrapAround180:!0,fitExtent:!1,optimizePanAnimation:!0},W);this.setWebGLEnabled(null!=W.webglEnabled?W.webglEnabled:this.webglEnabled);this.maxWebGLContexts=null!=W.maxWebGLContexts?W.maxWebGLContexts:-1;this.wrapAround180=W.wrapAround180;this.optimizePanAnimation=W.optimizePanAnimation;this.setBackgroundColor(W.backgroundColor);v.isDefined(W.resizeDelay)&&(this.resizeDelay=W.resizeDelay);W.lods&&(ra({rows:512,cols:512,dpi:96,format:"JPEG",compressionQuality:75,
origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:W.lods},W),this.__tileInfo=W.tileInfo);this.extent=W.extent;this._extentUtil({mapCenter:W.center,targetLevel:W.zoom,targetScale:W.scale});this.__visibleRect=new ea(0,0,Ba,Ja);this.__visibleDelta=new ea(0,0,Ba,Ja);qa=this._layersDiv=ya("div",{id:qa+"_layers"});M(qa,"esriMapLayers");wa.appendChild(qa);this._zoomAnimDiv=ya("div",{style:{position:"absolute"}});W.infoWindow?this.infoWindow=W.infoWindow:(M=this.infoWindow=new pa(W.popupOptions,ya("div")),
M.startup(),M._ootb=!0,R(M.domNode,"zIndex",40));if(W.showLabels){var Ca=this;D(["./layers/LabelLayer"],function(Oa){T=Oa;Ca._createLabelLayer()});this.on("load",function(){Ca._createLabelLayer()})}this.addPlugin(this._getAbsMid("./plugins/popupManager"),{enabled:W.showInfoWindowOnClick});this._zoomStartHandler=Aa(this,this._zoomStartHandler);this._zoomingHandler=Aa(this,this._zoomingHandler);this._zoomEndHandler=Aa(this,this._zoomEndHandler);this._panningHandler=Aa(this,this._panningHandler);this._panEndHandler=
Aa(this,this._panEndHandler);this._endTranslate=Aa(this,this._endTranslate);this._timedResize=Aa(this,this._timedResize);this._execResize=Aa(this,this._execResize);this._processLabelLayers=Aa(this,this._processLabelLayers);this._updateLabelLayers=Aa(this,this._updateLabelLayers);this.resize=Aa(this,this.resize);d.addOnWindowUnload(this,this.destroy)},_getAbsMid:function(M){return D.toAbsMid?D.toAbsMid(M):w.id.replace(/\/[^\/]*$/ig,"/")+M},_cleanUp:function(){var M=this.infoWindow;M&&(M._ootb&&M.destroy?
M.destroy():M.unsetMap(this),delete this.infoWindow);da(this._tsTimeExtentChange_connect);this.removePlugin("./plugins/popupManager");m.destroy(this.root);this.root=null},_addLayer:function(M,W,fa){if(M.id){var qa=M.id.match(M instanceof ka?Ia:Ma);qa&&qa[1]&&(qa=Number(qa[1]),ha<=qa&&(ha=qa+1))}var wa=M.id||(M instanceof ka?Ga:Da)+ha++;M.id=wa;this._layers[wa]=M;M._isRefLayer="top"===fa;fa=!v.isDefined(fa)||0>fa||fa>W.length||"top"===fa?W.length:fa;var ya;if(!M._isRefLayer)for(;(ya=this.getLayer(W[fa-
1]))&&ya._isRefLayer;)fa--;if(qa=!this._firstLayerId&&!this.loaded&&!this._basemapPending&&0===fa&&(W===this.layerIds||W===this.graphicsLayerIds))this._firstLayerId=wa;W.splice(fa,0,wa);var Ba=Aa(this,this._addLayerHandler),Ja=this;fa=this._connects;ya=function(){M.loaded?Ja._onLoadFix?(Ja._onLoadFix=!1,setTimeout(function(){Ba(M)},0)):Ba(M):(Ja["_"+wa+"_addtoken_load"]=ma(M,"onLoad",Ja,"_addLayerHandler"),Ja["_"+wa+"_addtoken_err"]=ma(M,"onError",Ja,function(Ha){Ba(M,Ha,W)}))};this.loaded||qa||M.loaded&&
-1===P(this.graphicsLayerIds,wa)?ya():fa.push(ma(this,"onLoad",ya));return M},_forgetLayer:function(M){M=M.id;da(this["_"+M+"_addtoken_load"]);da(this["_"+M+"_addtoken_err"]);var W=this._layerAddPromises[M];W&&(delete this._layerAddPromises[M],W.cancel())},_addLayerHandler:function(M,W,fa){W?this._attachLayerToMap(M,W,fa):M._prepareToAttach?(this._layerAddPromises[M.id]=M._prepareToAttach(this)).always(h.hitch(this,function(qa){qa&&"cancel"===qa.dojoType||this._attachLayerToMap(M,null,fa)})):M.declaredClass&&
(-1<M.declaredClass.toLowerCase().indexOf("vectortilelayer")||-1<M.declaredClass.toLowerCase().indexOf("rasterxlayer")&&M.useWebGL)&&!this.isWebGLContextAvailable()?(W=Error("Too many WebGL contexts. Unable to add the layer: ",M.url),this._attachLayerToMap(M,W,this.layerIds)):this._attachLayerToMap(M,W,fa)},_attachLayerToMap:function(M,W,fa){var qa=this.id,wa=M.id,ya=P(M instanceof ka?this.graphicsLayerIds:this.layerIds,wa),Ba=ya,Ja=!1,Ha=this._params;this._forgetLayer(M);if(W)delete this._layers[wa],
-1!==ya&&(fa.splice(ya,1),this.onLayerAddResult(M,W));else{-1===ya&&(ya=P(this._internalLayerIds,wa),Ba=20+ya,Ja=!0);if(wa===this._firstLayerId){W=M.spatialReference;fa=this.extent&&this.extent.spatialReference;!fa||fa.equals(W)||!M.tileInfo&&M.url||(fa=null);fa=this.spatialReference=fa||W;this.wrapAround180=this.wrapAround180&&fa&&fa._isWrappable()?!0:!1;M.tileInfo&&(this.__tileInfo?(W=this.__tileInfo.lods,this.__tileInfo=Y({},M.tileInfo),this.__tileInfo.lods=W):(ra(Y({},M.tileInfo),Ha),this.__tileInfo=
Ha.tileInfo));if(this.wrapAround180){W=this.__tileInfo;fa=fa._getInfo();if(!W||Math.abs(fa.origin[0]-W.origin.x)>fa.dx)this.wrapAround180=!1;this.wrapAround180&&W&&G._addFrameInfo(W,fa)}Ha.units=M.units;if((W=this.__tileInfo&&this.__tileInfo.lods)&&W.length){fa=Ha.minScale;ya=Ha.maxScale;var Ca=-1,Oa=-1,ab=!1,Ta=!1,Wa;for(Wa=0;Wa<W.length;Wa++)0<fa&&!ab&&fa>=W[Wa].scale&&(Ca=W[Wa].level,ab=!0),0<ya&&!Ta&&ya>=W[Wa].scale&&(Oa=0<Wa?W[Wa-1].level:-1,Ta=!0);-1===Ha.minZoom&&(Ha.minZoom=0===fa?W[0].level:
Ca);-1===Ha.maxZoom&&(Ha.maxZoom=0===ya?W[W.length-1].level:Oa);for(Wa=0;Wa<W.length;Wa++)Ha.minZoom===W[Wa].level&&(Ha.minScale=W[Wa].scale,this._minResolution=W[Wa].resolution),Ha.maxZoom===W[Wa].level&&(Ha.maxScale=W[Wa].scale,this._maxResolution=W[Wa].resolution)}else Ha.minZoom=Ha.maxZoom=Ha.zoom=-1}M instanceof ka?(this._gc||(this._gc=new ka._GraphicsContainer,this._gc._setMap(this,this._layersDiv).id=qa+"_gc"),this._attachGraphicsLayer(M).id=qa+"_"+wa):(Ba=M._setMap(this,this._layersDiv,Ba,
this.__LOD),Ba.id=qa+"_"+wa,this._layerDivs[wa]=Ba,this._reorderLayers(this.layerIds),Ja||-1===M.declaredClass.indexOf("VETiledLayer")||this._onBingLayerAdd(M));wa===this._firstLayerId&&(this.graphics=new ka({id:qa+"_graphics",displayOnPan:Ha.displayGraphicsOnPan}),this._addLayer(this.graphics,this._internalLayerIds,20));if(M===this.graphics){fa=this._layers[this._firstLayerId];qa=Ha.zoom;Ba=Ha.scale;W=Ha.center;fa=fa.initialExtent||fa.fullExtent;this._firstLayerId=null;this.extent&&(this.extent=
this._convertGeometry(this,this.extent));!this.extent&&fa&&(W&&(W=this._convertGeometry(fa,W)),W&&(fa=fa.centerAt(W),W=null));if(W=this.extent||fa&&new ca(fa.toJson()))-1<qa?W=this.__getExtentForLevel(qa,null,W).extent:0<Ba&&(W=sa.getExtentForScale(this,Ba,W));if(!W){console.log("Map: "+this.invalidExtent);return}Ha=this._fixExtent(W,Ha.fitExtent);this.extent=Ha.extent;this.__LOD=Ha.lod;this.__setExtent(this.extent);this.loaded=!0;this.attr("data-loaded","");this.infoWindow.setMap(this);this.onLoad(this)}Ja||
(this.onLayerAdd(M),this.onLayerAddResult(M));da(this[wa+"_addLayerHandler_connect"])}},_convertGeometry:function(M,W){M=M&&M.spatialReference;var fa=W&&W.spatialReference;M&&fa&&!M.equals(fa)&&(M._canProject(fa)?M.isWebMercator()?W=Z.geographicToWebMercator(W):4326===M.wkid&&(W=Z.webMercatorToGeographic(W,!0)):(console.log("Map: "+v.substitute({geometry:fa.wkid||fa.wkt,map:M.wkid||M.wkt},this.invalidGeometry)),W=null));return W},_attachGraphicsLayer:function(M){var W=M.id;M=M._setMap(this,this._gc._surface);
this._layerDivs[W]=M;this._reorderLayers(this.graphicsLayerIds);return M},_detachGraphicsLayer:function(M){M.loaded&&M.getMap()&&M._unsetMap(this,this._gc._surface)},_reorderLayers:function(M){var W=this.onLayerReorder,fa=m.place,qa=this._layerDivs,wa=this._layers,ya=this._gc?this._gc._surface.getEventSource():null;if(M===this.graphicsLayerIds)g.forEach(M,function(Oa,ab){var Ta=qa[Oa];Oa=wa[Oa];Ta&&(this._gc._reorderLayer(Oa,Ta,ab),W(Oa,ab))},this);else{var Ba=this.graphics,Ja=Ba?Ba.id:null,Ha=this._layersDiv,
Ca;g.forEach(M,function(Oa,ab){Ca=qa[Oa];Oa!==Ja&&Ca&&(fa(Ca,Ha,ab),W(wa[Oa],ab))});this._mapImageLyr&&this._placeMapImageLyr();ya&&(ya=9>u("ie")?ya.parentNode:ya,fa(ya,ya.parentNode,"last"))}this.onLayersReordered([].concat(M))},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor)},_zoomingHandler:function(M){var W=parseFloat(M.left),fa=parseFloat(M.top);M=new ca(W,fa-parseFloat(M.height),W+parseFloat(M.width),fa,this.spatialReference);W=this.extent.getWidth()/
M.getWidth();this.__zoom(M,W,this._zoomAnimDiv.anchor)},_zoomEndHandler:function(){var M=this._zoomAnimDiv,W=M.extent,fa=this.extent.getWidth()/W.getWidth(),qa=M.anchor,wa=M.newLod,ya=M.levelChange;M.extent=M.anchor=M.levelChange=M.startingExtent=M.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(W,fa,qa,wa,ya)},_panningHandler:function(M){if(isNaN(parseFloat(M.left))||isNaN(parseFloat(M.top))){var W=Math.round,fa=this._panAnim.node;M.left=-1*(this._delta.x-W(this.width/2))+"px";M.top=-1*(this._delta.y-
W(this.height/2))+"px";p.set(fa,"left",M.left);p.set(fa,"top",M.top)}M=new la(parseFloat(M.left),parseFloat(M.top));W=this.toMap(M);this.onPan(this.extent.offset(this.extent.xmin-W.x,this.extent.ymax-W.y),M)},_panEndHandler:function(M){this.__panning=!1;var W=Math.round;M=new la(-W(parseFloat(M.style.left)),-W(parseFloat(M.style.top)));W=M.x;var fa=M.y,qa=this.__visibleRect,wa=this.__visibleDelta;qa.x+=-W;qa.y+=-fa;wa.x+=-W;wa.y+=-fa;R(this._zoomAnimDiv,{left:"0px",top:"0px"});qa=this.extent;wa=this._ratioW;
var ya=this._ratioH;qa=new ca(qa.xmin+W/wa,qa.ymin-fa/ya,qa.xmax+W/wa,qa.ymax-fa/ya,this.spatialReference);M.setX(-M.x);M.setY(-M.y);this._delta=this._panAnim=null;this._updateExtent(qa);this.onPanEnd(qa,M);this._fireExtChg([qa,M,!1,this.__LOD])},_fixExtent:function(M,W){for(var fa=this._reshapeExtent(M),qa=1.25;!0===W&&(fa.extent.getWidth()<M.getWidth()||fa.extent.getHeight()<M.getHeight())&&0<fa.lod.level&&3>=qa;)fa=this._reshapeExtent(M.expand(qa)),qa+=.25;return fa},_getFrameWidth:function(){var M=
-1,W=this.spatialReference._getInfo();this.__LOD?(W=this.__LOD._frameInfo)&&(M=W[3]):W&&(M=Math.round(2*W.valid[1]/(this.extent.getWidth()/this.width)));return M},_fixAspectRatio:function(M){var W=M.getWidth(),fa=M.getHeight(),qa=W/fa,wa=this.width/this.height,ya=0,Ba=0;this.width>this.height?W>fa?wa>qa?ya=fa*wa-W:Ba=W/wa-fa:ya=fa*wa-W:this.width<this.height?W<fa?wa>qa?ya=fa*wa-W:Ba=W/wa-fa:Ba=W/wa-fa:W<fa?ya=fa-W:W>fa&&(Ba=W/wa-fa);ya&&(M.xmin-=ya/2,M.xmax+=ya/2);Ba&&(M.ymin-=Ba/2,M.ymax+=Ba/2);
return M},_reshapeExtent:function(M){M=this._fixAspectRatio(M);return this._getAdjustedExtent(M)},_getAdjustedExtent:function(M){if(this.__tileInfo)return G.getCandidateTileInfo(this,this.__tileInfo,M);var W=sa.getScale(this,M),fa=this.getMinScale(),qa=this.getMaxScale();!fa||W<=fa?!qa||W>=qa||(M=sa.getExtentForScale(this,qa,M)):M=sa.getExtentForScale(this,fa,M);return{extent:M}},_onBingLayerAdd:function(M){this["__"+M.id+"_vis_connect"]=l.connect(M,"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(M.visible)},
_onBingLayerRemove:function(M){l.disconnect(this["__"+M.id+"_vis_connect"]);delete this["__"+M.id+"_vis_connect"];var W=g.some(this.layerIds,function(fa){return(M=this._layers[fa])&&M.visible&&-1!==M.declaredClass.indexOf("VETiledLayer")},this);this._toggleBingLogo(W)},_toggleBingLogo:function(M){M&&!this._bingLogo?(M={left:this._mapParams&&this._mapParams.nav?"25px":""},6===u("ie")&&(M.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+
D.toUrl("./images/map/bing-logo-lg.png")+"')"),M=this._bingLogo=m.create("div",{style:M},this.root),f.add(M,"bingLogo-lg")):!M&&this._bingLogo&&(m.destroy(this._bingLogo),delete this._bingLogo)},__panStart:function(M,W){var fa=this._zoomAnim,qa=this._panAnim;if(fa&&fa._active)fa.stop(),fa._fire("onEnd",[fa.node]);else if(qa&&qa._active){qa.stop();this._panAnim=null;W=qa.curve.getValue(qa._getStep());M=Math.round(parseFloat(W.left));W=Math.round(parseFloat(W.top));fa=this.navigationManager._dragOrigin;
this.__pan(M,W);fa&&(fa.x-=M,fa.y-=W);return}this.__panning=!0;this.onPanStart(this.extent,new la(M,W))},__pan:function(M,W){var fa=this.extent,qa=this._ratioW,wa=this._ratioH;this.onPan(new ca(fa.xmin-M/qa,fa.ymin+W/wa,fa.xmax-M/qa,fa.ymax+W/wa,this.spatialReference),new la(M,W))},__panEnd:function(M,W){var fa=this.__visibleRect,qa=this.__visibleDelta;fa.x+=M;fa.y+=W;qa.x+=M;qa.y+=W;fa=new la(M,W);qa=this.extent;var wa=this._ratioW,ya=this._ratioH;qa=new ca(qa.xmin-M/wa,qa.ymin+W/ya,qa.xmax-M/wa,
qa.ymax+W/ya,this.spatialReference);this.__panning=!1;this._updateExtent(qa);this.onPanEnd(qa,fa);this._fireExtChg([qa,fa,!1,this.__LOD])},__zoomStart:function(M,W){this.__zooming=!0;this.onZoomStart(M,1,W,this.__LOD?this.__LOD.level:null)},__zoom:function(M,W,fa){this.onZoom(M,W,fa)},__zoomEnd:function(M,W,fa,qa,wa){R(this._layersDiv,{left:"0px",top:"0px"});this._delta=new la(0,0);this.__visibleRect.x=this.__visibleRect.y=0;M=new ca(M);this.__LOD=qa;this._ratioW=this.width/M.getWidth();this._ratioH=
this.height/M.getHeight();var ya=this._delta;this._delta=null;this.__zooming=!1;this._updateExtent(M,wa);this.onZoomEnd(M,W,fa,qa?qa.level:null);this._fireExtChg([M,ya,wa,qa])},_extentUtil:function(M,W,fa,qa,wa){var ya=new n,Ba=this.width,Ja=this.height;if(M){var Ha=M.numLevels;var Ca=M.targetLevel;var Oa=v.isDefined(Ca);var ab=M.factor;var Ta=M.mapAnchor;var Wa=M.screenAnchor;var Sa=M.mapCenter;var ob=M.levelOrFactor;var kb=M.targetScale;var eb=v.isDefined(kb)&&0<kb}if(W){var Qa=W.dx;var Xa=W.dy;
Sa=W.mapCenter}h.isArray(Sa)&&(Sa=new ja(Sa));var Ya=this._panAnim;W=(M=this._stopAnim())?M.divExtent:this.extent;var sb=this.__tileInfo,gb=this._params;if(!this.loaded){if(fa)W&&(fa=this._convertGeometry(W,fa)),fa&&(this.extent=fa,gb.zoom=gb.scale=-1,gb.center=null);else if(Sa||Oa||eb){if(Sa)if(W){if(Sa=this._convertGeometry(W,Sa))this.extent=W.centerAt(Sa),gb.center=null}else gb.center=Sa;Oa&&-1<Ca?(gb.zoom=Ca,gb.scale=-1):eb&&(gb.scale=kb,gb.zoom=-1)}ya.resolve();return ya}if(Sa&&(Sa=this._convertGeometry(this,
Sa),!Sa)||Ta&&(Ta=this._convertGeometry(this,Ta),!Ta)||fa&&(fa=this._convertGeometry(this,fa),!fa))return ya.reject(),ya;Ya&&Ta&&Wa&&(Ta=U(this.extent,Ba,Ja,Wa));M&&Ta&&Wa&&(Ta=U(M.divExtent,Ba,Ja,Wa));if(Oa)if(sb)Ha=this.getMinZoom(),Oa=this.getMaxZoom(),Ca<Ha?Ca=Ha:Ca>Oa&&(Ca=Oa),Ha=Ca-(M?M.level:this.getLevel());else{Ha=0<Ca?-1:1;var cb=ob?Ca:null}if(!fa)if(v.isDefined(Ha))sb?(Ba=M?M.level:this.getLevel(),Ba=this.__getExtentForLevel(Ba+Ha,Sa,W).extent):(Ba=(M?M.end:this.extent).expand(cb||(0<Ha?
.5*Ha:2*-Ha)),cb&&Sa&&(Ba=Ba.centerAt(Sa))),Ba&&(Sa?fa=Ba:(Qa=Ta||W.getCenter(),Ja=Ba.getWidth(),Xa=Ba.getHeight(),Ba=Qa.x>=W.xmin&&Qa.x<=W.xmax?(Qa.x-W.xmin)/W.getWidth():.5,fa=Qa.y>=W.ymin&&Qa.y<=W.ymax?(Qa.y-W.ymin)/W.getHeight():.5,Ba=Qa.x-Ba*Ja,Qa=Qa.y-fa*Xa,fa=new ca(Ba,Qa,Ba+Ja,Qa+Xa,this.spatialReference)));else if(eb)fa=sa.getExtentForScale(this,kb,W);else if(v.isDefined(ab))fa=W.expand(ab);else if(Qa||Xa)M?(fa=M.end,Ta=fa.getCenter(),cb=ba(fa,Ba,Ja,Ta),cb.x+=Qa,cb.y+=Xa,cb=U(fa,Ba,Ja,cb),
fa=fa.offset(cb.x-Ta.x,cb.y-Ta.y)):(Qa=new la(Ba/2+Qa,Ja/2+Xa),Qa=U(W,Ba,Ja,Qa),Ja=W.getWidth(),Xa=W.getHeight(),Ba=Qa.x-Ja/2,Qa=Qa.y-Xa/2,fa=new ca(Ba,Qa,Ba+Ja,Qa+Xa,this.spatialReference));fa||(Sa?(W=M?M.end:W,Ja=W.getWidth(),Xa=W.getHeight(),Ba=Sa.x-Ja/2,Qa=Sa.y-Xa/2,fa=new ca(Ba,Qa,Ba+Ja,Qa+Xa,this.spatialReference)):M&&(fa=M.end));fa?(this._extentDfd&&-1===this._extentDfd.fired&&(this._extentDfd.then(null,Fa),this._extentDfd.reject()),this._extentDfd=ya,this.__setExtent(fa,null,Wa,qa,M,wa)):
ya.reject();return ya},__setExtent:function(M,W,fa,qa,wa,ya){try{if(this._firstLayerId)this.extent=M;else{var Ba=!0,Ja=this.spatialReference,Ha=wa?wa.divExtent:this.extent,Ca=this._fixExtent(M,qa||!1);M=Ca.extent;var Oa=M.getWidth(),ab=M.getHeight(),Ta=Math.round;if(Ha){var Wa=Ta(1E6*Ha.getWidth()),Sa=Ta(1E6*Oa),ob=Ta(1E6*Ha.getHeight()),kb=Ta(1E6*ab);Ba=Wa!==Sa||ob!==kb}var eb,Qa=wa&&wa.rect,Xa=wa&&wa.divExtent;if(ta.zoomDuration&&Ba&&Ha){Xa=Xa||new ca(Ha);Qa=Qa||{left:Ha.xmin,top:Ha.ymax,width:Ha.getWidth(),
height:Ha.getHeight()};var Ya={left:M.xmin,top:M.ymax,width:Oa,height:ab};var sb=new ja(M.xmin,M.ymax,Ja),gb=new ja(M.xmin,M.ymin,Ja),cb=new ja(this.extent.xmin,this.extent.ymax,Ja),zb=new ja(this.extent.xmin,this.extent.ymin,Ja);(eb=oa.getLineIntersection(cb,sb,zb,gb,Ja))||wa||(Ba=!1)}this._ratioW=this.width/Oa;this._ratioH=this.height/ab;var bb=this._zoomAnimDiv;if(Ba)if(R(this._layersDiv,{left:"0px",top:"0px"}),W=new la(0,0),this.__visibleRect.x=this.__visibleRect.y=0,Qa&&Ya){this._delta=W;bb.id=
"_zAD";bb.startingExtent=Xa;bb.extent=M;bb.levelChange=Ba;bb.newLod=Ca.lod;bb.anchor=fa?fa:!eb&&wa?wa.anchor:ba(this.extent,this.width,this.height,eb);var pb=this.extent.getWidth()/M.getWidth();ta.zoomAnimationThrottled&&1024<(1>pb?1/pb:pb)?(this.__zoomStart(Xa,bb.anchor),this.__zoom(Xa,1,bb.anchor),this._fireOnScale(1,bb.anchor,!0),this.__zoomEnd(M,pb,bb.anchor,Ca.lod,Ba)):(this._zoomAnim=E.resize({node:bb,start:Qa,end:Ya,duration:ta.zoomDuration,rate:ta.zoomRate,beforeBegin:wa?null:this._zoomStartHandler,
onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play(),this._fireOnScale(pb,bb.anchor,ya))}else this._updateExtent(M,Ba,ya),this._fireExtChg([this.extent,W,Ba,this.__LOD=Ca.lod]);else if(!this.__panning)if(!1===this.loaded||ya)this._updateExtent(M,Ba,ya),this._fireExtChg([this.extent,W,Ba,this.__LOD=Ca.lod]);else{this.__panning=!0;Qa=(new ea(0,0,this.width,this.height,this.spatialReference)).getCenter();Qa.x=Ta(Qa.x);Qa.y=Ta(Qa.y);var tb=this._delta=this.toScreen(M.getCenter()),vb=Math.abs(Qa.x-
tb.x),Fb=Math.abs(Qa.y-tb.y);this.optimizePanAnimation&&(vb>2*this.width||Fb>2*this.height)?(this.__panStart(0,0),this.__pan(0,0),this.__visibleRect.x=this.__visibleRect.y=this.__visibleDelta.x=this.__visibleDelta.y=0,this.__panning=!1,this._delta=null,this._updateExtent(M,!1,ya),this.onPanEnd(this.extent,new la(0,0)),this._fireExtChg([this.extent,new la(0,0),!0,this.__LOD])):(this.onPanStart(this.extent,new la(0,0)),this._panAnim=E.slideTo({node:bb,left:Qa.x-tb.x,top:Qa.y-tb.y,duration:ta.panDuration,
rate:ta.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler}),this._panAnim.play())}}}catch(qb){console.log(qb.stack),console.error(qb)}},_fireOnScale:function(M,W,fa){if("css-transforms"===this.navigationMode){var qa=this.__visibleDelta;this.onScale(x.scaleAt(M,{x:-1*(this.width/2-(W.x-qa.x)),y:-1*(this.height/2-(W.y-qa.y))}),fa)}},_stopAnim:function(){var M=this._zoomAnim,W=this._panAnim;if(M&&M._active){M.stop();W=M.curve.getValue(M._getStep());var fa=parseFloat(W.left),qa=parseFloat(W.top);
M=M.node;return{anchor:M.anchor,start:M.startingExtent,end:M.extent,level:M.newLod&&M.newLod.level,rect:W,divExtent:new ca(fa,qa-parseFloat(W.height),fa+parseFloat(W.width),qa,this.spatialReference)}}W&&W._active&&(W.stop(),W._fire("onEnd",[W.node]))},__getExtentForLevel:function(M,W,fa){var qa=this.__tileInfo;qa=qa&&qa.lods;M=v.isDefined(M)?M:0;fa=fa||this.extent;W=W||fa&&fa.getCenter();if(qa){if(W){fa=this.getMinZoom();var wa=this.getMaxZoom();M>wa&&(M=wa);M<fa&&(M=fa);M=qa[M];qa=this.width*M.resolution/
2;fa=this.height*M.resolution/2;return{extent:new ca(W.x-qa,W.y-fa,W.x+qa,W.y+fa,W.spatialReference),lod:M}}}else if(fa)return{extent:fa.expand(!M||1>M?1:M).centerAt(W)};console.log("Map: "+this.invalidExtent)},_jobs:0,_incr:function(){1===++this._jobs&&(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart())},_decr:function(){var M=--this._jobs;M?0>M&&(this._jobs=0):(this.updating=!1,this.attr("data-updating"),this.onUpdateEnd())},_fireEvent:function(M,W){this[M]&&this[M].apply(this,
W)},_updateExtent:function(M,W,fa){this.extent=M;M=this.spatialReference;this._viewInfo={view:new na({viewingMode:"map",scale:this.getScale()}),sr:M,version:W?++La:La};(W||fa)&&this._setClipRect();this._calcGeographicExtent()},_calcGeographicExtent:function(){var M=this.spatialReference;M&&(M.isWebMercator()?this.geographicExtent=Z.webMercatorToGeographic(this._getAvailExtent(),!0):4326===M.wkid&&(this.geographicExtent=new ca(this._getAvailExtent().toJson())))},_fireExtChg:function(M){this.attr("data-zoom",
this.getZoom());this.attr("data-scale",this.getScale());this._fireEvent("onExtentChange",M);if(M=this._extentDfd)delete this._extentDfd,M.resolve()},attr:function(M,W){var fa=this.container;fa&&(null==W?fa.removeAttribute(M):fa.setAttribute(M,W));return this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect();this._calcGeographicExtent()},onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(M,W,fa){},onTimeExtentChange:function(){},onWebGLEnabledChange:function(){},
onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},destroy:function(){this._destroyed||
(this.onBeforeUnload(this),this.removeAllLayers(),this.releaseAllWebGLContexts(),this._cleanUp(),clearTimeout(this._resizeTimerHandle),this._gc&&this._gc._cleanUp(),this._destroyed=!0,this.onUnload(this))},setCursor:function(M){R(this.__container,"cursor",this.cursor=M)},setMapCursor:function(M){this.setCursor(this._cursor=M)},resetMapCursor:function(){this.setCursor(this._cursor)},setBackgroundColor:function(M){M&&!M.declaredClass&&(M=new O(M));this.backgroundColor=M||null;var W="";M&&(W=9>u("ie")?
M.toHex():"rgba("+M.toRgba().join(",")+")");p.set(this.root,{backgroundColor:W})},setInfoWindow:function(M){var W=this.infoWindow;W&&W.unsetMap(this);this.infoWindow=M;this.loaded&&M&&M.setMap(this)},setInfoWindowOnClick:function(M){this._params.showInfoWindowOnClick=M;this.popupManager&&this.popupManager.set("enabled",M)},getInfoWindowAnchor:function(M){return this.infoWindow&&this.infoWindow._getAnchor&&this.infoWindow._getAnchor(M)||"upperright"},toScreen:function(M,W){return ba(this.extent,this.width,
this.height,M,W)},toMap:function(M){return U(this.extent,this.width,this.height,M)},addLayer:function(M,W){M&&!this.getLayer(M.id)&&this._addLayer(M,M instanceof ka?this.graphicsLayerIds:this.layerIds,W);return M},addLayers:function(M){var W=[],fa=M.length,qa,wa=M.length;var ya=l.connect(this,"onLayerAddResult",function(Ba,Ja){-1!==g.indexOf(M,Ba)&&(fa--,W.push({layer:Ba,success:!Ja,error:Ja}),fa||(l.disconnect(ya),this.onLayersAddResult(W)))});for(qa=0;qa<wa;qa++)this.addLayer(M[qa]);return this},
removeLayer:function(M,W){var fa=M.id,qa=M instanceof ka?this.graphicsLayerIds:this.layerIds,wa=P(qa,fa);0<=wa&&(this._forgetLayer(M),qa.splice(wa,1),this.loaded||this._firstLayerId!==fa||(this._firstLayerId=null),M instanceof ka?this._detachGraphicsLayer(M):M.loaded&&(M.getMap()&&M._unsetMap(this,this._layersDiv),-1!==M.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerRemove(M)),delete this._layers[fa],delete this._layerDivs[fa],W||this._reorderLayers(qa),this.onLayerRemove(M))},removeAllLayers:function(){var M=
this.layerIds,W;for(W=M.length-1;0<=W;W--)this.removeLayer(this._layers[M[W]],1);M=this.graphicsLayerIds;for(W=M.length-1;0<=W;W--)this.removeLayer(this._layers[M[W]],1);this.onLayersRemoved()},reorderLayer:function(M,W){h.isString(M)&&(a.deprecated(this.declaredClass+": Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",null,"v2.0"),M=this.getLayer(M));var fa=M.id,qa=M instanceof ka?this.graphicsLayerIds:this.layerIds;0>W?W=0:W>=
qa.length&&(W=qa.length-1);M=P(qa,fa);-1!==M&&M!==W&&(qa.splice(M,1),qa.splice(W,0,fa),this._reorderLayers(qa))},getLayer:function(M){return this._layers[M]},setWebGLEnabled:function(M){var W=this.webglEnabled;this.webglEnabled=(M||!1)&&Ka;if(W!==this.webglEnabled)this.onWebGLEnabledChange()},isWebGLContextAvailable:function(){return aa.isContextAvailable()&&(-1===this.maxWebGLContexts||0<this.maxWebGLContexts&&this._webglContextOwners.length<this.maxWebGLContexts)},ownsWebGLContext:function(M){return-1!==
g.indexOf(this._webglContextOwners,M)},acquireWebGLContext:function(M){return-1!==g.indexOf(this._webglContextOwners,M)?!0:this.isWebGLContextAvailable()?(aa.acquireContext(M),this._webglContextOwners.push(M),!0):!1},releaseWebGLContext:function(M){var W=g.indexOf(this._webglContextOwners,M);-1!==W&&this._webglContextOwners.splice(W,1);aa.releaseContext(M)},releaseAllWebGLContexts:function(){var M=this._webglContextOwners.slice(0);g.forEach(M,function(W){this.releaseWebGLContext(W)},this)},syncHitTestForWebGL:function(M){var W,
fa=M.screenPoint;M=this.graphicsLayerIds.slice(0).reverse();g.some(M,function(qa){qa=this.getLayer(qa);qa.loaded&&!qa.suspended&&qa.hasWebGLSurface()&&(W=qa._div.syncHitTest(fa.x,fa.y));return!!W},this);return W},setExtent:function(M,W){M=new ca(M.toJson());var fa=M.getWidth(),qa=M.getHeight();return 0===fa&&0===qa?this.centerAt(new ja({x:M.xmin,y:M.ymin,spatialReference:M.spatialReference&&M.spatialReference.toJson()})):this._extentUtil(null,null,M,W)},getTargetExtent:function(M){if(M)return M=new ca(M.toJson()),
0!==M.getWidth()&&0!==M.getHeight()&&(M=(M=this._convertGeometry(this,M))&&this._fixExtent(M).extent),M},centerAt:function(M){return this._extentUtil(null,{mapCenter:M})},centerAndZoom:function(M,W){return this._extentUtil({targetLevel:W,mapCenter:M,levelOrFactor:!0})},getScale:function(){return this.__LOD?this.__LOD.scale:sa.getScale(this)},getResolution:function(){return this.__LOD?this.__LOD.resolution:this.extent?this.extent.getWidth()/this.width:0},getResolutionInMeters:function(){return this.getResolution()*
sa.getUnitValueForSR(this.spatialReference)},getResolutionForPopup:function(){var M=this.getResolution(),W=this.getResolutionInMeters(),fa=W/16;return 10>=fa?0:M/W*fa},getMinResolution:function(){return this._minResolution},getMaxResolution:function(){return this._maxResolution},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},getViewInfo:function(){return this._viewInfo},setScale:function(M){return this._extentUtil({targetScale:M})},getLayersVisibleAtScale:function(M){var W=
[];(M=M||this.getScale())&&g.forEach(this.layerIds.concat(this.graphicsLayerIds),function(fa){fa=this.getLayer(fa);fa.isVisibleAtScale(M)&&W.push(fa)},this);return W},getNumLevels:function(){var M=this.getMinZoom(),W=this.getMaxZoom();return M===W&&0>M?0:W-M+1},getLevel:function(){return this.__LOD?this.__LOD.level:-1},setLevel:function(M){if(-1<M)return this._extentUtil({targetLevel:M})},getZoom:function(){return this.getLevel()},setZoom:function(M){return this.setLevel(M)},getMinZoom:function(){return this._params.minZoom},
getMaxZoom:function(){return this._params.maxZoom},setBasemap:function(M){if(h.isObject(M)){var W=M;M=W.title}else W=k&&k[M];if(W){this._basemapDfd&&!this._basemapDfd.isFulfilled()&&this._basemapDfd.cancel();var fa=[],qa=0;g.forEach(W.baseMapLayers||W.layers,function(ya){var Ba={id:ya.id,displayLevels:ya.displayLevels,opacity:v.isDefined(ya.opacity)?ya.opacity:null,visible:v.isDefined(ya.visibility)?ya.visibility:null};if(Ba=this._createBaseLayerInstance(ya,Ba,M))fa.push(Ba),ya.isReference||qa++},
this);fa.length&&qa?(this._basemapDfd=V(fa).otherwise(Aa(this,function(ya){this._basemapPending=!1;ya&&"cancel"===ya.dojoType&&g.forEach(fa,function(Ba){Ba.cancel()});throw ya;})).then(function(ya){var Ba=[],Ja=[];g.forEach(ya,function(Ha){Ha&&(Ha.layerInfo&&Ba.push(Ha.layerInfo),Ha.layer&&Ja.push(Ha.layer))});return{basemapName:M,infos:Ba,layers:Ja}}).then(Aa(this,this._waitForBaseLayers)).then(Aa(this,this._setBasemap)),this._basemapPending=!this.loaded&&!this._basemapDfd.isFulfilled()):console.log("Map.setBasemap: "+
v.substitute({basemapName:M},this.invalidBasemap))}else{W=[];for(var wa in k)W.push(wa);console.log("Map.setBasemap: "+v.substitute({basemapName:M,list:W.join(",")},this.unknownBasemap))}},_createBaseLayerInstance:function(M,W,fa){var qa=new n;if(M.type)switch(M.type){case "OpenStreetMap":qa.resolve({layerInfo:M,layer:new X(W)});break;case "VectorTile":D(["./layers/VectorTileLayer"],function(ya){wa=K.normalize(M.url);qa.promise.isFulfilled()||qa.resolve({layerInfo:M,layer:new ya(wa,W)})});break;default:return console.log("Map.setBasemap: "+
v.substitute({basemapName:fa,type:M.type},this.unknownLayerType)),null}else{var wa=K.normalize(M.url);qa.resolve({layerInfo:M,layer:new F(wa,W)})}return qa.promise},_waitForBaseLayers:function(M){var W=new n(N._dfdCanceller);W.promise.otherwise(function(qa){if(qa&&"cancel"===qa.dojoType){for(var wa in W._layerEvents)qa=W._layerEvents[wa],l.disconnect(qa[0]),l.disconnect(qa[1]);delete W._layerEvents}});if(!this.loaded)return W.resolve(M),W.promise;var fa=function(qa){W._pendingLayers--;qa=g.indexOf(M.layers,
this);-1<qa&&(qa=W._layerEvents[qa])&&(l.disconnect(qa[0]),l.disconnect(qa[1]));0>=W._pendingLayers&&(delete W._layerEvents,W.isFulfilled()||W.resolve(M))};W._pendingLayers=0;W._layerEvents={};g.forEach(M.layers,function(qa,wa){qa&&W._pendingLayers++});g.forEach(M.layers,function(qa,wa){qa&&(qa.loaded?fa(qa):W._layerEvents[wa]=[l.connect(qa,"onLoad",qa,fa),l.connect(qa,"onError",qa,fa)])});return W.promise},_setBasemap:function(M){var W=M.layers,fa=M.infos,qa=0,wa=!0;this._basemapPending=!1;this.loaded&&
(g.forEach(W,function(Ba,Ja){Ba.loaded&&(fa[Ja].isReference||qa++)}),wa=qa);if(wa){if(this.basemapLayerIds){var ya={basemapName:this._basemap,infos:k&&k[this._basemap]&&k[this._basemap].baseMapLayers};ya.basemapName||(g.forEach(this.basemapLayerIds,function(Ba){if(this.getLayer(Ba)instanceof X)return ya.basemapName="osm",ya.infos=k&&k.osm&&k.osm.baseMapLayers,!1},this),ya.basemapName||(ya=null))}this._removeBasemap();this._basemap=M.basemapName;this.basemapLayerIds=this._addBasemapLayers(W,fa);this.attr("data-basemap",
this.getBasemap());this.emit("basemap-change",{current:M,previous:ya})}},_addBasemapLayers:function(M,W){var fa=[],qa=[],wa=0;g.forEach(M,function(ya,Ba){W[Ba].isReference?fa.push(ya):(this.addLayer(ya,wa++),qa.push(ya.id))},this);fa.length&&g.forEach(fa,function(ya){ya.attr("data-reference",!0);this.addLayer(ya,"top");qa.push(ya.id)},this);return qa},_removeBasemap:function(){var M=this.basemapLayerIds,W;M&&M.length&&g.forEach(M,function(fa){(W=this.getLayer(fa))&&this.removeLayer(W)},this)},getBasemap:function(){return this._basemap||
""},translate:function(M,W){M=M||0;W=W||0;if(!this._txTimer){this._tx=this._ty=0;var fa=this.toScreen(this.extent.getCenter());this.__panStart(fa.x,fa.y)}this._tx+=M;this._ty+=W;this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150)},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var M=this._tx,W=this._ty;this._tx=this._ty=0;this.__panEnd(M,W)},setTimeExtent:function(M){M=(this.timeExtent=M)?new M.constructor(M.toJson()):
null;this.onTimeExtentChange(M)},setTimeSlider:function(M){this.timeSlider&&(da(this._tsTimeExtentChange_connect),this.timeSlider=this._tsTimeExtentChange_connect=null);M&&(this.timeSlider=M,this.setTimeExtent(M.getCurrentTimeExtent()),this._tsTimeExtentChange_connect=ma(M,"onTimeExtentChange",this,"setTimeExtent"))},setVisibility:function(M){if(this.visible!==M){this.visible=M;M||(this._display=this.container.style.display);this.container.style.display=M?this._display:"none";if(this.autoResize){var W=
M?"resume":"pause";this._rszSignal[W]();this._oriSignal[W]()}M&&this.resize()}return this},resize:function(M){clearTimeout(this._resizeTimerHandle);this._destroyed||(!0===M?this._execResize():this._resizeTimerHandle=setTimeout(this._execResize,this.resizeDelay))},_timedResize:function(){this._resizeTimerHandle||this._execResize()},_execResize:function(){clearTimeout(this._resizeTimerHandle);this._resizeTimerHandle=null;this.reposition();this._resize();this.autoResize&&this._startResizeTimer()},_resize:function(){var M=
this.width,W=this.height,fa=p.get(this.container,"display"),qa=r.getContentBox(this.container);if(!("none"===fa||0>=qa.w||0>=qa.h||M===qa.w&&W===qa.h)){if(fa=this._zoomAnim||this._panAnim)fa.stop(),fa._fire("onEnd",[fa.node]);R(this.root,{width:(this.width=qa.w)+"px",height:(this.height=qa.h)+"px"});qa=this.width;fa=this.height;this.attribution&&this.attribution.domNode&&p.set(this.attribution.domNode,"maxWidth",Math.floor(qa*this._mapParams.attributionWidth)+"px");this.__visibleRect.update(this.__visibleRect.x,
this.__visibleRect.y,qa,fa);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,qa,fa);var wa=new ea(this.extent);M=(new ea(wa.x,wa.y,qa/M*wa.width,fa/W*wa.height,this.spatialReference)).getExtent();this.onResize(M,qa,fa);this._extentUtil(null,null,M,null,!0)}},reposition:function(){var M=this.position,W=M.x,fa=M.y;this._reposition();M=this.position;if(W!==M.x||fa!==M.y)this.onReposition(M.x,M.y)},_reposition:function(){var M=r.position(this.container,!0),W=r.getPadBorderExtents(this.container);
this.position.update(M.x+W.l,M.y+W.t)},_setClipRect:function(){delete this._clip;var M=7>=u("ie")||void 0===u("ie")&&7<=u("trident")?"rect(auto,auto,auto,auto)":"auto";if(this.wrapAround180){var W=this.width,fa=this.height,qa=this._getFrameWidth(),wa=W-qa;0<wa&&(M=wa/2,M="rect(0px,"+(M+qa)+"px,"+fa+"px,"+M+"px)",fa=this.extent.getWidth(),W=qa/W*fa,this._clip=[(fa-W)/2,W])}R(this.__container,"clip",M)},_getAvailExtent:function(){var M=this.extent,W=this._clip;if(W){if(!M._clip){var fa=new ea(M);fa.width=
W[1];fa.x+=W[0];M._clip=fa.getExtent()}return M._clip}return M},_fixedPan:function(M,W){return this._extentUtil(null,{dx:M,dy:W})},panUp:function(){return this._fixedPan(0,-.75*this.height)},panUpperRight:function(){return this._fixedPan(.75*this.width,-.75*this.height)},panRight:function(){return this._fixedPan(.75*this.width,0)},panLowerRight:function(){return this._fixedPan(.75*this.width,.75*this.height)},panDown:function(){return this._fixedPan(0,.75*this.height)},panLowerLeft:function(){return this._fixedPan(-.75*
this.width,.75*this.height)},panLeft:function(){return this._fixedPan(-.75*this.width,0)},panUpperLeft:function(){return this._fixedPan(-.75*this.width,-.75*this.height)},enableSnapping:function(M){M=M||{};if("esri.SnappingManager"===M.declaredClass)this.snappingManager=M;else{var W=ha++,fa=this;this._rids&&this._rids.push(W);D(["./SnappingManager"],function(qa){var wa=fa._rids?g.indexOf(fa._rids,W):-1;-1!==wa&&(fa._rids.splice(wa,1),fa.snappingManager=new qa(h.mixin({map:fa},M)))})}return this.snappingManager},
disableSnapping:function(){this.snappingManager&&this.snappingManager.destroy();this.snappingManager=null},_createLabelLayer:function(){!this._labels&&T&&this.loaded&&(this._labels=new T({id:"_internal_LabelLayer"}),this._labels._setMap(this,this._gc._surface),this._processLabelLayers(),this.on("layers-reordered",this._processLabelLayers))},_processLabelLayers:function(){null==this._labelProcessor&&(this._labelProcessor=setTimeout(this._updateLabelLayers,0))},_updateLabelLayers:function(){this._labelProcessor=
null;this._labels&&(this._labels.removeAllFeatureLayers(),g.forEach(this.graphicsLayerIds,function(M){M=this.getLayer(M);"function"===typeof M.applyEdits?this._labels.addFeatureLayer(M):"esri.layers.WFSLayer"===M.declaredClass&&this._labels.addFeatureLayer(M)},this))},_getMapImageLyr:function(){this.loaded&&!this._mapImageLyr&&(this._mapImageLyr=new Q,this._mapImageLyr._setMap(this,this._layersDiv),this._placeMapImageLyr());return this._mapImageLyr},_placeMapImageLyr:function(){for(var M=this.layerIds,
W=this._layerDivs,fa=!1,qa,wa,ya=M.length-1;0<=ya;ya--)if(qa=M[ya],wa=this.getLayer(qa),qa=W[qa],wa&&qa&&!wa._isReference){m.place(this._mapImageLyr._div,qa,"after");fa=!0;break}fa||m.place(this._mapImageLyr._div,this._layersDiv,"first")}});u("extend-esri")&&(z._CoreMap=t);return t})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(D,w){var a=D.matrix={},t={};a._degToRad=function(l){return t[l]||(t[l]=Math.PI*l/180)};a._radToDeg=function(l){return l/Math.PI*180};a.Matrix2D=
function(l){if(l)if("number"==typeof l)this.xx=this.yy=l;else if(l instanceof Array){if(0<l.length){for(var n=a.normalize(l[0]),h=1;h<l.length;++h){var g=n,e=a.normalize(l[h]);n=new a.Matrix2D;n.xx=g.xx*e.xx+g.xy*e.yx;n.xy=g.xx*e.xy+g.xy*e.yy;n.yx=g.yx*e.xx+g.yy*e.yx;n.yy=g.yx*e.xy+g.yy*e.yy;n.dx=g.xx*e.dx+g.xy*e.dy+g.dx;n.dy=g.yx*e.dx+g.yy*e.dy+g.dy}w.mixin(this,n)}}else w.mixin(this,l)};w.extend(a.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});w.mixin(a,{identity:new a.Matrix2D,flipX:new a.Matrix2D({xx:-1}),
flipY:new a.Matrix2D({yy:-1}),flipXY:new a.Matrix2D({xx:-1,yy:-1}),translate:function(l,n){return 1<arguments.length?new a.Matrix2D({dx:l,dy:n}):new a.Matrix2D({dx:l.x,dy:l.y})},scale:function(l,n){return 1<arguments.length?new a.Matrix2D({xx:l,yy:n}):"number"==typeof l?new a.Matrix2D({xx:l,yy:l}):new a.Matrix2D({xx:l.x,yy:l.y})},rotate:function(l){var n=Math.cos(l);l=Math.sin(l);return new a.Matrix2D({xx:n,xy:-l,yx:l,yy:n})},rotateg:function(l){return a.rotate(a._degToRad(l))},skewX:function(l){return new a.Matrix2D({xy:Math.tan(l)})},
skewXg:function(l){return a.skewX(a._degToRad(l))},skewY:function(l){return new a.Matrix2D({yx:Math.tan(l)})},skewYg:function(l){return a.skewY(a._degToRad(l))},reflect:function(l,n){1==arguments.length&&(n=l.y,l=l.x);var h=l*l,g=n*n,e=h+g,d=2*l*n/e;return new a.Matrix2D({xx:2*h/e-1,xy:d,yx:d,yy:2*g/e-1})},project:function(l,n){1==arguments.length&&(n=l.y,l=l.x);var h=l*l,g=n*n,e=h+g,d=l*n/e;return new a.Matrix2D({xx:h/e,xy:d,yx:d,yy:g/e})},normalize:function(l){return l instanceof a.Matrix2D?l:new a.Matrix2D(l)},
isIdentity:function(l){return 1==l.xx&&0==l.xy&&0==l.yx&&1==l.yy&&0==l.dx&&0==l.dy},clone:function(l){var n=new a.Matrix2D,h;for(h in l)"number"==typeof l[h]&&"number"==typeof n[h]&&n[h]!=l[h]&&(n[h]=l[h]);return n},invert:function(l){l=a.normalize(l);var n=l.xx*l.yy-l.xy*l.yx;return l=new a.Matrix2D({xx:l.yy/n,xy:-l.xy/n,yx:-l.yx/n,yy:l.xx/n,dx:(l.xy*l.dy-l.yy*l.dx)/n,dy:(l.yx*l.dx-l.xx*l.dy)/n})},_multiplyPoint:function(l,n,h){return{x:l.xx*n+l.xy*h+l.dx,y:l.yx*n+l.yy*h+l.dy}},multiplyPoint:function(l,
n,h){l=a.normalize(l);return"number"==typeof n&&"number"==typeof h?a._multiplyPoint(l,n,h):a._multiplyPoint(l,n.x,n.y)},multiplyRectangle:function(l,n){var h=a.normalize(l);n=n||{x:0,y:0,width:0,height:0};if(a.isIdentity(h))return{x:n.x,y:n.y,width:n.width,height:n.height};l=a.multiplyPoint(h,n.x,n.y);var g=a.multiplyPoint(h,n.x,n.y+n.height),e=a.multiplyPoint(h,n.x+n.width,n.y);n=a.multiplyPoint(h,n.x+n.width,n.y+n.height);h=Math.min(l.x,g.x,e.x,n.x);var d=Math.min(l.y,g.y,e.y,n.y);return{x:h,y:d,
width:Math.max(l.x,g.x,e.x,n.x)-h,height:Math.max(l.y,g.y,e.y,n.y)-d}},multiply:function(l){for(var n=a.normalize(l),h=1;h<arguments.length;++h){var g=n,e=a.normalize(arguments[h]);n=new a.Matrix2D;n.xx=g.xx*e.xx+g.xy*e.yx;n.xy=g.xx*e.xy+g.xy*e.yy;n.yx=g.yx*e.xx+g.yy*e.yx;n.yy=g.yx*e.xy+g.yy*e.yy;n.dx=g.xx*e.dx+g.xy*e.dy+g.dx;n.dy=g.yx*e.dx+g.yy*e.dy+g.dy}return n},_sandwich:function(l,n,h){return a.multiply(a.translate(n,h),l,a.translate(-n,-h))},scaleAt:function(l,n,h,g){switch(arguments.length){case 4:return a._sandwich(a.scale(l,
n),h,g);case 3:return"number"==typeof h?a._sandwich(a.scale(l),n,h):a._sandwich(a.scale(l,n),h.x,h.y)}return a._sandwich(a.scale(l),n.x,n.y)},rotateAt:function(l,n,h){return 2<arguments.length?a._sandwich(a.rotate(l),n,h):a._sandwich(a.rotate(l),n.x,n.y)},rotategAt:function(l,n,h){return 2<arguments.length?a._sandwich(a.rotateg(l),n,h):a._sandwich(a.rotateg(l),n.x,n.y)},skewXAt:function(l,n,h){return 2<arguments.length?a._sandwich(a.skewX(l),n,h):a._sandwich(a.skewX(l),n.x,n.y)},skewXgAt:function(l,
n,h){return 2<arguments.length?a._sandwich(a.skewXg(l),n,h):a._sandwich(a.skewXg(l),n.x,n.y)},skewYAt:function(l,n,h){return 2<arguments.length?a._sandwich(a.skewY(l),n,h):a._sandwich(a.skewY(l),n.x,n.y)},skewYgAt:function(l,n,h){return 2<arguments.length?a._sandwich(a.skewYg(l),n,h):a._sandwich(a.skewYg(l),n.x,n.y)}});D.Matrix2D=a.Matrix2D;return a})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(D,w,a,t,l,n,h,g,e){var d=w.getObject("dojox.gfx",!0),b=d._base={};d._hasClass=function(u,y){return(u=u.getAttribute("className"))&&0<=(" "+u+" ").indexOf(" "+y+" ")};d._addClass=function(u,y){var x=u.getAttribute("className")||"";(!x||0>(" "+x+" ").indexOf(" "+y+" "))&&u.setAttribute("className",x+(x?" ":"")+y)};d._removeClass=function(u,y){var x=u.getAttribute("className");x&&u.setAttribute("className",x.replace(new RegExp("(^|\\s+)"+y+"(\\s+|$)"),"$1$2"))};b._getFontMeasurements=function(){var u=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},y;if(t("ie")){var x=l.doc.documentElement.style.fontSize||"";x||(l.doc.documentElement.style.fontSize="100%")}var z=g.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},l.body());for(y in u)z.style.fontSize=y,u[y]=16*Math.round(12*z.offsetHeight/16)/12/
1E3;t("ie")&&(l.doc.documentElement.style.fontSize=x);l.body().removeChild(z);return u};var c=null;b._getCachedFontMeasurements=function(u){if(u||!c)c=b._getFontMeasurements();return c};var f=null,m={};b._getTextBox=function(u,y,x){var z=arguments.length,q;f||(f=g.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},l.body()));var k=f;k.className="";var v=k.style;v.borderWidth="0";v.margin="0";v.padding="0";v.outline="0";if(1<z&&y)for(q in y)q in m||(v[q]=y[q]);2<
z&&x&&(k.className=x);k.innerHTML=u;k.getBoundingClientRect?(v=k.getBoundingClientRect(),v={l:v.left,t:v.top,w:v.width||v.right-v.left,h:v.height||v.bottom-v.top}):v=e.getMarginBox(k);k.innerHTML="";return v};b._computeTextLocation=function(u,y,x,z){var q={};switch(u.align){case "end":q.x=u.x-y;break;case "middle":q.x=u.x-y/2;break;default:q.x=u.x}q.y=u.y-x*(z?.75:1);return q};b._computeTextBoundingBox=function(u){if(!d._base._isRendered(u))return{x:0,y:0,width:0,height:0};var y=u.getShape();var x=
u.getFont()||d.defaultFont;u=u.getTextWidth();x=d.normalizedLength(x.size);y=b._computeTextLocation(y,u,x,!0);return{x:y.x,y:y.y,width:u,height:x}};b._isRendered=function(u){for(u=u.parent;u&&u.getParent;)u=u.parent;return null!==u};var r=0;b._getUniqueId=function(){do var u=D._scopeName+"xUnique"+ ++r;while(h.byId(u));return u};var p=t("pointer-events")?"touchAction":t("MSPointer")?"msTouchAction":null;b._fixMsTouchAction=p?function(u){u.rawNode.style[p]="none"}:function(){};w.mixin(d,{defaultPath:{type:"path",
path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,
kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var u=
{};return function(y){var x=u[y];if(x)return new x;x=u[y]=function(){};x.prototype=d["default"+y];return new x}}(),normalizeColor:function(u){return u instanceof a?u:new a(u)},normalizeParameters:function(u,y){var x;if(y){var z={};for(x in u)x in y&&!(x in z)&&(u[x]=y[x])}return u},makeParameters:function(u,y){var x=null;if(!y)return w.delegate(u);var z={};for(x in u)x in z||(z[x]=w.clone(x in y?y[x]:u[x]));return z},formatNumber:function(u,y){var x=u.toString();if(0<=x.indexOf("e"))x=u.toFixed(4);
else{var z=x.indexOf(".");0<=z&&5<x.length-z&&(x=u.toFixed(4))}return 0>u?x:y?" "+x:x},makeFontString:function(u){return u.style+" "+u.variant+" "+u.weight+" "+u.size+" "+u.family},splitFontString:function(u){var y=d.getDefault("Font");u=u.split(/\s+/);if(!(5>u.length)){y.style=u[0];y.variant=u[1];y.weight=u[2];var x=u[3].indexOf("/");y.size=0>x?u[3]:u[3].substring(0,x);var z=4;0>x&&("/"==u[4]?z=6:"/"==u[4].charAt(0)&&(z=5));z<u.length&&(y.family=u.slice(z).join(" "))}return y},cm_in_pt:72/2.54,mm_in_pt:7.2/
2.54,px_in_pt:function(){return d._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(u){return u*d.px_in_pt()},px2pt:function(u){return u/d.px_in_pt()},normalizedLength:function(u){if(0===u.length)return 0;if(2<u.length){var y=d.px_in_pt(),x=parseFloat(u);switch(u.slice(-2)){case "px":return x;case "pt":return x*y;case "in":return 72*x*y;case "pc":return 12*x*y;case "mm":return x*d.mm_in_pt*y;case "cm":return x*d.cm_in_pt*y}}return parseFloat(u)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,
pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(u,y){return u&&y&&u===y},switchTo:function(u){var y="string"==typeof u?d[u]:u;y&&(n.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),function(x){d[x]=y[x]}),"string"==typeof u?d.renderer=u:n.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(x){return d.renderer=d[x]&&d[x].Surface===d.Surface?x:null}))}});return d})},"esri/basemaps":function(){define(["require",
"dojo/has","./kernel","dojo/i18n!./nls/jsapi"],function(D,w,a,t){D={streets:{title:t.basemaps.streets,thumbnailUrl:D.toUrl("./images/basemap/streets.jpg"),itemId:"d8855ee4d3d74413babfb0f41203b168",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},satellite:{title:t.basemaps.satellite,thumbnailUrl:D.toUrl("./images/basemap/satellite.jpg"),itemId:"86de95d4e0244cba80f0fa2c9403a7b2",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},
hybrid:{title:t.basemaps.hybrid,thumbnailUrl:D.toUrl("./images/basemap/hybrid.jpg"),itemId:"413fd05bbd7342f5991d5ec96f4f8b18",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:!0}]},terrain:{title:t.basemaps.terrain,thumbnailUrl:D.toUrl("./images/basemap/terrain.jpg"),itemId:"aab054ab883c4a4094c72e949566ad40",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer"},
{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",isReference:!0}]},topo:{title:t.basemaps.topo,thumbnailUrl:D.toUrl("./images/basemap/topo.jpg"),itemId:"6e03e8c26aad4b9c92a87c1063ddb0e3",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},gray:{title:t.basemaps.gray,thumbnailUrl:D.toUrl("./images/basemap/gray.jpg"),itemId:"8b3b470883a744aeb60e5fff0a319ce7",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},
{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0}]},"dark-gray":{title:t.basemaps["dark-gray"],thumbnailUrl:D.toUrl("./images/basemap/dark-gray.jpg"),itemId:"da65bacab5bd4defb576f839b6b28098",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",isReference:!0}]},
oceans:{title:t.basemaps.oceans,thumbnailUrl:D.toUrl("./images/basemap/oceans.jpg"),itemId:"48b8cec7ebf04b5fbdcaf70d09daff21",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",isReference:!0}]},"national-geographic":{title:t.basemaps["national-geographic"],thumbnailUrl:D.toUrl("./images/basemap/national-geographic.jpg"),itemId:"509e2d6b034246d692a461724ae2d62c",
baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},osm:{title:t.basemaps.osm,thumbnailUrl:D.toUrl("./images/basemap/osm.jpg"),itemId:"5d2bfa736f8448b3a1708e1f6be23eed",baseMapLayers:[{type:"OpenStreetMap"}]},"dark-gray-vector":{title:t.basemaps["dark-gray"],thumbnailUrl:D.toUrl("./images/basemap/dark-gray.jpg"),itemId:"c11ce4f7801740b2905eb03ddc963ac8",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/c11ce4f7801740b2905eb03ddc963ac8/resources/styles/root.json",
type:"VectorTile"}]},"gray-vector":{title:t.basemaps.gray,thumbnailUrl:D.toUrl("./images/basemap/gray.jpg"),itemId:"8a2cba3b0ebf4140b7c0dc5ee149549a",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/8a2cba3b0ebf4140b7c0dc5ee149549a/resources/styles/root.json",type:"VectorTile"}]},"streets-vector":{title:t.basemaps.streets,thumbnailUrl:D.toUrl("./images/basemap/streets.jpg"),itemId:"de26a3cf4cc9451298ea173c4b324736",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",
type:"VectorTile"}]},"topo-vector":{title:t.basemaps.topo,thumbnailUrl:D.toUrl("./images/basemap/topo.jpg"),itemId:"7dc6cea0b1764a1f9af2e679f642f0f5",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{url:"https://www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",type:"VectorTile"}]},"streets-night-vector":{title:t.basemaps["streets-night-vector"],thumbnailUrl:D.toUrl("./images/basemap/streets-night.jpg"),
itemId:"86f556a2d1fd468181855a35e344567f",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",type:"VectorTile"}]},"streets-relief-vector":{title:t.basemaps["streets-relief-vector"],thumbnailUrl:D.toUrl("./images/basemap/streets-relief.jpg"),itemId:"b266e6d17fc345b498345613930fbd76",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",type:"VectorTile"}]},
"streets-navigation-vector":{title:t.basemaps["streets-navigation-vector"],thumbnailUrl:D.toUrl("./images/basemap/streets-navigation.jpg"),itemId:"63c47b7177f946b49902c24129b87252",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",type:"VectorTile"}]}};w("extend-esri")&&(a.basemaps=D);return D})},"esri/Evented":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Evented dojo/has ./kernel".split(" "),
function(D,w,a,t,l,n){D=D([t],{declaredClass:"esri.Evented",registerConnectEvents:function(){var h=this.constructor,g=this.constructor._meta.parents,e=[{}],d={},b,c=function(m,r){w.isArray(m)||(m=[m]);for(var p=0;p<m.length;p++){var u=m[p];u._meta&&u._meta.parents&&c(u._meta.parents,r);u.prototype._eventMap&&r.push(w.mixin({},u.prototype._eventMap))}return r};if(!h._onMap){c(g,e);e.push(this._eventMap);g=w.mixin.apply(this,e);for(f in this)/^on\w/.test(f)&&w.isFunction(this[f])&&(e=this._hyphenLower(f).toLowerCase(),
g[e]||(d[e]={method:f}));for(b in g){var f=this._onCamelCase(b);d[b]={method:f,argKeys:g[b]}}h._onMap=d;return h._onMap}},on:function(h,g){if(-1<h.indexOf(",")){for(var e=h.split(/\s*,\s*/),d=e.length,b=[];d--;)b.push(this.on(e[d],g));b.remove=function(){for(var m=0;m<b.length;m++)b[m].remove()};return b}e=this.constructor._onMap||this.registerConnectEvents();d="string"==typeof h&&h.toLowerCase();var c=this._onCamelCase(d),f=e&&e[d];return(c=f&&f.method||this[c]&&w.isFunction(this[c])&&c)?f&&w.isArray(f.argKeys)?
(e=this._onArr2Obj(g,e[d].argKeys),a.after(this,c,e,!0)):a.after(this,c,function(m){m=m||{};m.target||(m.target=this);g.call(this,m)},!0):this.inherited(arguments)},emit:function(h,g){var e,d,b=h.toLowerCase();var c=this._onCamelCase(h);var f=this.constructor._onMap||this.registerConnectEvents();c=(d=f&&f[b]&&f[b].method||w.isFunction(this[c])&&c)&&this[d];d&&f&&f[b]&&this._onObj2Arr(function(){e=Array.prototype.slice.call(arguments)},f[b].argKeys)(g);g=g||{};g.target||(g.target=this);if(c){var m=
e&&e.length?e:[g];m=c.apply(this,m)}this.inherited(arguments,[h,g]);return m},_onObj2Arr:function(h,g){if(g){var e=this;return function(d){var b,c=[],f=g.length;for(b=0;b<f;b++)c[b]=d[g[b]];h.apply(e,c)}}return h},_onArr2Obj:function(h,g){if(g){var e=this;return function(){var d,b={},c=arguments.length;for(d=0;d<c;d++)b[g[d]]=arguments[d];b.target||(b.target=e);h.call(e,b)}}return h},_hyphenLower:function(h){return h.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(g,e){return(e?"-":"")+g.toLowerCase()})},
_onCamelCase:function(h){return"on"+h.substr(0,1).toUpperCase()+h.substr(1).replace(/\-([a-z])/g,function(g,e){return e.toUpperCase()})}});l("extend-esri")&&(n.Evented=D);return D})},"esri/fx":function(){define("dojo/_base/connect dojo/_base/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/fx dojo/has ./kernel".split(" "),function(D,w,a,t,l,n,h,g,e){var d={animateRange:function(b){var c=b.range;return new w.Animation(a.mixin({curve:new w._Line(c.start,c.end)},b))},resize:function(b){var c=
b.node=t.byId(b.node),f=b.start,m=b.end;f||(f=l.getMarginBox(c),c=l.getPadBorderExtents(c),f=b.start={left:f.l+c.l,top:f.t+c.t,width:f.w-c.w,height:f.h-c.h});m||(m=b.anchor?b.anchor:{x:f.left,y:f.top},c=b.size,m=b.end={left:f.left-(c.width-f.width)*(m.x-f.left)/f.width,top:f.top-(c.height-f.height)*(m.y-f.top)/f.height,width:c.width,height:c.height});return w.animateProperty(a.mixin({properties:{left:{start:f.left,end:m.left},top:{start:f.top,end:m.top},width:{start:f.width,end:m.width},height:{start:f.height,
end:m.height}}},b))},slideTo:function(b){var c=b.node=t.byId(b.node),f=n.getComputedStyle,m=null,r=null,p=function(){return function(){var u="absolute"==c.style.position?"absolute":"relative";m="absolute"==u?c.offsetTop:parseInt(f(c).top)||0;r="absolute"==u?c.offsetLeft:parseInt(f(c).left)||0;"absolute"!=u&&"relative"!=u&&(u=l.position(c,!0),m=u.y,r=u.x,c.style.position="absolute",c.style.top=m+"px",c.style.left=r+"px")}}();p();b=w.animateProperty(a.mixin({properties:{top:{start:m,end:b.top||0},left:{start:r,
end:b.left||0}}},b));D.connect(b,"beforeBegin",b,p);return b},flash:function(b){b=a.mixin({end:"#f00",duration:500,count:1},b);b.duration/=2*b.count;var c=t.byId(b.node),f=b.start;f||(f=n.getComputedStyle(c).backgroundColor);var m=b.end,r=[],p=b.count;c={node:c,duration:b.duration};for(b=0;b<p;b++)r.push(w.animateProperty(a.mixin({properties:{backgroundColor:{start:f,end:m}}},c))),r.push(w.animateProperty(a.mixin({properties:{backgroundColor:{start:m,end:f}}},c)));return h.chain(r)}};g("extend-esri")&&
a.mixin(a.getObject("fx",!0,e),d);return d})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(D,w,a,t,l,n,h,g,e,d,b){a.isAsync||d(0,function(){b(["./fx/Toggler"])});a=a.fx={};d={_fire:function(m,r){this[m]&&this[m].apply(this,r||[]);return this}};var c=function(m){this._index=-1;this._animations=m||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;t.forEach(this._animations,
function(r){r&&("undefined"!=typeof r.duration&&(this.duration+=r.duration),r.delay&&(this.duration+=r.delay))},this)};c.prototype=new w;D.extend(c,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=l.after(this._current,"onAnimate",D.hitch(this,"_onAnimate"),
!0),this._onEndCtx=l.after(this._current,"onEnd",D.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(m,r){this._current||(this._current=this._animations[this._index=0]);if(!r&&"playing"==this._current.status())return this;var p=l.after(this._current,"beforeBegin",D.hitch(this,function(){this._fire("beforeBegin")}),!0),u=l.after(this._current,"onBegin",D.hitch(this,function(x){this._fire("onBegin",arguments)}),!0),y=l.after(this._current,"onPlay",D.hitch(this,function(x){this._fire("onPlay",
arguments);p.remove();u.remove();y.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=l.after(this._current,"onAnimate",D.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=l.after(this._current,"onEnd",D.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var m=l.after(this._current,"onPause",D.hitch(this,function(r){this._fire("onPause",arguments);m.remove()}),!0);
this._current.pause()}return this},gotoPercent:function(m,r){this.pause();var p=this.duration*m;this._current=null;t.some(this._animations,function(u,y){if(p<=u.duration)return this._current=u,this._index=y,!0;p-=u.duration;return!1},this);this._current&&this._current.gotoPercent(p/this._current.duration);r&&this.play();return this},stop:function(m){if(this._current){if(m){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var r=
l.after(this._current,"onStop",D.hitch(this,function(p){this._fire("onStop",arguments);r.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});D.extend(c,d);a.chain=function(m){return new c(D.isArray(m)?m:Array.prototype.slice.call(m,0))};var f=function(m){this._animations=m||[];this._connects=[];this.duration=
this._finished=0;t.forEach(m,function(p){var u=p.duration;p.delay&&(u+=p.delay);this.duration<u&&(this.duration=u);this._connects.push(l.after(p,"onEnd",D.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new n.Animation({curve:[0,1],duration:this.duration});var r=this;t.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(p){r._connects.push(l.after(r._pseudoAnimation,p,function(){r._fire(p,arguments)},!0))})};D.extend(f,{_doAction:function(m,r){t.forEach(this._animations,
function(p){p[m].apply(p,r)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(m,r){var p=this._pseudoAnimation;p[m].apply(p,r)},play:function(m,r){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(m,r){var p=this.duration*m;t.forEach(this._animations,function(u){u.gotoPercent(u.duration<
p?1:p/u.duration,r)});this._call("gotoPercent",arguments);return this},stop:function(m){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();t.forEach(this._connects,function(m){m.remove()})}});D.extend(f,d);a.combine=function(m){return new f(D.isArray(m)?m:Array.prototype.slice.call(m,0))};a.wipeIn=function(m){var r=m.node=h.byId(m.node),p=r.style,u;m=n.animateProperty(D.mixin({properties:{height:{start:function(){u=
p.overflow;p.overflow="hidden";if("hidden"==p.visibility||"none"==p.display)return p.height="1px",p.display="",p.visibility="",1;var x=g.get(r,"height");return Math.max(x,1)},end:function(){return r.scrollHeight}}}},m));var y=function(){p.height="auto";p.overflow=u};l.after(m,"onStop",y,!0);l.after(m,"onEnd",y,!0);return m};a.wipeOut=function(m){var r=(m.node=h.byId(m.node)).style,p;m=n.animateProperty(D.mixin({properties:{height:{end:1}}},m));l.after(m,"beforeBegin",function(){p=r.overflow;r.overflow=
"hidden";r.display=""},!0);var u=function(){r.overflow=p;r.height="auto";r.display="none"};l.after(m,"onStop",u,!0);l.after(m,"onEnd",u,!0);return m};a.slideTo=function(m){var r=null,p=null,u=function(y){return function(){var x=g.getComputedStyle(y),z=x.position;r="absolute"==z?y.offsetTop:parseInt(x.top)||0;p="absolute"==z?y.offsetLeft:parseInt(x.left)||0;"absolute"!=z&&"relative"!=z&&(x=e.position(y,!0),r=x.y,p=x.x,y.style.position="absolute",y.style.top=r+"px",y.style.left=p+"px")}}(m.node=h.byId(m.node));
u();m=n.animateProperty(D.mixin({properties:{top:m.top||0,left:m.left||0}},m));l.after(m,"beforeBegin",u,!0);return m};return a})},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","./kernel"],function(D,w,a){var t={_dfdCanceller:function(l){l.canceled=!0;var n=l._pendingDfd;if(!l.isFulfilled()&&n&&!n.isFulfilled()){n.cancel();var h=n.results&&n.results[1]}l._pendingDfd=null;return h},_fixDfd:function(l){var n=l.then;l.then=function(h,g,e){if(h){var d=h;h=function(b){return b&&
b._argsArray?d.apply(null,b):d(b)}}return n.call(this,h,g,e)};return l},_resDfd:function(l,n,h){var g=n.length;1===g?h?l.errback(n[0]):l.callback(n[0]):1<g?(n._argsArray=!0,l.callback(n)):l.callback()}};w("extend-esri")&&D.mixin(a,t);return t})},"esri/tileUtils":function(){define(["dojo/_base/array","dojo/has","./kernel","./geometry/Point","./geometry/Extent"],function(D,w,a,t,l){var n={_addFrameInfo:function(h,g){var e,d,b=2*g.origin[1],c=g.origin[0],f=h.origin.x,m=h.width,r;D.forEach(h.lods,function(p){e=
Math.round(b/p.resolution);d=Math.ceil(e/m);r=Math.floor((c-f)/(m*p.resolution));p._frameInfo||(p._frameInfo=[d,r,r+d-1,e])})},getContainingTileCoords:function(h,g,e){var d=h.origin;e=e.resolution;return{row:Math.floor((d.y-g.y)/(h.height*e)),col:Math.floor((g.x-d.x)/(h.width*e))}},getCandidateTileInfo:function(h,g,e){var d=h.width;var b=h.height,c=e.xmax-e.xmin,f=e.ymax-e.ymin,m=h.__tileInfo===g,r=m?h.getMinZoom():-1;m=m?h.getMaxZoom():-1;var p=-1,u=g.lods,y=Math.abs,x;m=-1<m?m:u.length-1;for(r=
-1<r?r:0;r<=m;r++)if(x=u[r]){var z=c>f?y(f-b*x.resolution):y(c-d*x.resolution);if(0>p||z<=p){var q=x;p=z}else break}d=q;q=d.resolution;b=(e.xmin+e.xmax)/2;c=(e.ymin+e.ymax)/2;f=h.width/2*q;q*=h.height/2;b=new l(b-f,c-q,b+f,c+q,e.spatialReference);e=new t(b.xmin,b.ymax,e.spatialReference);m=d.resolution;f=g.width;c=g.height;g=g.origin;h=h.__visibleDelta;q=Math.floor;u=f*m;y=c*m;m=q((g.y-e.y)/y);p=q((e.x-g.x)/u);r=g.y-m*y;g=q(Math.abs((e.x-(g.x+p*u))*f/u))+h.x;h=q(Math.abs((e.y-r)*c/y))+h.y;return{tile:{point:e,
coords:{row:m,col:p},offsets:{x:g,y:h}},lod:d,extent:b}},getTileExtent:function(h,g,e,d){var b=h.origin;g=h.lods[g].resolution;var c=h.width,f=h.height;return new l(d*g*c+b.x,b.y-(e+1)*g*f,(d+1)*g*c+b.x,b.y-e*g*f,h.spatialReference)}};w("extend-esri")&&(a.TileUtils=n);return n})},"esri/geometry/Point":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ../srUtils".split(" "),function(D,w,a,t,l,n,h,g){function e(m,r){89.99999<r?r=89.99999:
-89.99999>r&&(r=-89.99999);r*=.017453292519943;return[111319.49079327169*m,3189068.5*Math.log((1+Math.sin(r))/(1-Math.sin(r)))]}function d(m,r,p){m=m/6378137*57.29577951308232;return p?[m,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*r/6378137)))]:[m-360*Math.floor((m+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*r/6378137)))]}function b(){}function c(){}function f(m){var r=m._json;m._unquantizeFn?(r=m._unquantizeFn({x:r.x,y:r.y}),m._xVal=r.x,m._yVal=r.y,
m._unquantizeFn=null):(m._xVal=r.x,m._yVal=r.y);m._json=null}n={type:"point",x:0,y:0};D=D(h,{declaredClass:"esri.geometry.Point",type:"point",x:0,y:0,constructor:function(m,r,p){w.isArray(m)?(this.x=m[0],this.y=m[1],this.spatialReference=r):l.isObject(m)?(l.mixin(this,m),null!=this.latitude&&(this.y=this.latitude),null!=this.longitude&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=g.createSpatialReference(this.spatialReference))):(this.x=m,this.y=r,this.spatialReference=p);
this.verifySR()},offset:function(m,r){return new this.constructor(this.x+m,this.y+r,this.spatialReference)},setX:function(m){this.x=m;this.clearCache();return this},setY:function(m){this.y=m;this.clearCache();return this},setLongitude:function(m){var r=this.spatialReference;r&&(r._isWebMercator()?this.setX(e(m,this.y)[0]):4326===r.wkid&&this.setX(m));return this},setLatitude:function(m){var r=this.spatialReference;r&&(r._isWebMercator()?this.setY(e(this.x,m)[1]):4326===r.wkid&&this.setY(m));return this},
getLongitude:function(){var m=this.spatialReference;if(m)if(m._isWebMercator())var r=d(this.x,this.y)[0];else 4326===m.wkid&&(r=this.x);return r},getLatitude:function(){var m=this.spatialReference;if(m)if(m._isWebMercator())var r=d(this.x,this.y)[1];else 4326===m.wkid&&(r=this.y);return r},update:function(m,r){this.x=m;this.y=r;this.clearCache();return this},normalize:function(){var m=this.x,r=this.spatialReference;if(r){var p=r._getInfo();p&&(m=this._normalizeX(m,p))}return new this.constructor(m,
this.y,r)},_normalizeX:function(m,r){var p=r.valid[0],u=r.valid[1];r=2*u;m>u?(p=Math.ceil(Math.abs(m-u)/r),m-=p*r):m<p&&(p=Math.ceil(Math.abs(m-p)/r),m+=p*r);return m},toJson:function(){var m={x:this.x,y:this.y},r=this.spatialReference;r&&(m.spatialReference=r.toJson());return m}});b.prototype=D.prototype;c.prototype=new b;Object.defineProperty(c.prototype,"x",{get:function(){this._json&&f(this);return this._xVal},set:function(m){this._xVal=m}});Object.defineProperty(c.prototype,"y",{get:function(){this._json&&
f(this);return this._yVal},set:function(m){this._yVal=m}});c.prototype.setupLazyUnquantization=function(m,r){this._unquantizeFn=m;this._json=r};D.simpleConstructor=b;D.accessorConstructor=c;D.lngLatToXY=e;D.xyToLngLat=d;D.defaultProps=n;D.metersPerDegree=6378137*Math.PI/180;a("extend-esri")&&(w.setObject("geometry.Point",D,t),t.geometry.defaultPoint=n);return D})},"esri/SpatialReference":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/has","./kernel","./lang"],function(D,w,a,t,l){function n(){}
var h=[-2.0037508342788905E7,2.0037508342788905E7],g=[-2.0037508342787E7,2.0037508342787E7];D=D(null,{declaredClass:"esri.SpatialReference",constructor:function(e){e&&(l.isObject(e)?l.mixin(this,e):l.isString(e)?this.wkt=e:this.wkid=e)},wkid:null,wkt:null,_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:h,origin:g,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:h,origin:g,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:h,origin:g,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:h,origin:g,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}},_isWebMercator:function(){return-1!==w.indexOf([102113,102100,3857,3785],this.wkid)},_isWrappable:function(){return-1!==w.indexOf([102113,102100,3857,3785,4326],this.wkid)},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(e){var d=!1;e&&(d=this.isWebMercator()&&4326===e.wkid||e.isWebMercator()&&4326===this.wkid);return d},isWebMercator:function(){return this._isWebMercator()},equals:function(e){var d=!1;e&&(this===e&&
(d=!0),this.wkid||e.wkid?d=this.wkid===e.wkid||this.isWebMercator()&&e.isWebMercator()||this.wkid===e.latestWkid||e.wkid===this.latestWkid:this.wkt&&e.wkt&&(d=this.wkt.toUpperCase()===e.wkt.toUpperCase()));return d},toJson:function(){var e=null;null!=this.wkid?e={wkid:this.wkid}:null!=this.wkt&&(e={wkt:this.wkt});e&&null!=this.latestWkid&&(e.latestWkid=this.latestWkid);return e}});n.prototype=D.prototype;D.simpleConstructor=n;a("extend-esri")&&(t.SpatialReference=D);return D})},"esri/geometry/Geometry":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","../SpatialReference"],function(D,w,a,t,l){D=D(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,cache:void 0,setSpatialReference:function(n){this.spatialReference=n;return this},verifySR:function(){this.spatialReference||this.setSpatialReference(new l(4326))},getExtent:function(){return null},clearCache:function(){this.cache=void 0},getCacheValue:function(n){return this.cache&&this.cache[n]},setCacheValue:function(n,h){this.cache||
(this.cache={});this.cache[n]=h}});a("extend-esri")&&w.setObject("geometry.Geometry",D,t);return D})},"esri/srUtils":function(){define(["./SpatialReference","./ImageSpatialReference","./kernel","./sniff","dojo/_base/lang"],function(D,w,a,t,l){function n(g){var e=!1;g&&(g.ics||g.icsid)&&(e=!0);return e}var h={isICS:n,createSpatialReference:function(g){var e=null;g&&(e=n(g)?new w(g):new D(g));return e}};t("extend-esri")&&l.mixin(a,h);return h})},"esri/ImageSpatialReference":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./lang ./SpatialReference".split(" "),
function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.ImageSpatialReference",constructor:function(h){h&&w.isObject(h)&&w.mixin(this,h)},icsid:null,icsns:null,ics:null,_isWebMercator:function(){return!1},_isWrappable:function(){return!1},equals:function(h){var g=!1;if(h)if(this.icsid&&h.icsid){if(g=this.icsid===h.icsid,this.icsns||h.icsns)g=g&&this.icsns===h.icsns}else this.ics&&h.ics&&(g=this.ics===h.ics);return g},toJson:function(h){var g=null,e=l.isDefined;h=e(h)?h:!0;e(this.icsid)?(g={icsid:this.icsid},
e(this.icsns)&&(g.icsns=this.icsns)):e(this.ics)&&(g={ics:this.ics});e(this.url)&&e(g)&&h&&(g.url=this.url);return g}});a("extend-esri")&&(t.ImageSpatialReference=D);return D})},"esri/geometry/Extent":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./webMercatorUtils ./mathUtils ../srUtils".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c){function f(){}var m={type:"extent",xmin:0,ymin:0,xmax:0,ymax:0},r=D(g,{declaredClass:"esri.geometry.Extent",
type:"extent",xmin:0,ymin:0,xmax:0,ymax:0,constructor:function(p,u,y,x,z){n.isObject(p)?(n.mixin(this,p),this.spatialReference&&(this.spatialReference=c.createSpatialReference(this.spatialReference))):this.update(p,u,y,x,z);this.verifySR()},getWidth:function(){return Math.abs(this.xmax-this.xmin)},getHeight:function(){return Math.abs(this.ymax-this.ymin)},getCenter:function(){return new e((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2,this.spatialReference)},getTopLeft:function(){return new e(this.xmin,
this.ymax,this.spatialReference)},getTopRight:function(){return new e(this.xmax,this.ymax,this.spatialReference)},getBottomLeft:function(){return new e(this.xmin,this.ymin,this.spatialReference)},getBottomRight:function(){return new e(this.xmax,this.ymin,this.spatialReference)},centerAt:function(p){var u=this.getCenter(),y=p.x-u.x;p=p.y-u.y;return new r(this.xmin+y,this.ymin+p,this.xmax+y,this.ymax+p,this.spatialReference)},update:function(p,u,y,x,z){this.xmin=p;this.ymin=u;this.xmax=y;this.ymax=
x;this.spatialReference=z;this.clearCache();return this},offset:function(p,u){return new r(this.xmin+p,this.ymin+u,this.xmax+p,this.ymax+u,this.spatialReference)},expand:function(p){var u=(1-p)/2;p=this.getWidth()*u;u*=this.getHeight();return new r(this.xmin+p,this.ymin+u,this.xmax-p,this.ymax-u,this.spatialReference)},intersects:function(p){if(!p)return!1;var u=p.type,y=this.spatialReference,x=p.spatialReference;y&&x&&!y.equals(x)&&y._canProject(x)&&(p=y.isWebMercator()?d.geographicToWebMercator(p):
d.webMercatorToGeographic(p,!0));switch(u){case "point":return this.contains(p);case "multipoint":return this._intersectsMultipoint(p);case "extent":return this._intersectsExtent(p);case "polygon":return this._intersectsPolygon(p);case "polyline":return this._intersectsPolyline(p)}},normalize:function(){var p=this._normalize(!1,!0);a.isArray(p)||(p=[p]);return p},shiftCentralMeridian:function(){return this._normalize(!0)},bisect:function(){var p=this.spatialReference,u=p&&p._getInfo(),y=[],x=0;if(u&&
this._isOutOfBounds(u)){var z=this;x=z.xmin;var q=z.ymin,k=z.ymax,v=u.valid[0],B=u.valid[1];z.getWidth()>2*B&&(z=z.getCenter(),z=new r(z.x-B,q,z.x+B,k,new h(p.toJson())));x=z.xmin-x;var E=this._normalizeX(z.xmin,u);u=this._normalizeX(z.xmax,u);E.frameId===u.frameId?y.push(new r(E.x,q,u.x,k,new h(p.toJson()))):y.push(new r(E.x,q,B,k,new h(p.toJson())),new r(v,q,u.x,k,new h(p.toJson())))}else y.push(this.getExtent());return{extents:y,marginLeft:x}},_intersectsMultipoint:function(p){var u=p.points.length,
y;for(y=0;y<u;y++)if(this.contains(p.getPoint(y)))return!0;return!1},_intersectsExtent:function(p){var u,y,x=!1;if(this.xmin<=p.xmin){var z=p.xmin;this.xmax<z?x=!0:u=Math.min(this.xmax,p.xmax)-z}else z=this.xmin,p.xmax<z?x=!0:u=Math.min(this.xmax,p.xmax)-z;if(this.ymin<=p.ymin){var q=p.ymin;this.ymax<q?x=!0:y=Math.min(this.ymax,p.ymax)-q}else q=this.ymin,p.ymax<q?x=!0:y=Math.min(this.ymax,p.ymax)-q;return x?null:new r(z,q,z+u,q+y,this.spatialReference)},_intersectsPolygon:function(p){var u=[this.xmin,
this.ymax],y=[this.xmax,this.ymax],x=[this.xmin,this.ymin],z=[this.xmax,this.ymin],q=[u,y,x,z];u=[[x,u],[u,y],[y,z],[z,x]];x=p.rings;z=x.length;var k=new e(0,0,this.spatialReference);var v=q.length;for(y=0;y<v;y++)if(k.update(q[y][0],q[y][1]),p.contains(k))return!0;k.setSpatialReference(p.spatialReference);for(y=0;y<z;y++)if(q=x[y],v=q.length){var B=q[0];k.update(B[0],B[1]);if(this.contains(k))return!0;for(p=1;p<v;p++){var E=q[p];k.update(E[0],E[1]);if(this.contains(k)||this._intersectsLine([B,E],
u))return!0;B=E}}return!1},_intersectsPolyline:function(p){var u=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],y,x=p.paths,z=x.length,q,k=new e(0,0,p.spatialReference);for(p=0;p<z;p++){var v=x[p];if(q=v.length){var B=v[0];k.update(B[0],B[1]);if(this.contains(k))return!0;for(y=1;y<q;y++){var E=v[y];k.update(E[0],E[1]);if(this.contains(k)||this._intersectsLine([B,
E],u))return!0;B=E}}}return!1},_intersectsLine:function(p,u){var y=b._getLineIntersection2,x,z=u.length;for(x=0;x<z;x++)if(y(p,u[x]))return!0;return!1},contains:function(p){if(!p)return!1;var u=p.type;if("point"===u){var y=this.spatialReference,x=p.spatialReference;u=p.x;p=p.y;y&&x&&!y.equals(x)&&y._canProject(x)&&(p=y.isWebMercator()?e.lngLatToXY(u,p):e.xyToLngLat(u,p,!0),u=p[0],p=p[1]);return u>=this.xmin&&u<=this.xmax&&p>=this.ymin&&p<=this.ymax}return"extent"===u?this._containsExtent(p):!1},_containsExtent:function(p){var u=
p.xmin,y=p.ymin,x=p.xmax,z=p.ymax,q=p.spatialReference;p=new e(u,y,q);u=new e(u,z,q);z=new e(x,z,q);y=new e(x,y,q);return this.contains(p)&&this.contains(u)&&this.contains(z)&&this.contains(y)?!0:!1},union:function(p){return new r(Math.min(this.xmin,p.xmin),Math.min(this.ymin,p.ymin),Math.max(this.xmax,p.xmax),Math.max(this.ymax,p.ymax),this.spatialReference)},getExtent:function(){var p=this.spatialReference;return new r(this.xmin,this.ymin,this.xmax,this.ymax,p&&new h(p.toJson()))},_shiftCM:function(p){var u=
this.getCacheValue("_shifted");if(!u){u=new r(this.toJson());var y=u.spatialReference;if(p=p||y._getInfo()){var x=this._getCM(p);if(x){var z=y._isWebMercator()?d.webMercatorToGeographic(x):x;u.xmin-=x.x;u.xmax-=x.x;y._isWebMercator()||(z.x=this._normalizeX(z.x,p).x);u.setSpatialReference(new h(n.substitute({Central_Meridian:z.x},4326===y.wkid?p.altTemplate:p.wkTemplate)))}}this.setCacheValue("_shifted",u)}return u},_getCM:function(p){var u;this._isOutOfBounds(p)&&(u=this.getCenter());return u},_isOutOfBounds:function(p){var u=
p.valid[0];p=p.valid[1];var y=this.xmin,x=this.xmax;return!(y>=u&&y<=p&&x>=u&&x<=p)},_normalize:function(p,u,y){var x=new r(this.toJson()),z=x.spatialReference;if(z&&(y=y||z._getInfo())){var q=w.map(this._getParts(y),function(k){return k.extent});return 2<q.length?p?this._shiftCM(y):x.update(y.valid[0],x.ymin,y.valid[1],x.ymax,z):2===q.length?p?this._shiftCM(y):u?q:{rings:w.map(q,function(k){return[[k.xmin,k.ymin],[k.xmin,k.ymax],[k.xmax,k.ymax],[k.xmax,k.ymin],[k.xmin,k.ymin]]}),spatialReference:z}:
q[0]||x}return x},_getParts:function(p){var u=this.getCacheValue("_parts");if(!u){u=[];var y=this.xmin,x=this.xmax,z=this.ymin,q=this.ymax,k=this.spatialReference,v=this.getWidth(),B=y,E=x,N=0,G=0;p=p||k._getInfo();var K=p.valid[0];var I=p.valid[1];G=this._normalizeX(y,p);y=G.x;N=G.frameId;G=this._normalizeX(x,p);x=G.x;G=G.frameId;p=y===x&&0<v;if(v>2*I){v=new r(B<E?y:x,z,I,q,k);y=new r(K,z,B<E?x:y,q,k);I=new r(0,z,I,q,k);z=new r(K,z,0,q,k);k=[];K=[];v.contains(I)&&k.push(N);v.contains(z)&&K.push(N);
y.contains(I)&&k.push(G);y.contains(z)&&K.push(G);for(q=N+1;q<G;q++)k.push(q),K.push(q);u.push({extent:v,frameIds:[N]},{extent:y,frameIds:[G]},{extent:I,frameIds:k},{extent:z,frameIds:K})}else y>x||p?u.push({extent:new r(y,z,I,q,k),frameIds:[N]},{extent:new r(K,z,x,q,k),frameIds:[G]}):u.push({extent:new r(y,z,x,q,k),frameIds:[N]});this.setCacheValue("_parts",u)}return u},_normalizeX:function(p,u){var y=0,x=u.valid[0],z=u.valid[1];u=2*z;p>z?(y=Math.ceil(Math.abs(p-z)/u),p-=y*u):p<x&&(y=Math.ceil(Math.abs(p-
x)/u),p+=y*u,y=-y);return{x:p,frameId:y}},toJson:function(){var p={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax},u=this.spatialReference;u&&(p.spatialReference=u.toJson());return p}});f.prototype=r.prototype;r.simpleConstructor=f;r.defaultProps=m;t("extend-esri")&&(a.setObject("geometry.Extent",r,l),l.geometry.defaultExtent=m);return r})},"esri/geometry/webMercatorUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point".split(" "),function(D,
w,a,t,l,n){function h(d,b,c,f){if("point"===d.type){var m=b(d.x,d.y,f);return new d.constructor(m[0],m[1],new l(c))}if("extent"===d.type){m=b(d.xmin,d.ymin,f);var r=b(d.xmax,d.ymax,f);return new d.constructor(m[0],m[1],r[0],r[1],new l(c))}if("polyline"===d.type||"polygon"===d.type){m="polyline"===d.type;var p=[],u;D.forEach(m?d.paths:d.rings,function(x){p.push(u=[]);D.forEach(x,function(z){u.push(b(z[0],z[1],f))})});return m?new d.constructor({paths:p,spatialReference:new l(c)}):new d.constructor({rings:p,
spatialReference:new l(c)})}if("multipoint"===d.type){var y=[];D.forEach(d.points,function(x){y.push(b(x[0],x[1],f))});return new d.constructor({points:y,spatialReference:new l(c)})}}function g(d,b){d=d&&(null!=d.wkid?d:d.spatialReference);b=b&&(null!=b.wkid?b:b.spatialReference);return d&&b?b.equals(d)?!0:b._canProject(d):!1}var e={canProject:g,project:function(d,b){var c=d&&d.spatialReference;b=b&&(null!=b.wkid?b:b.spatialReference);c&&b?c.equals(b)?d=new d.constructor(d.toJson()):g(c,b)?b.isWebMercator()?
d=h(d,n.lngLatToXY,{wkid:102100}):4326===b.wkid&&(d=h(d,n.xyToLngLat,{wkid:4326})):d=null:d=null;return d},lngLatToXY:n.lngLatToXY,xyToLngLat:n.xyToLngLat,metersPerDegree:n.metersPerDegree,geographicToWebMercator:function(d){return h(d,n.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(d,b){return h(d,n.xyToLngLat,{wkid:4326},b)}};a("extend-esri")&&w.mixin(w.getObject("geometry",!0,t),e);return e})},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","./Point"],
function(D,w,a,t){function l(e,d,b){return e instanceof t?new t(e.x+b*(d.x-e.x),e.y+b*(d.y-e.y)):[e[0]+b*(d[0]-e[0]),e[1]+b*(d[1]-e[1])]}function n(e,d){return 1E-8>Math.abs(e-d)}function h(e,d,b,c){var f=n(e[0],d[0])?1E10:(e[1]-d[1])/(e[0]-d[0]),m=n(b[0],c[0])?1E10:(b[1]-c[1])/(b[0]-c[0]),r=e[1]-f*e[0],p=b[1]-m*b[0];if(n(f,m)){if(n(r,p)){if(n(e[0],d[0]))if(Math.min(e[1],d[1])<Math.max(b[1],c[1])||Math.max(e[1],d[1])>Math.min(b[1],c[1])){e=(e[1]+d[1]+b[1]+c[1]-Math.min(e[1],d[1],b[1],c[1])-Math.max(e[1],
d[1],b[1],c[1]))/2;var u=(e-r)/f}else return null;else if(Math.min(e[0],d[0])<Math.max(b[0],c[0])||Math.max(e[0],d[0])>Math.min(b[0],c[0]))u=(e[0]+d[0]+b[0]+c[0]-Math.min(e[0],d[0],b[0],c[0])-Math.max(e[0],d[0],b[0],c[0]))/2,e=f*u+r;else return null;return[u,e]}return null}n(f,1E10)?(u=e[0],e=m*u+p):n(m,1E10)?(u=b[0],e=f*u+r):(u=-(r-p)/(f-m),e=e[1]===d[1]?e[1]:b[1]===c[1]?b[1]:f*u+r);return[u,e]}var g={getLength:function(e,d){var b=d.x-e.x;e=d.y-e.y;return Math.sqrt(b*b+e*e)},_getLength:function(e,
d){var b=d[0]-e[0];e=d[1]-e[1];return Math.sqrt(b*b+e*e)},getPointOnLine:l,getMidpoint:function(e,d){return l(e,d,.5)},_equals:n,_getLineIntersection:h,getLineIntersection:function(e,d,b,c,f){(e=h([e.x,e.y],[d.x,d.y],[b.x,b.y],[c.x,c.y]))&&(e=new t(e[0],e[1],f));return e},_getLineIntersection2:function(e,d){var b=e[0],c=e[1],f=d[0],m=d[1];d=b[0];b=b[1];e=c[0];c=c[1];var r=f[0],p=f[1];f=m[0]-r;r=d-r;var u=e-d;m=m[1]-p;p=b-p;var y=c-b,x=m*u-f*y;if(0===x)return!1;f=(f*p-m*r)/x;r=(u*p-y*r)/x;return 0<=
f&&1>=f&&0<=r&&1>=r?[d+f*(e-d),b+f*(c-b)]:!1},_pointLineDistance:function(e,d){var b=d[0],c=d[1];d=b[0];var f=b[1];b=e[0];e=e[1];var m=c[0]-d,r=c[1]-f,p=b-d,u=e-f;c=Math.sqrt;var y=Math.pow,x=c(y(m,2)+y(r,2));p=(p*m+u*r)/(x*x);f+=p*r;return c(y(b-(d+p*m),2)+y(e-f,2))}};w("extend-esri")&&D.mixin(D.getObject("geometry",!0,a),g);return g})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/global dojo/io-query ./kernel ./lang ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),
function(D,w,a,t,l,n,h,g,e,d){var b={},c=g.defaults.io,f=/^[a-z][a-z0-9\+\-\.]*:/i,m=/^\s*http:/i,r=/^\s*https:/i,p=/:\d+$/,u=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;b.isHTTP=function(x){var z=t.location.protocol;return null==x?"http:"===z||"https:"===z:x?"https:"===z:"http:"===z};b.getProtocolForWebResource=function(x){return b.isHTTP()?t.location.protocol:x?"https:":"http:"};b.urlToObject=function(x){var z={},q=new a(x),k=x.indexOf("?");null===q.query?z={path:x,query:null}:(z.path=x.substring(0,
k),z.query=l.queryToObject(q.query));q.fragment&&(z.hash=q.fragment,null===q.query&&(z.path=z.path.substring(0,z.path.length-(q.fragment.length+1))));return z};b.getProxyUrl=function(x,z){var q=D.isString(x)?0===D.trim(x).toLowerCase().indexOf("https:"):x,k=c.proxyUrl,v=d.io.proxyNotSet;D.isString(x)&&(x=b.getProxyRule(x))&&(k=x.proxyUrl);if(!k)throw console.log(v),Error(v);if(q&&!1!==z&&0!==t.location.href.toLowerCase().indexOf("https:")&&(z=k,0!==z.toLowerCase().indexOf("http")&&(z=b.getAbsoluteUrl(z)),
z=z.replace(/^http:/i,"https:"),b.canUseXhr(z))){k=z;var B=1}k=b.urlToObject(k);k._xo=B;return k};b.addProxy=function(x){var z=b.getProxyRule(x),q;z?q=b.urlToObject(z.proxyUrl):c.alwaysUseProxy&&(q=b.getProxyUrl());q&&(z=b.urlToObject(x),x=q.path+"?"+z.path,(q=l.objectToQuery(D.mixin(q.query||{},z.query)))&&(x+="?"+q));return x};b.addProxyRule=function(x){var z=x.urlPrefix=b.urlToObject(x.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),q=c.proxyRules,k,v=q.length,
B=v;for(k=0;k<v;k++){var E=q[k].urlPrefix;if(0===z.indexOf(E)){if(z.length===E)return-1;B=k;break}else 0===E.indexOf(z)&&(B=k+1)}q.splice(B,0,x);return B};b.getProxyRule=function(x){var z=c.proxyRules,q=z.length,k=b.urlToObject(x).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase();for(x=0;x<q;x++)if(0===k.indexOf(z[x].urlPrefix)){var v=z[x];break}return v};b.hasSameOrigin=function(x,z,q){x=x.toLowerCase();z=z.toLowerCase();var k=t.location.href.toLowerCase();x=0===x.indexOf("http")?
new a(x):k=new a(k);z=0===z.indexOf("http")?new a(z):D.isString(k)?new a(k):k;return(q||x.scheme===z.scheme)&&x.host===z.host&&x.port===z.port};b.canUseXhr=function(x,z){var q=e("esri-phonegap")?!0:!1,k=b.hasSameOrigin,v=c.corsEnabledServers,B,E=-1;!q&&e("esri-cors")&&v&&v.length&&(q=w.some(v,function(N,G){N=!N||"object"!==typeof N||N instanceof RegExp?N:N.host;if(N instanceof RegExp){if(N.test(x))return E=G,!0}else if(N&&(B=0!==N.trim().toLowerCase().indexOf("http"),k(x,B?"http://"+N:N)||B&&k(x,
"https://"+N)))return E=G,!0;return!1}));return z?E:q};b.getAbsoluteUrl=function(x){var z=b.getProtocolForWebResource();return D.isString(x)&&!f.test(x)?0===x.indexOf("//")?z+x:0===x.indexOf("/")?z+"//"+t.location.host+x:n._appBaseUrl+x:x};b.fixUrl=function(x){x=D.trim(x);x=b.getAbsoluteUrl(x);x=b.normalizeSlashes(x);x=x.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");x=b.downgradeToHTTP(x);return x=b.upgradeToHTTPS(x)};b.normalize=function(x){return b.fixUrl(x)};b.normalizeSlashes=function(x){if(/^https?:\/\//i.test(x)){var z=
x.indexOf("?");if(-1<z){var q=x.slice(0,z);var k=x.slice(z+1)}else q=x;x=q.replace(/\/{2,}/g,"/");x=x.replace("/","//");k&&(x+="?"+k)}return x};b.downgradeToHTTP=function(x){return b.isHTTP(!1)&&r.test(x)&&b.hasSameOrigin(t.location.href,x,!0)&&!b.canUseXhr(x)?x.replace(r,"http:"):x};b.upgradeToHTTPS=function(x){var z=c.httpsDomains,q=b.isHTTP(!1),k=b.isHTTP(!0);if(!m.test(x))return x;x=D.trim(x);var v=x.indexOf("/",7);v=-1===v?x:x.slice(0,v);v=v.toLowerCase().slice(7);if(p.test(v))if(h.endsWith(v,
":80"))v=v.slice(0,-3),x=x.replace(":80","");else return x;if(q&&v===t.location.host&&(!u.test(x)||!b.canUseXhr(x)))return x;q=!1;if(k&&v===t.location.host)q=!0;else if(z)for(var B=0;B<z.length;B++){var E=z[B];if(v===E||h.endsWith(v,"."+E)){q=!0;break}}q||!k||c.alwaysUseProxy||b.getProxyRule(x)||(q=!0);q&&(x=x.replace(m,"https:"));return x};g=d.widgets.popup;var y=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,label:g.NLS_moreInfo},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"${hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,
label:"${hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,appName:"App Studio Player",label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,appName:"Collector",label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,appName:"Explorer",label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,appName:"Navigator",label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,appName:"Survey123",
label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,appName:"Trek2There",label:g.NLS_openLinkInApp},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,appName:"Workforce",label:g.NLS_openLinkInApp},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,appName:"iForm",label:g.NLS_openLinkInApp},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,appName:"FlowFinity",label:g.NLS_openLinkInApp},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,appName:"Laserfische",label:g.NLS_openLinkInApp},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,
appName:"Microsoft Power BI",label:g.NLS_openLinkInApp}];b.getURIInfo=function(x){var z;w.some(y,function(q){q.pattern.test(x)&&(z=q);return!!z});return z};b.isKnownURI=function(x){return!!b.getURIInfo(x)};e("extend-esri")&&(D.mixin(n,b),n._getProxyUrl=b.getProxyUrl,n._getProxiedUrl=b.addProxy,n._hasSameOrigin=b.hasSameOrigin,n._canDoXOXHR=b.canUseXhr,n._getAbsoluteUrl=b.getAbsoluteUrl,n.fixUrl=b.fixUrl);return b})},"dojo/_base/url":function(){define(["./kernel"],function(D){var w=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
a=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,t=function(){for(var l=arguments,n=[l[0]],h=1;h<l.length;h++)if(l[h]){var g=new t(l[h]+"");n=new t(n[0]+"");if(""==g.path&&!g.scheme&&!g.authority&&!g.query)null!=g.fragment&&(n.fragment=g.fragment),g=n;else if(!g.scheme&&(g.scheme=n.scheme,!g.authority&&(g.authority=n.authority,"/"!=g.path.charAt(0)))){n=(n.path.substring(0,n.path.lastIndexOf("/")+1)+g.path).split("/");for(var e=0;e<n.length;e++)"."==n[e]?e==n.length-1?n[e]="":(n.splice(e,
1),e--):0<e&&(1!=e||""!=n[0])&&".."==n[e]&&".."!=n[e-1]&&(e==n.length-1?(n.splice(e,1),n[e-1]=""):(n.splice(e-1,2),e-=2));g.path=n.join("/")}n=[];g.scheme&&n.push(g.scheme,":");g.authority&&n.push("//",g.authority);n.push(g.path);g.query&&n.push("?",g.query);g.fragment&&n.push("#",g.fragment)}this.uri=n.join("");l=this.uri.match(w);this.scheme=l[2]||(l[1]?"":null);this.authority=l[4]||(l[3]?"":null);this.path=l[5];this.query=l[7]||(l[6]?"":null);this.fragment=l[9]||(l[8]?"":null);null!=this.authority&&
(l=this.authority.match(a),this.user=l[3]||null,this.password=l[4]||null,this.host=l[6]||l[7],this.port=l[9]||null)};t.prototype.toString=function(){return this.uri};return D._Url=t})},"esri/PluginTarget":function(){define("require dojo/aspect dojo/_base/array dojo/_base/lang dojo/Deferred dojo/when".split(" "),function(D,w,a,t,l,n){function h(){w.after(this.constructor._meta,"ctor",this._pluginsHandler,!0);this._plugins={}}h.prototype={addPlugin:function(g,e){var d=this,b=this._plugins,c=new l;try{D([g],
function(f){g in b?c.resolve({id:b[g].declaredId||g.replace(/\//g,".")}):(b[g]=f,n(f.add(d,e),function(){var m={id:f.declaredId||g.replace(/\//g,".")};d.emit("plugin-add",m);c.resolve(m)},function(m){c.reject(m)}))})}catch(f){c.reject(f)}return c.promise},removePlugin:function(g){if(g in this._plugins){var e=this._plugins[g];e.remove(this);delete this._plugins[g];this.emit("plugin-remove",{id:e.declaredId||g.replace(/\//g,".")})}},_pluginsHandler:function(){var g=this;a.some(arguments,function(e){if(e&&
e.plugins&&e.plugins instanceof Array){e=e.plugins;var d;for(d=0;d<e.length;d++){var b=e[d];var c=b instanceof Object?b.id:b;g.addPlugin(c,b.options)}return!0}})}};return h})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(D,w,a,t){var l=D([w],{declaredClass:"esri.Color"});l.toJsonColor=function(h){return h&&[h.r,h.g,h.b,1<h.a?h.a:Math.round(255*h.a)]};l.toDojoColor=function(h){return h&&new l([h[0],h[1],h[2],h[3]/255])};var n="named blendColors fromRgb fromHex fromArray fromString".split(" ");
for(D=0;D<n.length;D++)l[n[D]]=w[n[D]];a("extend-esri")&&(t.Color=l);return l})},"esri/promiseList":function(){define(["dojo/_base/array","dojo/Deferred","dojo/when"],function(D,w,a){var t=D.forEach;return function(l){function n(m,r){b[r]=m;c.progress([m,r]);0===--f&&c.resolve(b)}var h,g;l instanceof Array?g=l:l&&"object"===typeof l&&(h=l);var e=[];if(h){g=[];for(var d in h)Object.hasOwnProperty.call(h,d)&&(e.push(d),g.push(h[d]));var b={}}else g&&(b=[]);if(!g||!g.length)return(new w).resolve(b);
var c=new w;c.promise.always(function(){b=e=null});var f=g.length;t(g,function(m,r){h||e.push(r);a(m,function(p){c.isFulfilled()||n(p,e[r])},function(p){c.isFulfilled()||n(p,e[r])})});return c.promise}})},"esri/arcade/Dictionary":function(){define(["require","exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],function(D,w,a,t,l){function n(g,e){void 0===e&&(e=!1);if(null===g||void 0===g)return null;if(t.isNumber(g))return t.toNumber(g);if(t.isBoolean(g))return t.toBoolean(g);if(t.isString(g))return t.toString(g);
if(t.isDate(g))return t.toDate(g);if(t.isArray(g)){for(var d=[],b=0;b<g.length;b++)d.push(n(g[b],e));return d}b=new h;b.immutable=!1;for(var c=0,f=Object.keys(g);c<f.length;c++){var m=f[c];d=g[m];void 0!==d&&b.setField(m,n(d,e))}b.immutable=e;return b}var h=function(){function g(e){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=e instanceof g?e.attributes:void 0===e?{}:null===e?{}:e}g.prototype.field=function(e){var d=e.toLowerCase(),
b=this.attributes[e];if(void 0!==b)return b;for(var c in this.attributes)if(c.toLowerCase()===d)return this.attributes[c];throw Error("Field not Found : "+e);};g.prototype.setField=function(e,d){if(this.immutable)throw Error("Dictionary is Immutable");var b=e.toLowerCase();if(void 0===this.attributes[e])for(var c in this.attributes)if(c.toLowerCase()===b){this.attributes[c]=d;return}this.attributes[e]=d};g.prototype.hasField=function(e){var d=e.toLowerCase();if(void 0!==this.attributes[e])return!0;
for(var b in this.attributes)if(b.toLowerCase()===d)return!0;return!1};g.prototype.keys=function(){var e=[],d;for(d in this.attributes)e.push(d);return e=e.sort()};g.prototype.castToText=function(){var e="",d;for(d in this.attributes){""!==e&&(e+=",");var b=this.attributes[d];null==b?e+=JSON.stringify(d)+":null":t.isBoolean(b)||t.isNumber(b)||t.isString(b)?e+=JSON.stringify(d)+":"+JSON.stringify(b):b instanceof l?e+=JSON.stringify(d)+":"+t.toStringExplicit(b):b instanceof a?e+=JSON.stringify(d)+":"+
t.toStringExplicit(b):b instanceof Array?e+=JSON.stringify(d)+":"+t.toStringExplicit(b):b instanceof Date?e+=JSON.stringify(d)+":"+JSON.stringify(b):null!==b&&"object"===typeof b&&void 0!==b.castToText&&(e+=JSON.stringify(d)+":"+b.castToText())}return"{"+e+"}"};g.convertObjectToArcadeDictionary=function(e,d){void 0===d&&(d=!0);var b=new g;b.immutable=!1;for(var c in e){var f=e[c];void 0!==f&&b.setField(c.toString(),n(f))}b.immutable=d;return b};g.convertJsonToArcade=function(e,d){void 0===d&&(d=!1);
return n(e,d)};return g}();return h})},"esri/arcade/ImmutableArray":function(){define(["require","exports"],function(D,w){return function(){function a(t){void 0===t&&(t=[]);this._elements=t}a.prototype.length=function(){return this._elements.length};a.prototype.get=function(t){return this._elements[t]};a.prototype.toArray=function(){for(var t=[],l=0;l<this.length();l++)t.push(this.get(l));return t};return a}()})},"esri/arcade/languageUtils":function(){define("require exports ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../libs/luxon/luxon dojo/number dojo/_base/kernel".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p){function u(A,F,Q){return""===F||null===F||void 0===F||F===Q||F===Q?A:A=A.split(F).join(Q)}function y(A){return A instanceof Z||A instanceof a||A instanceof ka}function x(A){return z(A)||k(A)||E(A)||q(A)||null===A||A===w.voidOperation||"number"===typeof A?!0:!1}function z(A){return"string"===typeof A||A instanceof String}function q(A){return"boolean"===typeof A}function k(A){return"number"===typeof A}function v(A){return A instanceof Array}function B(A){return A instanceof
t}function E(A){return A instanceof Date}function N(A,F){if(!1===isNaN(A)){if(void 0===F||null===F||""===F)return A.toString();F=u(F,"\u2030","");F=u(F,"\u00a4","");return r.format(A,{pattern:F})}return A.toString()}function G(A,F){A=m.DateTime.fromJSDate(A);return void 0===F||null===F||""===F?A.toISO({suppressMilliseconds:!0}):A.toFormat(K(F),{locale:p.locale,numberingSystem:"latn"})}function K(A){A=A.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");var F="",Q=0;for(A=A.match(/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g);Q<
A.length;Q++){var X=A[Q];switch(X){case "D":F+="d";break;case "DD":F+="dd";break;case "DDD":F+="o";break;case "d":F+="c";break;case "ddd":F+="ccc";break;case "dddd":F+="cccc";break;case "M":F+="L";break;case "MM":F+="LL";break;case "MMM":F+="LLL";break;case "MMMM":F+="LLLL";break;case "YY":F+="yy";break;case "Y":case "YYYY":F+="yyyy";break;case "Q":F+="q";break;case "Z":F+="ZZ";break;case "ZZ":F+="ZZZ";break;case "S":F+="'S'";break;case "SS":F+="'SS'";break;case "SSS":F+="u";break;case "A":case "a":F+=
"a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":F+=X;break;default:F=2<=X.length&&"["===X.slice(0,1)&&"]"===X.slice(-1)?F+("'"+X.slice(1,-1)+"'"):F+("'"+X+"'")}}return F}function I(A,F,Q){switch(Q){case "\x3e":return A>F;case "\x3c":return A<F;case "\x3e\x3d":return A>=F;case "\x3c\x3d":return A<=F}return!1}function O(A,F){if(A===F||null===A&&F===w.voidOperation||null===F&&A===w.voidOperation)return!0;if(E(A)&&E(F))return A.getTime()===F.getTime();
if(A instanceof l||A instanceof n)return A.equalityTest(F);if(A instanceof b&&F instanceof b){var Q=A.getCacheValue("_arcadeCacheId"),X=F.getCacheValue("_arcadeCacheId");if(void 0!==Q&&null!==Q)return Q===X}return void 0!==A&&void 0!==F&&null!==A&&null!==F&&"object"===typeof A&&"object"===typeof F&&(A._arcadeCacheId===F._arcadeCacheId&&void 0!==A._arcadeCacheId&&null!==A._arcadeCacheId||A._underlyingGraphic===F._underlyingGraphic&&void 0!==A._underlyingGraphic&&null!==A._underlyingGraphic)?!0:!1}
function V(A,F){if(z(A))return A;if(null===A)return"";if(k(A))return N(A,F);if(q(A))return A.toString();if(E(A))return G(A,F);if(A instanceof e)return JSON.stringify(A.toJson());if(v(A)){F=[];for(var Q=0;Q<A.length;Q++)F[Q]=ja(A[Q]);return"["+F.join(",")+"]"}if(A instanceof t){F=[];for(Q=0;Q<A.length();Q++)F[Q]=ja(A.get(Q));return"["+F.join(",")+"]"}return null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():y(A)?"object, Function":""}function na(A,F){if(z(A))return A;if(null===A)return"";
if(k(A))return N(A,F);if(q(A))return A.toString();if(E(A))return G(A,F);if(A instanceof e)return A instanceof g?'{"xmin":'+A.xmin.toString()+',"ymin":'+A.ymin.toString()+","+(A.hasZ?'"zmin":'+A.zmin.toString()+",":"")+(A.hasM?'"mmin":'+A.mmin.toString()+",":"")+'"xmax":'+A.xmax.toString()+',"ymax":'+A.ymax.toString()+","+(A.hasZ?'"zmax":'+A.zmax.toString()+",":"")+(A.hasM?'"mmax":'+A.mmax.toString()+",":"")+'"spatialReference":'+oa(A.spatialReference)+"}":oa(A.toJson(),function(X,aa){return X.key===
aa.key?0:"spatialReference"===X.key?1:"spatialReference"===aa.key||X.key<aa.key?-1:X.key>aa.key?1:0});if(v(A)){F=[];for(var Q=0;Q<A.length;Q++)F[Q]=ja(A[Q]);return"["+F.join(",")+"]"}if(A instanceof t){F=[];for(Q=0;Q<A.length();Q++)F[Q]=ja(A.get(Q));return"["+F.join(",")+"]"}return null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():y(A)?"object, Function":""}function ja(A){return null===A?"null":q(A)||k(A)||z(A)?JSON.stringify(A):A instanceof e||A instanceof t||A instanceof Array?
na(A):A instanceof Date?JSON.stringify(G(A,"")):null!==A&&"object"===typeof A&&void 0!==A.castToText?A.castToText():"null"}function la(A,F){return k(A)?A:null===A||""===A?0:E(A)?NaN:q(A)?A?1:0:v(A)||""===A||void 0===A?NaN:void 0!==F&&z(A)?(F=u(F,"\u2030",""),F=u(F,"\u00a4",""),r.parse(A,{pattern:F})):A===w.voidOperation?0:Number(A)}function ca(A){var F=/ (\d\d)/,Q=m.DateTime.fromISO(A);return Q.isValid||F.test(A)&&(A=A.replace(F,"T$1"),Q=m.DateTime.fromISO(A),Q.isValid)?Q:null}function ea(A,F){var Q;
F.fields.some(function(X){X.name.toLowerCase()===A.toLowerCase()&&(Q=X.domain);return!!Q});return Q}function oa(A,F){F||(F={});"function"===typeof F&&(F={cmp:F});var Q="boolean"===typeof F.cycles?F.cycles:!1,X=F.cmp&&function(pa){return function(ra){return function(T,U){return pa({key:T,value:ra[T]},{key:U,value:ra[U]})}}}(F.cmp),aa=[];return function T(ra){ra&&ra.toJson&&"function"===typeof ra.toJson&&(ra=ra.toJson());if(void 0!==ra){if("number"===typeof ra)return isFinite(ra)?""+ra:"null";if("object"!==
typeof ra)return JSON.stringify(ra);var U;if(Array.isArray(ra)){var ba="[";for(U=0;U<ra.length;U++)U&&(ba+=","),ba+=T(ra[U])||"null";return ba+"]"}if(null===ra)return"null";if(-1!==aa.indexOf(ra)){if(Q)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var ma=aa.push(ra)-1,da=Object.keys(ra).sort(X&&X(ra));ba="";for(U=0;U<da.length;U++){var Aa=da[U],R=T(ra[Aa]);R&&(ba&&(ba+=","),ba+=JSON.stringify(Aa)+":"+R)}aa.splice(ma,1);return"{"+ba+"}"}}(A)}function sa(A,
F){if(F instanceof b)A.push([F.x,F.y]);else throw Error("Invalid Argument");}Object.defineProperty(w,"__esModule",{value:!0});w.binaryOperator=w.tick=w.toStringArray=w.autoCastArrayOfPointsToMultiPoint=w.autoCastArrayOfPointsToPolyline=w.autoCastArrayOfPointsToPolygon=w.autoCastFeatureToGeometry=w.stableStringify=w.getDomain=w.getDomainCode=w.getDomainValue=w.fixNullGeometry=w.fixSpatialReference=w.toBoolean=w.toDateTime=w.toDate=w.toNumber=w.toStringExplicit=w.toNumberArray=w.toString=w.equalityTest=
w.greaterThanLessThan=w.standardiseDateFormat=w.formatDate=w.formatNumber=w.generateUUID=w.absRound=w.pcCheck=w.isDate=w.isImmutableArray=w.isFeatureSetCollection=w.isFeatureSet=w.isArray=w.isInteger=w.isNumber=w.isBoolean=w.isString=w.defaultUndefined=w.isSimpleType=w.isFunctionParameter=w.multiReplace=w.continueResult=w.breakResult=w.voidOperation=w.SizzleFunction=w.ReturnResult=w.ImplicitResult=w.NativeFunction=w.SizzleFunctionE=w.NativeFunctionE=w.ImplicitResultE=w.ReturnResultE=void 0;D=function(){return function(A){this.value=
A}}();w.ReturnResultE=D;var za=function(){return function(A){this.value=A}}();w.ImplicitResultE=za;var Z=function(){return function(A){this.fn=A}}();w.NativeFunctionE=Z;var ka=function(){return function(A){this.fn=A}}();w.SizzleFunctionE=ka;w.NativeFunction=Z;w.ImplicitResult=za;w.ReturnResult=D;w.SizzleFunction=ka;w.voidOperation={type:"VOID"};w.breakResult={type:"BREAK"};w.continueResult={type:"CONTINUE"};w.multiReplace=u;w.isFunctionParameter=y;w.isSimpleType=x;w.defaultUndefined=function(A,F){return void 0===
A?F:A};w.isString=z;w.isBoolean=q;w.isNumber=k;w.isInteger=function(A){return"number"===typeof A&&isFinite(A)&&Math.floor(A)===A};w.isArray=v;w.isFeatureSet=function(A){return!0===(A&&A.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===A.declaredRootClass)};w.isFeatureSetCollection=function(A){return!0===(A&&A.declaredRootClass&&"esri.arcade.featureSetCollection"===A.declaredRootClass)};w.isImmutableArray=B;w.isDate=E;w.pcCheck=function(A,F,Q){if(A.length<F||A.length>Q)throw Error("Function called with wrong number of Parameters");
};w.absRound=function(A){return 0>A?-Math.round(-A):Math.round(A)};w.generateUUID=function(){var A=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){var Q=(A+16*Math.random())%16|0;A=Math.floor(A/16);return("x"===F?Q:Q&3|8).toString(16)})};w.formatNumber=N;w.formatDate=G;w.standardiseDateFormat=K;w.greaterThanLessThan=function(A,F,Q){if(null===A){if(null===F||F===w.voidOperation)return I(null,null,Q);if(k(F))return I(0,F,Q);if(z(F)||q(F))return I(0,la(F),
Q);if(E(F))return I(0,F.getTime(),Q)}if(A===w.voidOperation){if(null===F||F===w.voidOperation)return I(null,null,Q);if(k(F))return I(0,F,Q);if(z(F)||q(F))return I(0,la(F),Q);if(E(F))return I(0,F.getTime(),Q)}else if(k(A)){if(k(F))return I(A,F,Q);if(q(F))return I(A,la(F),Q);if(null===F||F===w.voidOperation)return I(A,0,Q);if(z(F))return I(A,la(F),Q);if(E(F))return I(A,F.getTime(),Q)}else if(z(A)){if(z(F))return I(V(A),V(F),Q);if(E(F))return I(la(A),F.getTime(),Q);if(k(F))return I(la(A),F,Q);if(null===
F||F===w.voidOperation)return I(la(A),0,Q);if(q(F))return I(la(A),la(F),Q)}else if(E(A)){if(E(F))return I(A,F,Q);if(null===F||F===w.voidOperation)return I(A.getTime(),0,Q);if(k(F))return I(A.getTime(),F,Q);if(q(F)||z(F))return I(A.getTime(),la(F),Q)}else if(q(A)){if(q(F))return I(A,F,Q);if(k(F))return I(la(A),la(F),Q);if(E(F))return I(la(A),F.getTime(),Q);if(null===F||F===w.voidOperation)return I(la(A),0,Q);if(z(F))return I(la(A),la(F),Q)}return!O(A,F)||"\x3c\x3d"!==Q&&"\x3e\x3d"!==Q?!1:!0};w.equalityTest=
O;w.toString=V;w.toNumberArray=function(A){var F=[];if(!1===v(A))return null;if(A instanceof t){for(var Q=0;Q<A.length();Q++)F[Q]=la(A.get(Q));return F}for(Q=0;Q<A.length;Q++)F[Q]=la(A[Q]);return F};w.toStringExplicit=na;w.toNumber=la;w.toDate=function(A){return E(A)?A:z(A)&&(A=ca(A))?A.toJSDate():null};w.toDateTime=function(A){return E(A)?m.DateTime.fromJSDate(A):z(A)?ca(A):null};w.toBoolean=function(A){return q(A)?A:z(A)?(A=A.toLowerCase(),"true"===A?!0:!1):k(A)?0===A||isNaN(A)?!1:!0:!1};w.fixSpatialReference=
function(A,F){if(null===A||void 0===A)return null;if(null===A.spatialReference||void 0===A.spatialReference)A.spatialReference=F;return A};w.fixNullGeometry=function(A){if(null===A)return null;if(A instanceof b)return"NaN"===A.x||null===A.x||isNaN(A.x)?null:A;if(A instanceof c){if(0===A.rings.length)return null;for(var F=0,Q=A.rings;F<Q.length;F++){var X=Q[F];if(0<X.length)return A}return null}if(A instanceof f){if(0===A.paths.length)return null;F=0;for(Q=A.paths;F<Q.length;F++)if(X=Q[F],0<X.length)return A;
return null}return A instanceof d?0===A.points.length?null:A:A instanceof g?"NaN"===A.xmin||null===A.xmin||isNaN(A.xmin)?null:A:null};w.getDomainValue=function(A,F){if(!A||!A.domain)return F;var Q=null;if("string"===A.field.type||"esriFieldTypeString"===A.field.type)F=V(F);else{if(null===F||void 0===F)return null;if(""===F)return F;F=la(F)}for(var X=0;X<A.domain.codedValues.length;X++){var aa=A.domain.codedValues[X];aa.code===F&&(Q=aa)}return null===Q?F:Q.name};w.getDomainCode=function(A,F){if(!A||
!A.domain)return F;var Q=null;F=V(F);for(var X=0;X<A.domain.codedValues.length;X++){var aa=A.domain.codedValues[X];aa.name===F&&(Q=aa)}return null===Q?F:Q.code};w.getDomain=function(A,F,Q,X){void 0===Q&&(Q=null);if(!F||!F.fields)return null;for(var aa=null,pa=0;pa<F.fields.length;pa++){var ra=F.fields[pa];ra.name.toLowerCase()===A.toString().toLowerCase()&&(aa=ra)}if(null===aa)throw Error("Field not found");var T,U;X||(X=Q&&F.typeIdField&&Q._field(F.typeIdField));null!=X&&F.types.some(function(ba){return ba.id===
X?((T=ba.domains&&ba.domains[aa.name])&&"inherited"===T.type&&(T=ea(aa.name,F),U=!0),!0):!1});U||T||(T=ea(A,F));return{field:aa,domain:T}};w.stableStringify=oa;w.autoCastFeatureToGeometry=function(A){if(null===A)return null;for(var F=[],Q=0;Q<A.length;Q++){var X=A[Q];X&&(X.declaredClass&&"esri.arcade.Feature"===X.declaredClass||"FeatureSetReader"===X.type)?F.push(X.geometry()):F.push(X)}return F};w.autoCastArrayOfPointsToPolygon=function(A,F){if(v(A)||B(A)){var Q=!1,X=!1,aa=[];if(v(A)){for(var pa=
0;pa<A.length;pa++){var ra=A[pa];sa(aa,ra)}0<aa.length&&(F=A[0].spatialReference,Q=A[0].hasZ,X=A[0].hasM)}else if(A instanceof n)aa=A._elements,0<aa.length&&(Q=A._hasZ,X=A._hasM,F=A.get(0).spatialReference);else if(B(A)){pa=0;for(var T=A.toArray();pa<T.length;pa++)ra=T[pa],sa(aa,ra);0<aa.length&&(F=A.get(0).spatialReference,Q=!0===A.get(0).hasZ,X=!0===A.get(0).hasM)}else throw Error("Invalid Argument");if(0===aa.length)return null;!1===(new c({rings:[],spatialReference:{wkid:4326}})).isClockwise(aa)&&
(aa=aa.slice(0).reverse());return new c({rings:[aa],spatialReference:F,hasZ:Q,hasM:X})}return A};w.autoCastArrayOfPointsToPolyline=function(A,F){if(v(A)||B(A)){var Q=!1,X=!1,aa=[];if(v(A)){for(var pa=0;pa<A.length;pa++){var ra=A[pa];sa(aa,ra)}0<aa.length&&(F=A[0].spatialReference,Q=!0===A[0].hasZ,X=!0===A[0].hasM)}else if(A instanceof n)aa=A._elements,0<aa.length&&(Q=A._hasZ,X=A._hasM,F=A.get(0).spatialReference);else if(B(A)){pa=0;for(var T=A.toArray();pa<T.length;pa++)ra=T[pa],sa(aa,ra);0<aa.length&&
(F=A.get(0).spatialReference,Q=!0===A.get(0).hasZ,X=!0===A.get(0).hasM)}return 0===aa.length?null:new f({paths:[aa],spatialReference:F,hasZ:Q,hasM:X})}return A};w.autoCastArrayOfPointsToMultiPoint=function(A,F){if(v(A)||B(A)){var Q=!1,X=!1,aa=[];if(v(A)){for(var pa=0;pa<A.length;pa++){var ra=A[pa];sa(aa,ra)}0<aa.length&&(F=A[0].spatialReference,Q=!0===A[0].hasZ,X=!0===A[0].hasM)}else if(A instanceof n)aa=A._elements,0<aa.length&&(Q=A._hasZ,X=A._hasM,F=A.get(0).spatialReference);else if(B(A)){pa=0;
for(var T=A.toArray();pa<T.length;pa++)ra=T[pa],sa(aa,ra);0<aa.length&&(F=A.get(0).spatialReference,Q=!0===A.get(0).hasZ,X=!0===A.get(0).hasM)}return 0===aa.length?null:new d({points:aa,spatialReference:F,hasZ:Q,hasM:X})}return A};w.toStringArray=function(A,F){void 0===F&&(F=!1);var Q=[];if(null===A)return Q;if(!0===v(A)){for(var X=0;X<A.length;X++){var aa=V(A[X]);""===aa&&!0!==F||Q.push(aa)}return Q}if(A instanceof t){for(X=0;X<A.length();X++)aa=V(A.get(X)),""===aa&&!0!==F||Q.push(aa);return Q}return x(A)?
(aa=V(A),""===aa&&!0!==F||Q.push(aa),Q):[]};var ua=0;w.tick=function(A){ua++;return 0===ua%100?(ua=0,h.create(function(F){setTimeout(function(){F(A)},0)})):A};w.binaryOperator=function(A,F,Q){switch(Q){case "\x26":return A&F;case "|":return A|F;case "^":return A^F;case "\x3c\x3c":return A<<F;case "\x3e\x3e":return A>>F;case "\x3e\x3e\x3e":return A>>>F}}})},"esri/arcade/FunctionWrapper":function(){define(["require","exports"],function(D,w){return function(){return function(a,t){this.context=this.definition=
null;this.definition=a;this.context=t}}()})},"esri/arcade/ImmutablePathArray":function(){var D=this&&this.__extends||function(){var w=function(a,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h])};return w(a,t)};return function(a,t){function l(){this.constructor=a}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");
w(a,t);a.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}();define(["require","exports","./ImmutableArray","./ImmutablePointArray"],function(w,a,t,l){return function(n){function h(g,e,d,b,c){g=n.call(this,g)||this;g._lazyPath=[];g._hasZ=!1;g._hasM=!1;g._hasZ=d;g._hasM=b;g._spRef=e;g._cacheId=c;return g}D(h,n);h.prototype.get=function(g){if(void 0===this._lazyPath[g]){var e=this._elements[g];if(void 0===e)return;this._lazyPath[g]=new l(e,this._spRef,this._hasZ,this._hasM,this._cacheId,
g)}return this._lazyPath[g]};h.prototype.equalityTest=function(g){return g===this?!0:null===g||!1===g instanceof h?!1:g.getUniqueHash()===this.getUniqueHash()};h.prototype.getUniqueHash=function(){return this._cacheId.toString()};return h}(t)})},"esri/arcade/ImmutablePointArray":function(){var D=this&&this.__extends||function(){var w=function(a,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,
h)&&(l[h]=n[h])};return w(a,t)};return function(a,t){function l(){this.constructor=a}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w(a,t);a.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}();define(["require","exports","./ImmutableArray","../geometry/Point"],function(w,a,t,l){return function(n){function h(g,e,d,b,c,f){g=n.call(this,g)||this;g._lazyPt=[];g._hasZ=!1;g._hasM=!1;g._spRef=e;g._hasZ=d;g._hasM=
b;g._cacheId=c;g._partId=f;return g}D(h,n);h.prototype.get=function(g){if(void 0===this._lazyPt[g]){var e=this._elements[g];if(void 0===e)return;var d=this._hasZ,b=this._hasM,c=null;c=d&&!b?new l(e[0],e[1],e[2],void 0,this._spRef):b&&!d?new l(e[0],e[1],void 0,e[2],this._spRef):d&&b?new l(e[0],e[1],e[2],e[3],this._spRef):new l(e[0],e[1],this._spRef);c.setCacheValue("_arcadeCacheId",this._cacheId.toString()+"-"+this._partId.toString()+"-"+g.toString());this._lazyPt[g]=c}return this._lazyPt[g]};h.prototype.equalityTest=
function(g){return g===this?!0:null===g||!1===g instanceof h?!1:g.getUniqueHash()===this.getUniqueHash()};h.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return h}(t)})},"esri/arcade/polyfill/promiseUtils":function(){define(["require","exports","dojo/Deferred","dojo/promise/all"],function(D,w,a,t){function l(e,d){var b=new a(d);e(function(c){return g(c).then(b.resolve)},b.reject);return b.promise}function n(e){if(e){if("function"!==typeof e.forEach){var d=
Object.keys(e),b=d.map(function(f){return e[f]});return n(b).then(function(f){var m={};d.forEach(function(r,p){return m[r]=f[p]});return m})}var c=null;return l(function(f,m){var r=[],p=e.length;0===p&&f(r);e.forEach(function(u){var y={promise:u};r.push(y);u.then(function(x){y.value=x}).catch(function(x){y.error=x}).then(function(){--p;0===p&&(c?m(Error("AbortError")):f(r))})})},function(f){c=f||"Invocation cancellation";e.forEach(function(m){return m.cancel(f)})})}}function h(e){void 0===e&&(e=void 0);
var d=new a;d.resolve(e);return d.promise}function g(e){return e&&"function"===typeof e.then?e:h(e)}Object.defineProperty(w,"__esModule",{value:!0});w.createResolver=w.when=w.isPromiseLike=w.wrapCallback=w.timeout=w.after=w.resolve=w.reject=w.first=w.eachAlwaysValues=w.eachAlways=w.createDeferred=w.create=w.filter=w.all=void 0;w.all=function(e){return t(e)};w.filter=function(e,d){var b=e.slice();return t(e.map(function(c,f){return d(c,f)})).then(function(c){return b.filter(function(f,m){return c[m]})})};
w.create=l;w.createDeferred=function(e){var d=null;e=l(function(b,c){d={resolve:b,reject:c}},e);d.promise=e;d.cancel=function(){d.reject(Error("AbortError"))};return d};w.eachAlways=n;w.eachAlwaysValues=function(e){return n(e).then(function(d){return d.filter(function(b){return!!b.value}).map(function(b){return b.value})})};w.first=function(e){return e&&e.length?l(function(d,b){for(var c=0;c<e.length;c++)e[c].then(d,b)}):h()};w.reject=function(e){var d=new a;d.reject(e);return d.promise};w.resolve=
h;w.after=function(e,d){void 0===d&&(d=void 0);var b=0;return l(function(c){b=setTimeout(function(){c(d)},e)},function(){b&&(clearTimeout(b),b=0)})};w.timeout=function(e,d,b){var c=0,f=new a(e.cancel);e.then(function(m){f.isFulfilled()||(f.resolve(m),c&&(clearTimeout(c),c=0))});e.catch(function(m){f.isFulfilled()||(f.reject(m),c&&(clearTimeout(c),c=0))});c=setTimeout(function(){f.reject(b||Error("promiseUtils:timeout"))},d);return f.promise};w.wrapCallback=function(e){var d=!1;return l(function(){e(function(b){d||
h(b)})},function(){return d=!0})};w.isPromiseLike=function(e){return e&&"function"===typeof e.then};w.when=g;w.createResolver=function(e){var d,b;e=l(function(f,m){d=f;b=m},e);var c=function(f){d(f)};c.resolve=function(f){return d(f)};c.reject=function(f){return b(f)};c.promise=e;return c}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(D,w,a,t){var l=D.some;return function(n){var h,g;w.isArray(n)?g=n:n&&"object"===typeof n&&(h=n);var e=
[];if(h){g=[];for(var d in h)Object.hasOwnProperty.call(h,d)&&(e.push(d),g.push(h[d]));var b={}}else g&&(b=[]);if(!g||!g.length)return(new a).resolve(b);var c=new a;c.promise.always(function(){b=e=null});var f=g.length;l(g,function(m,r){h||e.push(r);t(m,function(p){c.isFulfilled()||(b[e[r]]=p,0===--f&&c.resolve(b))},c.reject);return c.isFulfilled()});return c.promise}})},"esri/geometry/Multipoint":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d){function b(){}function c(){}n={type:"multipoint",points:null};D=D(h,{declaredClass:"esri.geometry.Multipoint",type:"multipoint",points:null,constructor:function(f){this.points=[];f&&(f.points?l.mixin(this,f):this.spatialReference=f,this.spatialReference&&(this.spatialReference=d.createSpatialReference(this.spatialReference)));this.verifySR()},addPoint:function(f){this.clearCache();w.isArray(f)?this.points.push(f):this.points.push([f.x,f.y]);return this},removePoint:function(f){if(this._validateInputs(f))return this.clearCache(),
new g(this.points.splice(f,1)[0],this.spatialReference)},getExtent:function(){var f=this.getCacheValue("_extent");if(f)return new e(f);f=this.points;var m=f.length;if(m){var r=f[0],p,u,y=p=r[0],x=u=r[1],z=Math.min,q=Math.max,k=this.spatialReference,v;for(v=0;v<m;v++){r=f[v];var B=r[0];r=r[1];y=z(y,B);x=z(x,r);p=q(p,B);u=q(u,r)}f={xmin:y,ymin:x,xmax:p,ymax:u,spatialReference:k?k.toJson():null};this.setCacheValue("_extent",f);return new e(f)}},_validateInputs:function(f){return null===f||0>f||f>=this.points.length?
!1:!0},getPoint:function(f){if(this._validateInputs(f))return f=this.points[f],new g(f[0],f[1],this.spatialReference)},setPoint:function(f,m){if(this._validateInputs(f))return this.clearCache(),this.points[f]=[m.x,m.y],this},toJson:function(){var f={points:l.clone2DArray(this.points)},m=this.spatialReference;m&&(f.spatialReference=m.toJson());return f}});b.prototype=D.prototype;c.prototype=new b;Object.defineProperty(c.prototype,"points",{get:function(){this._unquantizeFn&&(this._pointsVal=this._unquantizeFn({points:l.clone2DArray(this._pointsVal)}).points,
this._unquantizeFn=null);return this._pointsVal},set:function(f){this._pointsVal=f}});c.prototype.setupLazyUnquantization=function(f,m){this._unquantizeFn=f;this._pointsVal=m.points};D.simpleConstructor=b;D.accessorConstructor=c;D.defaultProps=n;a("extend-esri")&&(w.setObject("geometry.Multipoint",D,t),t.geometry.defaultMultipoint=n);return D})},"esri/geometry/Polygon":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ./mathUtils ../srUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c){function f(){}function m(){}h={type:"polygon",rings:null};var r=D(g,{declaredClass:"esri.geometry.Polygon",type:"polygon",rings:null,constructor:function(p){this.rings=[];this._ring=0;p&&(a.isArray(p)?this.rings=a.isArray(p[0][0])?p:[p]:p.rings?n.mixin(this,p):this.spatialReference=p,this.spatialReference&&(this.spatialReference=c.createSpatialReference(this.spatialReference)));this.verifySR()},addRing:function(p){this.clearCache();this._ring=this.rings.length;this.rings[this._ring]=
[];a.isArray(p[0])?w.forEach(p,this._addPointArr,this):w.forEach(p,this._addPoint,this);return this},_addPointArr:function(p){this.rings[this._ring].push(p)},_addPoint:function(p){this.rings[this._ring].push([p.x,p.y])},_insertPoints:function(p,u){this.clearCache();this._ring=u;this.rings[this._ring]||(this.rings[this._ring]=[]);w.forEach(p,this._addPoint,this)},_validateInputs:function(p,u){return null!==p&&void 0!==p&&(0>p||p>=this.rings.length)||null!==u&&void 0!==p&&(0>u||u>=this.rings[p].length)?
!1:!0},getPoint:function(p,u){if(this._validateInputs(p,u))return new e(this.rings[p][u],this.spatialReference)},setPoint:function(p,u,y){if(this._validateInputs(p,u))return this.clearCache(),this.rings[p][u]=[y.x,y.y],this},insertPoint:function(p,u,y){if(this._validateInputs(p)&&null!=u&&0<=u&&u<=this.rings[p].length)return this.clearCache(),this.rings[p].splice(u,0,[y.x,y.y]),this},removeRing:function(p){if(this._validateInputs(p,null)){this.clearCache();p=this.rings.splice(p,1)[0];var u,y=p.length,
x=this.spatialReference;for(u=0;u<y;u++)p[u]=new e(p[u],x);return p}},removePoint:function(p,u){if(this._validateInputs(p,u))return this.clearCache(),new e(this.rings[p].splice(u,1)[0],this.spatialReference)},getExtent:function(){var p=this.getCacheValue("_extent");var u=this.getCacheValue("_partwise");if(p)return p=new d(p),p._partwise=u,p;p=this.rings;var y=p.length;if(y&&p[0].length){var x,z,q,k,v=x=p[0][0][0],B=z=p[0][0][1],E=Math.min,N=Math.max,G=this.spatialReference;u=[];var K,I;for(q=0;q<
y;q++){var O=p[q];var V=K=O[0]&&O[0][0];var na=I=O[0]&&O[0][1];var ja=O.length;for(k=0;k<ja;k++){var la=O[k];var ca=la[0];la=la[1];v=E(v,ca);B=E(B,la);x=N(x,ca);z=N(z,la);V=E(V,ca);na=E(na,la);K=N(K,ca);I=N(I,la)}u.push(new d({xmin:V,ymin:na,xmax:K,ymax:I,spatialReference:G?G.toJson():null}))}p={xmin:v,ymin:B,xmax:x,ymax:z,spatialReference:G?G.toJson():null};u=1<u.length?u:null;this.setCacheValue("_extent",p);this.setCacheValue("_partwise",u);p=new d(p);p._partwise=u;return p}},contains:function(p){var u=
this.rings,y=!1,x,z,q,k=u.length;var v=this.spatialReference;var B=p.spatialReference;var E=p.x;p=p.y;v&&B&&!v.equals(B)&&v._canProject(B)&&(p=v.isWebMercator()?e.lngLatToXY(E,p):e.xyToLngLat(E,p,!0),E=p[0],p=p[1]);for(q=0;q<k;q++){v=u[q];var N=v.length;for(z=x=0;z<N;z++){x++;x===N&&(x=0);B=v[z];var G=v[x];(B[1]<p&&G[1]>=p||G[1]<p&&B[1]>=p)&&B[0]+(p-B[1])/(G[1]-B[1])*(G[0]-B[0])<E&&(y=!y)}}return y},getCentroid:function(){var p=this.getCacheValue("_centroid");if(void 0!==p)return p;p=this.rings;var u,
y,x=[],z,q,k=Infinity,v=-Infinity,B=Infinity,E=-Infinity;w.forEach(p,function(K){N=u=y=0;w.forEach(K,function(I,O){O<K.length-1&&(z=K[O+1],q=I[0]*z[1]-z[0]*I[1],N+=(I[0]+z[0])*q,u+=(I[1]+z[1])*q,y+=q,I[0]<k&&(k=I[0]),I[0]>v&&(v=I[0]),I[1]<B&&(B=I[1]),I[1]>E&&(E=I[1]))});0<y&&(y*=-1);y&&x.push([N,u,y/2])});x.sort(function(K,I){return K[2]-I[2]});var N=u=void 0;if(x[0]){var G=6*x[0][2];N=x[0][0]/G;u=x[0][1]/G;if(N<k||N>v||u<B||u>E)N=u=void 0}if(void 0===N||void 0===u)if(p=p[0]&&p[0].length?this._getLineCentroid(p[0]):
null)N=p.x,u=p.y;p=isNaN(N)||isNaN(u)?null:new e(N,u,this.spatialReference);this.setCacheValue("_centroid",p);return p},_getLineCentroid:function(p){var u=0,y=0,x=0,z={x:0,y:0},q={x:0,y:0},k,v=p.length,B;for(k=0;k<v-1;k++){var E=p[k];var N=p[k+1];if(E&&N){z.x=E[0];z.y=E[1];q.x=N[0];q.y=N[1];var G=b.getLength(z,q);0<G&&(u+=G,E=b.getMidpoint(E,N),y+=G*E[0],x+=G*E[1])}}0<u?B={x:y/u,y:x/u}:p[0]&&(B={x:p[0][0],y:p[0][1]});return B},isClockwise:function(p){var u=0,y,x=p.length,z=a.isArray(p[0])?function(q,
k){return q[0]*k[1]-k[0]*q[1]}:function(q,k){return q.x*k.y-k.x*q.y};for(y=0;y<x;y++)u+=z(p[y],p[(y+1)%x]);return 0>=u/2},isSelfIntersecting:function(p){p=p||this;var u,y,x,z,q,k=p.rings.length;for(x=0;x<k;x++){for(u=0;u<p.rings[x].length-1;u++){var v=[[p.rings[x][u][0],p.rings[x][u][1]],[p.rings[x][u+1][0],p.rings[x][u+1][1]]];for(y=x+1;y<k;y++)for(z=0;z<p.rings[y].length-1;z++){var B=[[p.rings[y][z][0],p.rings[y][z][1]],[p.rings[y][z+1][0],p.rings[y][z+1][1]]];if((q=b._getLineIntersection2(v,B))&&
!(q[0]===v[0][0]&&q[1]===v[0][1]||q[0]===B[0][0]&&q[1]===B[0][1]||q[0]===v[1][0]&&q[1]===v[1][1]||q[0]===B[1][0]&&q[1]===B[1][1]))return!0}}z=p.rings[x].length;if(!(4>=z))for(u=0;u<z-3;u++){var E=z-1;0===u&&(E=z-2);v=[[p.rings[x][u][0],p.rings[x][u][1]],[p.rings[x][u+1][0],p.rings[x][u+1][1]]];for(y=u+2;y<E;y++)if(B=[[p.rings[x][y][0],p.rings[x][y][1]],[p.rings[x][y+1][0],p.rings[x][y+1][1]]],(q=b._getLineIntersection2(v,B))&&!(q[0]===v[0][0]&&q[1]===v[0][1]||q[0]===B[0][0]&&q[1]===B[0][1]||q[0]===
v[1][0]&&q[1]===v[1][1]||q[0]===B[1][0]&&q[1]===B[1][1]))return!0}}return!1},toJson:function(){var p={rings:n.clone3DArray(this.rings)},u=this.spatialReference;u&&(p.spatialReference=u.toJson());return p}});f.prototype=r.prototype;m.prototype=new f;Object.defineProperty(m.prototype,"rings",{get:function(){this._unquantizeFn&&(this._ringsVal=this._unquantizeFn({rings:n.clone3DArray(this._ringsVal)}).rings,this._unquantizeFn=null);return this._ringsVal},set:function(p){this._ringsVal=p}});m.prototype.setupLazyUnquantization=
function(p,u){this._unquantizeFn=p;this._ringsVal=u.rings};r.simpleConstructor=f;r.accessorConstructor=m;r.defaultProps=h;r.createEllipse=function(p){var u=p.center.x,y=p.center.y,x=p.longAxis,z=p.shortAxis,q=p.numberOfPoints,k=p.map,v;p=[];var B=2*Math.PI/q;for(v=0;v<q;v++){var E=Math.cos(v*B);var N=Math.sin(v*B);E=k.toMap({x:x*E+u,y:z*N+y});p.push(E)}p.push(p[0]);u=new r(k.spatialReference);u.addRing(p);return u};r.createCircle=function(p){return r.createEllipse({center:p.center,longAxis:p.r,shortAxis:p.r,
numberOfPoints:p.numberOfPoints,map:p.map})};r.fromExtent=function(p){var u=p.normalize();p=p.spatialReference;return new r({rings:w.map(u,function(y){return[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]]}),spatialReference:p?p.toJson():null})};t("extend-esri")&&(a.setObject("geometry.Polygon",r,l),l.geometry.defaultPolygon=h,l.geometry.createEllipse=r.createEllipse,l.geometry.createCircle=r.createCircle,l.geometry.isClockwise=r.prototype.isClockwise,l.geometry.polygonSelfIntersecting=
r.prototype.isSelfIntersecting);return r})},"esri/geometry/Polyline":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),function(D,w,a,t,l,n,h,g,e,d,b){function c(){}function f(){}h={type:"polyline",paths:null};D=D(g,{declaredClass:"esri.geometry.Polyline",type:"polyline",paths:null,constructor:function(m){this.paths=[];this._path=0;m&&(a.isArray(m)?this.paths=a.isArray(m[0][0])?m:
[m]:m.paths?n.mixin(this,m):this.spatialReference=m,this.spatialReference&&(this.spatialReference=b.createSpatialReference(this.spatialReference)));this.verifySR()},addPath:function(m){this.clearCache();this._path=this.paths.length;this.paths[this._path]=[];a.isArray(m[0])?w.forEach(m,this._addPointArr,this):w.forEach(m,this._addPoint,this);return this},_addPointArr:function(m){this.paths[this._path].push(m)},_addPoint:function(m){this.paths[this._path].push([m.x,m.y])},_insertPoints:function(m,r){this.clearCache();
this._path=r;this.paths[this._path]||(this.paths[this._path]=[]);w.forEach(m,this._addPoint,this)},_validateInputs:function(m,r){return null!==m&&void 0!==m&&(0>m||m>=this.paths.length)||null!==r&&void 0!==m&&(0>r||r>=this.paths[m].length)?!1:!0},getPoint:function(m,r){if(this._validateInputs(m,r))return new e(this.paths[m][r],this.spatialReference)},setPoint:function(m,r,p){if(this._validateInputs(m,r))return this.clearCache(),this.paths[m][r]=[p.x,p.y],this},insertPoint:function(m,r,p){if(this._validateInputs(m)&&
null!=r&&0<=r&&r<=this.paths[m].length)return this.clearCache(),this.paths[m].splice(r,0,[p.x,p.y]),this},removePath:function(m){if(this._validateInputs(m,null)){this.clearCache();m=this.paths.splice(m,1)[0];var r,p=m.length,u=this.spatialReference;for(r=0;r<p;r++)m[r]=new e(m[r],u);return m}},removePoint:function(m,r){if(this._validateInputs(m,r))return this.clearCache(),new e(this.paths[m].splice(r,1)[0],this.spatialReference)},getExtent:function(){var m=this.getCacheValue("_extent");var r=this.getCacheValue("_partwise");
if(m)return m=new d(m),m._partwise=r,m;m=this.paths;var p=m.length;if(p&&m[0].length){var u,y,x,z,q=u=m[0][0][0],k=y=m[0][0][1],v=Math.min,B=Math.max,E=this.spatialReference;r=[];var N,G;for(x=0;x<p;x++){var K=m[x];var I=N=K[0]&&K[0][0];var O=G=K[0]&&K[0][1];var V=K.length;for(z=0;z<V;z++){var na=K[z];var ja=na[0];na=na[1];q=v(q,ja);k=v(k,na);u=B(u,ja);y=B(y,na);I=v(I,ja);O=v(O,na);N=B(N,ja);G=B(G,na)}r.push(new d({xmin:I,ymin:O,xmax:N,ymax:G,spatialReference:E?E.toJson():null}))}m={xmin:q,ymin:k,
xmax:u,ymax:y,spatialReference:E?E.toJson():null};r=1<r.length?r:null;this.setCacheValue("_extent",m);this.setCacheValue("_partwise",r);m=new d(m);m._partwise=r;return m}},toJson:function(){var m={paths:n.clone3DArray(this.paths)},r=this.spatialReference;r&&(m.spatialReference=r.toJson());return m}});c.prototype=D.prototype;f.prototype=new c;Object.defineProperty(f.prototype,"paths",{get:function(){this._unquantizeFn&&(this._pathsVal=this._unquantizeFn({paths:n.clone3DArray(this._pathsVal)}).paths,
this._unquantizeFn=null);return this._pathsVal},set:function(m){this._pathsVal=m}});f.prototype.setupLazyUnquantization=function(m,r){this._unquantizeFn=m;this._pathsVal=r.paths};D.simpleConstructor=c;D.accessorConstructor=f;D.defaultProps=h;t("extend-esri")&&(a.setObject("geometry.Polyline",D,l),l.geometry.defaultPolyline=h);return D})},"esri/libs/luxon/luxon":function(){define(["exports"],function(D){function w(H,L){for(var C=0;C<L.length;C++){var J=L[C];J.enumerable=J.enumerable||!1;J.configurable=
!0;"value"in J&&(J.writable=!0);Object.defineProperty(H,J.key,J)}}function a(H,L,C){L&&w(H.prototype,L);C&&w(H,C);return H}function t(){t=Object.assign||function(H){for(var L=1;L<arguments.length;L++){var C=arguments[L],J;for(J in C)Object.prototype.hasOwnProperty.call(C,J)&&(H[J]=C[J])}return H};return t.apply(this,arguments)}function l(H,L){H.prototype=Object.create(L.prototype);H.prototype.constructor=H;h(H,L)}function n(H){n=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||
Object.getPrototypeOf(L)};return n(H)}function h(H,L){h=Object.setPrototypeOf||function(C,J){C.__proto__=J;return C};return h(H,L)}function g(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(H){return!1}}function e(H,L,C){e=g()?Reflect.construct:function(J,S,ia){var va=[null];va.push.apply(va,S);J=new (Function.bind.apply(J,va));
ia&&h(J,ia.prototype);return J};return e.apply(null,arguments)}function d(H){var L="function"===typeof Map?new Map:void 0;d=function(C){function J(){return e(C,arguments,n(this).constructor)}if(null===C||-1===Function.toString.call(C).indexOf("[native code]"))return C;if("function"!==typeof C)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof L){if(L.has(C))return L.get(C);L.set(C,J)}J.prototype=Object.create(C.prototype,{constructor:{value:J,enumerable:!1,
writable:!0,configurable:!0}});return h(J,C)};return d(H)}function b(H,L){if(H){if("string"===typeof H)return c(H,L);var C=Object.prototype.toString.call(H).slice(8,-1);"Object"===C&&H.constructor&&(C=H.constructor.name);if("Map"===C||"Set"===C)return Array.from(H);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return c(H,L)}}function c(H,L){if(null==L||L>H.length)L=H.length;for(var C=0,J=Array(L);C<L;C++)J[C]=H[C];return J}function f(H,L){var C="undefined"!==typeof Symbol&&
H[Symbol.iterator]||H["@@iterator"];if(C)return(C=C.call(H)).next.bind(C);if(Array.isArray(H)||(C=b(H))||L&&H&&"number"===typeof H.length){C&&(H=C);var J=0;return function(){return J>=H.length?{done:!0}:{done:!1,value:H[J++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function m(H){return"undefined"===typeof H}function r(H){return"number"===typeof H}function p(H){return"number"===typeof H&&
0===H%1}function u(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(H){return!1}}function y(H,L,C){if(0!==H.length)return H.reduce(function(J,S){S=[L(S),S];return J?C(J[0],S[0])===J[0]?J:S:S},null)[1]}function x(H,L){return L.reduce(function(C,J){C[J]=H[J];return C},{})}function z(H,L){return Object.prototype.hasOwnProperty.call(H,L)}function q(H,L,C){return p(H)&&H>=L&&H<=C}function k(H,L){void 0===L&&(L=2);var C=0>H?"-":"";H=C?-1*H:H;L=H.toString().length<L?("0".repeat(L)+
H).slice(-L):H.toString();return""+C+L}function v(H){if(!m(H)&&null!==H&&""!==H)return parseInt(H,10)}function B(H){if(!m(H)&&null!==H&&""!==H)return H=1E3*parseFloat("0."+H),Math.floor(H)}function E(H,L,C){void 0===C&&(C=!1);L=Math.pow(10,L);return(C?Math.trunc:Math.round)(H*L)/L}function N(H){return 0===H%4&&(0!==H%100||0===H%400)}function G(H,L){var C=L-1;C=C-12*Math.floor(C/12)+1;return 2===C?N(H+(L-C)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][C-1]}function K(H){var L=Date.UTC(H.year,
H.month-1,H.day,H.hour,H.minute,H.second,H.millisecond);100>H.year&&0<=H.year&&(L=new Date(L),L.setUTCFullYear(L.getUTCFullYear()-1900));return+L}function I(H){var L=H-1;L=(L+Math.floor(L/4)-Math.floor(L/100)+Math.floor(L/400))%7;return 4===(H+Math.floor(H/4)-Math.floor(H/100)+Math.floor(H/400))%7||3===L?53:52}function O(H){return 99<H?H:60<H?1900+H:2E3+H}function V(H,L,C,J){void 0===J&&(J=null);H=new Date(H);var S={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};
J&&(S.timeZone=J);L=t({timeZoneName:L},S);return(C=(new Intl.DateTimeFormat(C,L)).formatToParts(H).find(function(ia){return"timezonename"===ia.type.toLowerCase()}))?C.value:null}function na(H,L){H=parseInt(H,10);Number.isNaN(H)&&(H=0);L=parseInt(L,10)||0;L=0>H||Object.is(H,-0)?-L:L;return 60*H+L}function ja(H){var L=Number(H);if("boolean"===typeof H||""===H||Number.isNaN(L))throw new hb("Invalid unit value "+H);return L}function la(H,L){var C={},J;for(J in H)if(z(H,J)){var S=H[J];void 0!==S&&null!==
S&&(C[L(J)]=ja(S))}return C}function ca(H,L){var C=Math.trunc(Math.abs(H/60)),J=Math.trunc(Math.abs(H%60));H=0<=H?"+":"-";switch(L){case "short":return""+H+k(C,2)+":"+k(J,2);case "narrow":return""+H+C+(0<J?":"+J:"");case "techie":return""+H+k(C,2)+k(J,2);default:throw new RangeError("Value format "+L+" is out of range for property format");}}function ea(H){return x(H,["hour","minute","second","millisecond"])}function oa(H){switch(H){case "narrow":return[].concat(Pc);case "short":return[].concat(Xb);
case "long":return[].concat(Qc);case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function sa(H){switch(H){case "narrow":return[].concat(Rc);case "short":return[].concat(Yb);case "long":return[].concat(Zb);case "numeric":return"1234567".split("");default:return null}}function za(H){switch(H){case "narrow":return[].concat(Sc);case "short":return[].concat(Tc);case "long":return[].concat(Uc);default:return null}}
function Z(H,L,C,J){void 0===C&&(C="always");void 0===J&&(J=!1);var S={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ia=-1===["hours","minutes","seconds"].indexOf(H);if("auto"===C&&ia)switch(C="days"===H,L){case 1:return C?"tomorrow":"next "+S[H][0];case -1:return C?"yesterday":"last "+S[H][0];case 0:return C?"today":"this "+S[H][0]}C=Object.is(L,-0)||
0>L;L=Math.abs(L);ia=1===L;var va=S[H];H=J?ia?va[1]:va[2]||va[1]:ia?S[H][0]:H;return C?L+" "+H+" ago":"in "+L+" "+H}function ka(H,L){var C="";H=f(H);for(var J;!(J=H()).done;)J=J.value,C=J.literal?C+J.val:C+L(J.val);return C}function ua(H,L){var C;if(m(H)||null===H)return L;if(H instanceof wb)return H;if("string"===typeof H){var J=H.toLowerCase();return"local"===J||"system"===J?L:"utc"===J||"gmt"===J?ib.utcInstance:null!=(C=mb.parseGMTOffset(H))?ib.instance(C):mb.isValidSpecifier(J)?mb.create(H):ib.parseSpecifier(J)||
new Jb(H)}return r(H)?ib.instance(H):"object"===typeof H&&H.offset&&"number"===typeof H.offset?H:new Jb(H)}function A(H,L){void 0===L&&(L={});var C=JSON.stringify([H,L]),J=Kb[C];J||(J=new Intl.DateTimeFormat(H,L),Kb[C]=J);return J}function F(H){for(var L=[],C=1;12>=C;C++){var J=Za.utc(2016,C,1);L.push(H(J))}return L}function Q(H){for(var L=[],C=1;7>=C;C++){var J=Za.utc(2016,11,13+C);L.push(H(J))}return L}function X(H,L,C,J,S){H=H.listingMode(C);return"error"===H?null:"en"===H?J(L):S(L)}function aa(){for(var H=
arguments.length,L=Array(H),C=0;C<H;C++)L[C]=arguments[C];H=L.reduce(function(J,S){return J+S.source},"");return RegExp("^"+H+"$")}function pa(){for(var H=arguments.length,L=Array(H),C=0;C<H;C++)L[C]=arguments[C];return function(J){return L.reduce(function(S,ia){var va=S[0],xa=S[1];S=ia(J,S[2]);ia=S[1];var Ea=S[2];return[t({},va,S[0]),xa||ia,Ea]},[{},null,1]).slice(0,2)}}function ra(H){if(null==H)return[null,null];for(var L=arguments.length,C=Array(1<L?L-1:0),J=1;J<L;J++)C[J-1]=arguments[J];for(L=
0;L<C.length;L++){var S=C[L];J=S[1];if(S=S[0].exec(H))return J(S)}return[null,null]}function T(){for(var H=arguments.length,L=Array(H),C=0;C<H;C++)L[C]=arguments[C];return function(J,S){var ia={},va;for(va=0;va<L.length;va++)ia[L[va]]=v(J[S+va]);return[ia,null,S+va]}}function U(H,L,C){H=H[L];return m(H)?C:v(H)}function ba(H,L){return[{year:U(H,L),month:U(H,L+1,1),day:U(H,L+2,1)},null,L+3]}function ma(H,L){return[{hours:U(H,L,0),minutes:U(H,L+1,0),seconds:U(H,L+2,0),milliseconds:B(H[L+3])},null,L+
4]}function da(H,L){var C=!H[L]&&!H[L+1];H=na(H[L+1],H[L+2]);return[{},C?null:ib.instance(H),L+3]}function Aa(H,L){return[{},H[L]?mb.create(H[L]):null,L+1]}function R(H){var L=H[2],C=H[3],J=H[4],S=H[5],ia=H[6],va=H[7],xa=H[8],Ea="-"===H[0][0],Na=va&&"-"===va[0],Ra=function(Ua,Pa){void 0===Pa&&(Pa=!1);return void 0!==Ua&&(Pa||Ua&&Ea)?-Ua:Ua};return[{years:Ra(v(H[1])),months:Ra(v(L)),weeks:Ra(v(C)),days:Ra(v(J)),hours:Ra(v(S)),minutes:Ra(v(ia)),seconds:Ra(v(va),"-0"===va),milliseconds:Ra(B(xa),Na)}]}
function P(H,L,C,J,S,ia,va){L={year:2===L.length?O(v(L)):v(L),month:Xb.indexOf(C)+1,day:v(J),hour:v(S),minute:v(ia)};va&&(L.second=v(va));H&&(L.weekday=3<H.length?Zb.indexOf(H)+1:Yb.indexOf(H)+1);return L}function Y(H){var L=H[8],C=H[9],J=H[10],S=H[11];H=P(H[1],H[4],H[3],H[2],H[5],H[6],H[7]);L=L?Vc[L]:C?0:na(J,S);return[H,new ib(L)]}function ha(H){return[P(H[1],H[4],H[3],H[2],H[5],H[6],H[7]),ib.utcInstance]}function ta(H){return[P(H[1],H[7],H[2],H[3],H[4],H[5],H[6]),ib.utcInstance]}function Da(H,
L,C){void 0===C&&(C=!1);H={values:C?L.values:t({},H.values,L.values||{}),loc:H.loc.clone(L.loc),conversionAccuracy:L.conversionAccuracy||H.conversionAccuracy};return new fb(H)}function Ga(H,L,C,J,S){H=H[S][C];var ia=L[C]/H;ia=Math.sign(ia)!==Math.sign(J[S])&&0!==J[S]&&1>=Math.abs(ia)?0>ia?Math.floor(ia):Math.ceil(ia):Math.trunc(ia);J[S]+=ia;L[C]-=ia*H}function Ma(H,L){Wc.reduce(function(C,J){if(m(L[J]))return C;C&&Ga(H,L,C,L,J);return J},null)}function Ia(H){if(r(H))return fb.fromMillis(H);if(fb.isDuration(H))return H;
if("object"===typeof H)return fb.fromObject(H);throw new hb("Unknown duration argument "+H+" of type "+typeof H);}function Fa(H,L){var C=function(J){return J.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()};H=C(L)-C(H);return Math.floor(fb.fromMillis(H).as("days"))}function La(H,L,C){for(var J={},S,ia,va=0,xa=[["years",function(Pa,Va){return Va.year-Pa.year}],["quarters",function(Pa,Va){return Va.quarter-Pa.quarter}],["months",function(Pa,Va){return Va.month-Pa.month+12*(Va.year-Pa.year)}],["weeks",
function(Pa,Va){Pa=Fa(Pa,Va);return(Pa-Pa%7)/7}],["days",Fa]];va<xa.length;va++){var Ea=xa[va],Na=Ea[0];Ea=Ea[1];if(0<=C.indexOf(Na)){var Ra;S=Na;Ea=Ea(H,L);ia=H.plus((Ra={},Ra[Na]=Ea,Ra));if(ia>L){var Ua;H=H.plus((Ua={},Ua[Na]=Ea-1,Ua));--Ea}else H=ia;J[Na]=Ea}}return[H,J,ia,S]}function Ka(H,L,C,J){var S=La(H,L,C);H=S[0];var ia=S[1],va=S[2],xa=S[3];S=L-H;C=C.filter(function(Ra){return 0<=["hours","minutes","seconds","milliseconds"].indexOf(Ra)});if(0===C.length){if(va<L){var Ea;va=H.plus((Ea={},
Ea[xa]=1,Ea))}va!==H&&(ia[xa]=(ia[xa]||0)+S/(va-H))}L=fb.fromObject(ia,J);if(0<C.length){var Na;return(Na=fb.fromMillis(S,J)).shiftTo.apply(Na,C).plus(L)}return L}function M(H,L){H=H.numberingSystem;void 0===L&&(L="");return new RegExp(""+Lb[H||"latn"]+L)}function W(H,L){void 0===L&&(L=function(C){return C});return{regex:H,deser:function(C){var J=L;C=C[0];var S=parseInt(C,10);if(isNaN(S)){S="";for(var ia=0;ia<C.length;ia++){var va=C.charCodeAt(ia);if(-1!==C[ia].search(Lb.hanidec))S+=Xc.indexOf(C[ia]);
else for(Na in $b){var xa=$b[Na],Ea=xa[0];xa=xa[1];va>=Ea&&va<=xa&&(S+=va-Ea)}}var Na=parseInt(S,10)}else Na=S;return J(Na)}}}function fa(H){return H.replace(/\./g,"\\.?").replace(Mb,ac)}function qa(H,L){return null===H?null:{regex:RegExp(H.map(fa).join("|")),deser:function(C){var J=C[0];return H.findIndex(function(S){return J.replace(/\./g,"").replace(Mb," ").toLowerCase()===S.replace(/\./g,"").replace(Mb," ").toLowerCase()})+L}}}function wa(H,L){return{regex:H,deser:function(C){return na(C[1],C[2])},
groups:L}}function ya(H){return{regex:H,deser:function(L){return L[0]}}}function Ba(H,L){var C=M(L),J=M(L,"{2}"),S=M(L,"{3}"),ia=M(L,"{4}"),va=M(L,"{6}"),xa=M(L,"{1,2}"),Ea=M(L,"{1,3}"),Na=M(L,"{1,6}"),Ra=M(L,"{1,9}"),Ua=M(L,"{2,4}"),Pa=M(L,"{4,6}"),Va=function(Ab){return{regex:RegExp(Ab.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:function(Yc){return Yc[0]},literal:!0}},jb=function(Ab){if(H.literal)return Va(Ab);switch(Ab.val){case "G":return qa(L.eras("short",!1),0);case "GG":return qa(L.eras("long",
!1),0);case "y":return W(Na);case "yy":return W(Ua,O);case "yyyy":return W(ia);case "yyyyy":return W(Pa);case "yyyyyy":return W(va);case "M":return W(xa);case "MM":return W(J);case "MMM":return qa(L.months("short",!0,!1),1);case "MMMM":return qa(L.months("long",!0,!1),1);case "L":return W(xa);case "LL":return W(J);case "LLL":return qa(L.months("short",!1,!1),1);case "LLLL":return qa(L.months("long",!1,!1),1);case "d":return W(xa);case "dd":return W(J);case "o":return W(Ea);case "ooo":return W(S);
case "HH":return W(J);case "H":return W(xa);case "hh":return W(J);case "h":return W(xa);case "mm":return W(J);case "m":return W(xa);case "q":return W(xa);case "qq":return W(J);case "s":return W(xa);case "ss":return W(J);case "S":return W(Ea);case "SSS":return W(S);case "u":return ya(Ra);case "a":return qa(L.meridiems(),0);case "kkkk":return W(ia);case "kk":return W(Ua,O);case "W":return W(xa);case "WW":return W(J);case "E":case "c":return W(C);case "EEE":return qa(L.weekdays("short",!1,!1),1);case "EEEE":return qa(L.weekdays("long",
!1,!1),1);case "ccc":return qa(L.weekdays("short",!0,!1),1);case "cccc":return qa(L.weekdays("long",!0,!1),1);case "Z":case "ZZ":return wa(new RegExp("([+-]"+xa.source+")(?::("+J.source+"))?"),2);case "ZZZ":return wa(new RegExp("([+-]"+xa.source+")("+J.source+")?"),2);case "z":return ya(/[a-z_+-/]{1,256}?/i);default:return Va(Ab)}}(H)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};jb.token=H;return jb}function Ja(H){return["^"+H.map(function(L){return L.regex}).reduce(function(L,
C){return L+"("+C.source+")"},"")+"$",H]}function Ha(H,L,C){if(H=H.match(L)){L={};var J=1,S;for(S in C)if(z(C,S)){var ia=C[S],va=ia.groups?ia.groups+1:1;!ia.literal&&ia.token&&(L[ia.token.val[0]]=ia.deser(H.slice(J,J+va)));J+=va}return[H,L]}return[H,{}]}function Ca(H){var L=function(J){switch(J){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";
case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};var C=m(H.Z)?m(H.z)?null:mb.create(H.z):new ib(H.Z);m(H.q)||(H.M=3*(H.q-1)+1);m(H.h)||(12>H.h&&1===H.a?H.h+=12:12===H.h&&0===H.a&&(H.h=0));0===H.G&&H.y&&(H.y=-H.y);m(H.u)||(H.S=B(H.u));return[Object.keys(H).reduce(function(J,S){var ia=L(S);ia&&(J[ia]=H[S]);return J},{}),C]}function Oa(){Nb||(Nb=Za.fromMillis(1555555555555));return Nb}function ab(H,L){if(H.literal)return H;
var C=nb.macroTokenToFormatOpts(H.val);if(!C)return H;L=nb.create(L,C).formatDateTimeParts(Oa()).map(function(J){var S=J.type;J=J.value;"literal"===S?S={literal:!0,val:J}:(J=C[S],S=Zc[S],"object"===typeof S&&(S=S[J]),S=S?{literal:!1,val:S}:void 0);return S});return L.includes(void 0)?H:L}function Ta(H,L){var C;return(C=Array.prototype).concat.apply(C,H.map(function(J){return ab(J,L)}))}function Wa(H,L,C){C=Ta(nb.parseFormat(C),H);var J=C.map(function(Ea){return Ba(Ea,H)}),S=J.find(function(Ea){return Ea.invalidReason});
if(S)return{input:L,tokens:C,invalidReason:S.invalidReason};S=Ja(J);J=RegExp(S[0],"i");var ia=Ha(L,J,S[1]);S=ia[0];var va=(ia=ia[1])?Ca(ia):[null,null],xa=va[0];va=va[1];if(z(ia,"a")&&z(ia,"H"))throw new Bb("Can't include meridiem when specifying 24-hour format");return{input:L,tokens:C,regex:J,rawMatches:S,matches:ia,result:xa,zone:va}}function Sa(H,L){return new lb("unit out of range","you specified "+L+" (of type "+typeof L+") as a "+H+", which is invalid")}function ob(H,L,C){H=(new Date(Date.UTC(H,
L-1,C))).getUTCDay();return 0===H?7:H}function kb(H,L){H=N(H)?Ob:Pb;var C=H.findIndex(function(J){return J<L});return{month:C+1,day:L-H[C]}}function eb(H){var L=H.year,C=H.month,J=H.day;var S=J+(N(L)?Ob:Pb)[C-1];C=ob(L,C,J);S=Math.floor((S-C+10)/7);1>S?(--L,S=I(L)):S>I(L)&&(L+=1,S=1);return t({weekYear:L,weekNumber:S,weekday:C},ea(H))}function Qa(H){var L=H.weekYear,C=H.weekNumber,J=H.weekday,S=ob(L,1,4),ia=N(L)?366:365;C=7*C+J-S-3;1>C?(ia=L-1,C+=N(ia)?366:365):C>ia?(ia=L+1,C-=N(L)?366:365):ia=L;
L=kb(ia,C);return t({year:ia,month:L.month,day:L.day},ea(H))}function Xa(H){var L=H.year;var C=H.month;C=H.day+(N(L)?Ob:Pb)[C-1];return t({year:L,ordinal:C},ea(H))}function Ya(H){var L=H.year,C=kb(L,H.ordinal);return t({year:L,month:C.month,day:C.day},ea(H))}function sb(H){var L=p(H.year),C=q(H.month,1,12),J=q(H.day,1,G(H.year,H.month));return L?C?J?!1:Sa("day",H.day):Sa("month",H.month):Sa("year",H.year)}function gb(H){var L=H.hour,C=H.minute,J=H.second;H=H.millisecond;var S=q(L,0,23)||24===L&&0===
C&&0===J&&0===H,ia=q(C,0,59),va=q(J,0,59),xa=q(H,0,999);return S?ia?va?xa?!1:Sa("millisecond",H):Sa("second",J):Sa("minute",C):Sa("hour",L)}function cb(H){return new lb("unsupported zone",'the zone "'+H.name+'" is not supported')}function zb(H){null===H.weekData&&(H.weekData=eb(H.c));return H.weekData}function bb(H,L){H={ts:H.ts,zone:H.zone,c:H.c,o:H.o,loc:H.loc,invalid:H.invalid};return new Za(t({},H,L,{old:H}))}function pb(H,L,C){var J=H-6E4*L,S=C.offset(J);if(L===S)return[J,L];J-=6E4*(S-L);L=C.offset(J);
return S===L?[J,S]:[H-6E4*Math.min(S,L),Math.max(S,L)]}function tb(H,L){H=new Date(H+6E4*L);return{year:H.getUTCFullYear(),month:H.getUTCMonth()+1,day:H.getUTCDate(),hour:H.getUTCHours(),minute:H.getUTCMinutes(),second:H.getUTCSeconds(),millisecond:H.getUTCMilliseconds()}}function vb(H,L,C){return pb(K(H),L,C)}function Fb(H,L){var C=H.o,J=H.c.year+Math.trunc(L.years),S=H.c.month+Math.trunc(L.months)+3*Math.trunc(L.quarters);J=t({},H.c,{year:J,month:S,day:Math.min(H.c.day,G(J,S))+Math.trunc(L.days)+
7*Math.trunc(L.weeks)});L=fb.fromObject({years:L.years-Math.trunc(L.years),quarters:L.quarters-Math.trunc(L.quarters),months:L.months-Math.trunc(L.months),weeks:L.weeks-Math.trunc(L.weeks),days:L.days-Math.trunc(L.days),hours:L.hours,minutes:L.minutes,seconds:L.seconds,milliseconds:L.milliseconds}).as("milliseconds");J=K(J);J=pb(J,C,H.zone);C=J[0];J=J[1];0!==L&&(C+=L,J=H.zone.offset(C));return{ts:C,o:J}}function qb(H,L,C,J,S){var ia=C.setZone,va=C.zone;return H&&0!==Object.keys(H).length?(H=Za.fromObject(H,
t({},C,{zone:L||va})),ia?H:H.setZone(va)):Za.invalid(new lb("unparsable",'the input "'+S+"\" can't be parsed as "+J))}function xb(H,L,C){void 0===C&&(C=!0);return H.isValid?nb.create(db.create("en-US"),{allowZ:C,forceSimple:!0}).formatDateTimeFromString(H,L):null}function bc(H,L){var C=L.suppressSeconds,J=L.suppressMilliseconds;J=void 0===J?!1:J;var S=L.includeOffset,ia=L.includePrefix;ia=void 0===ia?!1:ia;var va=L.includeZone;va=void 0===va?!1:va;var xa=L.spaceZone;L=L.format;L=void 0===L?"extended":
L;var Ea="basic"===L?"HHmm":"HH:mm";void 0!==C&&C&&0===H.second&&0===H.millisecond||(Ea+="basic"===L?"ss":":ss",J&&0===H.millisecond||(Ea+=".SSS"));(va||S)&&(void 0===xa?0:xa)&&(Ea+=" ");va?Ea+="z":S&&(Ea+="basic"===L?"ZZZ":"ZZ");H=xb(H,Ea);ia&&(H="T"+H);return H}function cc(H){var L={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",
milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[H.toLowerCase()];if(!L)throw new dc(H);return L}function ec(H,L){var C=ua(L.zone,$a.defaultZone);L=db.fromObject(L);var J=$a.now();if(m(H.year))H=J;else{var S=f(fc);for(var ia;!(ia=S()).done;)ia=ia.value,m(H[ia])&&(H[ia]=gc[ia]);if(S=sb(H)||gb(H))return Za.invalid(S);J=C.offset(J);J=vb(H,J,C);H=J[0];S=
J[1]}return new Za({ts:H,zone:C,loc:L,o:S})}function hc(H,L,C){var J=m(C.round)?!0:C.round,S=function(Na,Ra){Na=E(Na,J||C.calendary?0:2,!0);return L.loc.clone(C).relFormatter(C).format(Na,Ra)},ia=function(Na){return C.calendary?L.hasSame(H,Na)?0:L.startOf(Na).diff(H.startOf(Na),Na).get(Na):L.diff(H,Na).get(Na)};if(C.unit)return S(ia(C.unit),C.unit);for(var va=f(C.units),xa;!(xa=va()).done;){xa=xa.value;var Ea=ia(xa);if(1<=Math.abs(Ea))return S(Ea,xa)}return S(H>L?-0:0,C.units[C.units.length-1])}function ic(H){var L=
{};0<H.length&&"object"===typeof H[H.length-1]?(L=H[H.length-1],H=Array.from(H).slice(0,H.length-1)):H=Array.from(H);return[L,H]}function Cb(H){if(Za.isDateTime(H))return H;if(H&&H.valueOf&&r(H.valueOf()))return Za.fromJSDate(H);if(H&&"object"===typeof H)return Za.fromObject(H);throw new hb("Unknown datetime argument: "+H+", of type "+typeof H);}var ub=function(H){function L(){return H.apply(this,arguments)||this}l(L,H);return L}(d(Error)),$c=function(H){function L(C){return H.call(this,"Invalid DateTime: "+
C.toMessage())||this}l(L,H);return L}(ub),ad=function(H){function L(C){return H.call(this,"Invalid Interval: "+C.toMessage())||this}l(L,H);return L}(ub),bd=function(H){function L(C){return H.call(this,"Invalid Duration: "+C.toMessage())||this}l(L,H);return L}(ub),Bb=function(H){function L(){return H.apply(this,arguments)||this}l(L,H);return L}(ub),dc=function(H){function L(C){return H.call(this,"Invalid unit "+C)||this}l(L,H);return L}(ub),hb=function(H){function L(){return H.apply(this,arguments)||
this}l(L,H);return L}(ub),rb=function(H){function L(){return H.call(this,"Zone is an abstract class")||this}l(L,H);return L}(ub),Qb={year:"numeric",month:"numeric",day:"numeric"},jc={year:"numeric",month:"short",day:"numeric"},cd={year:"numeric",month:"short",day:"numeric",weekday:"short"},kc={year:"numeric",month:"long",day:"numeric"},lc={year:"numeric",month:"long",day:"numeric",weekday:"long"},mc={hour:"numeric",minute:"numeric"},nc={hour:"numeric",minute:"numeric",second:"numeric"},oc={hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"short"},pc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},qc={hour:"numeric",minute:"numeric",hourCycle:"h23"},rc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},sc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},tc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},uc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},
vc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},wc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},xc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},dd={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},yc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},zc={year:"numeric",month:"long",
day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Ac={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},Bc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Cc=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,Qc="January February March April May June July August September October November December".split(" "),
Xb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Pc="JFMAMJJASOND".split(""),Zb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Yb="Mon Tue Wed Thu Fri Sat Sun".split(" "),Rc="MTWTFSS".split(""),Dc=["AM","PM"],Uc=["Before Christ","Anno Domini"],Tc=["BC","AD"],Sc=["B","A"],ed={D:Qb,DD:jc,DDD:kc,DDDD:lc,t:mc,tt:nc,ttt:oc,tttt:pc,T:qc,TT:rc,TTT:sc,TTTT:tc,f:uc,ff:wc,fff:yc,ffff:Ac,F:vc,FF:xc,FFF:zc,FFFF:Bc},nb=function(){function H(C,J){this.opts=J;this.loc=C;this.systemLoc=
null}H.create=function(C,J){void 0===J&&(J={});return new H(C,J)};H.parseFormat=function(C){for(var J=null,S="",ia=!1,va=[],xa=0;xa<C.length;xa++){var Ea=C.charAt(xa);"'"===Ea?(0<S.length&&va.push({literal:ia,val:S}),J=null,S="",ia=!ia):ia?S+=Ea:Ea===J?S+=Ea:(0<S.length&&va.push({literal:!1,val:S}),J=S=Ea)}0<S.length&&va.push({literal:ia,val:S});return va};H.macroTokenToFormatOpts=function(C){return ed[C]};var L=H.prototype;L.formatWithSystemDefault=function(C,J){null===this.systemLoc&&(this.systemLoc=
this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(C,t({},this.opts,J)).format()};L.formatDateTime=function(C,J){void 0===J&&(J={});return this.loc.dtFormatter(C,t({},this.opts,J)).format()};L.formatDateTimeParts=function(C,J){void 0===J&&(J={});return this.loc.dtFormatter(C,t({},this.opts,J)).formatToParts()};L.resolvedOptions=function(C,J){void 0===J&&(J={});return this.loc.dtFormatter(C,t({},this.opts,J)).resolvedOptions()};L.num=function(C,J){void 0===J&&(J=0);if(this.opts.forceSimple)return k(C,
J);var S=t({},this.opts);0<J&&(S.padTo=J);return this.loc.numberFormatter(S).format(C)};L.formatDateTimeFromString=function(C,J){var S=this,ia="en"===this.loc.listingMode(),va=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,xa=function(Pa,Va){return S.loc.extract(C,Pa,Va)},Ea=function(Pa){return C.isOffsetFixed&&0===C.offset&&Pa.allowZ?"Z":C.isValid?C.zone.formatOffset(C.ts,Pa.format):""},Na=function(Pa,Va){return ia?oa(Pa)[C.month-1]:xa(Va?{month:Pa}:{month:Pa,day:"numeric"},"month")},
Ra=function(Pa,Va){return ia?sa(Pa)[C.weekday-1]:xa(Va?{weekday:Pa}:{weekday:Pa,month:"long",day:"numeric"},"weekday")},Ua=function(Pa){return ia?za(Pa)[0>C.year?0:1]:xa({era:Pa},"era")};return ka(H.parseFormat(J),function(Pa){switch(Pa){case "S":return S.num(C.millisecond);case "u":case "SSS":return S.num(C.millisecond,3);case "s":return S.num(C.second);case "ss":return S.num(C.second,2);case "m":return S.num(C.minute);case "mm":return S.num(C.minute,2);case "h":return S.num(0===C.hour%12?12:C.hour%
12);case "hh":return S.num(0===C.hour%12?12:C.hour%12,2);case "H":return S.num(C.hour);case "HH":return S.num(C.hour,2);case "Z":return Ea({format:"narrow",allowZ:S.opts.allowZ});case "ZZ":return Ea({format:"short",allowZ:S.opts.allowZ});case "ZZZ":return Ea({format:"techie",allowZ:S.opts.allowZ});case "ZZZZ":return C.zone.offsetName(C.ts,{format:"short",locale:S.loc.locale});case "ZZZZZ":return C.zone.offsetName(C.ts,{format:"long",locale:S.loc.locale});case "z":return C.zoneName;case "a":return ia?
Dc[12>C.hour?0:1]:xa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return va?xa({day:"numeric"},"day"):S.num(C.day);case "dd":return va?xa({day:"2-digit"},"day"):S.num(C.day,2);case "c":return S.num(C.weekday);case "ccc":return Ra("short",!0);case "cccc":return Ra("long",!0);case "ccccc":return Ra("narrow",!0);case "E":return S.num(C.weekday);case "EEE":return Ra("short",!1);case "EEEE":return Ra("long",!1);case "EEEEE":return Ra("narrow",!1);case "L":return va?xa({month:"numeric",day:"numeric"},
"month"):S.num(C.month);case "LL":return va?xa({month:"2-digit",day:"numeric"},"month"):S.num(C.month,2);case "LLL":return Na("short",!0);case "LLLL":return Na("long",!0);case "LLLLL":return Na("narrow",!0);case "M":return va?xa({month:"numeric"},"month"):S.num(C.month);case "MM":return va?xa({month:"2-digit"},"month"):S.num(C.month,2);case "MMM":return Na("short",!1);case "MMMM":return Na("long",!1);case "MMMMM":return Na("narrow",!1);case "y":return va?xa({year:"numeric"},"year"):S.num(C.year);
case "yy":return va?xa({year:"2-digit"},"year"):S.num(C.year.toString().slice(-2),2);case "yyyy":return va?xa({year:"numeric"},"year"):S.num(C.year,4);case "yyyyyy":return va?xa({year:"numeric"},"year"):S.num(C.year,6);case "G":return Ua("short");case "GG":return Ua("long");case "GGGGG":return Ua("narrow");case "kk":return S.num(C.weekYear.toString().slice(-2),2);case "kkkk":return S.num(C.weekYear,4);case "W":return S.num(C.weekNumber);case "WW":return S.num(C.weekNumber,2);case "o":return S.num(C.ordinal);
case "ooo":return S.num(C.ordinal,3);case "q":return S.num(C.quarter);case "qq":return S.num(C.quarter,2);case "X":return S.num(Math.floor(C.ts/1E3));case "x":return S.num(C.ts);default:var Va=H.macroTokenToFormatOpts(Pa);Pa=Va?S.formatWithSystemDefault(C,Va):Pa;return Pa}})};L.formatDurationFromString=function(C,J){var S=this,ia=function(xa){switch(xa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "M":return"month";
case "y":return"year";default:return null}};J=H.parseFormat(J);var va=J.reduce(function(xa,Ea){var Na=Ea.val;return Ea.literal?xa:xa.concat(Na)},[]);C=C.shiftTo.apply(C,va.map(ia).filter(function(xa){return xa}));return ka(J,function(xa){return function(Ea){var Na=ia(Ea);return Na?S.num(xa.get(Na),Ea.length):Ea}}(C))};return H}(),lb=function(){function H(L,C){this.reason=L;this.explanation=C}H.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason};return H}(),
wb=function(){function H(){}var L=H.prototype;L.offsetName=function(C,J){throw new rb;};L.formatOffset=function(C,J){throw new rb;};L.offset=function(C){throw new rb;};L.equals=function(C){throw new rb;};a(H,[{key:"type",get:function(){throw new rb;}},{key:"name",get:function(){throw new rb;}},{key:"isUniversal",get:function(){throw new rb;}},{key:"isValid",get:function(){throw new rb;}}]);return H}(),Rb=null,Ec=function(H){function L(){return H.apply(this,arguments)||this}l(L,H);var C=L.prototype;
C.offsetName=function(J,S){return V(J,S.format,S.locale)};C.formatOffset=function(J,S){return ca(this.offset(J),S)};C.offset=function(J){return-(new Date(J)).getTimezoneOffset()};C.equals=function(J){return"system"===J.type};a(L,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){null===Rb&&(Rb=new L);
return Rb}}]);return L}(wb),fd=RegExp("^"+Cc.source+"$"),Gb={},gd={year:0,month:1,day:2,hour:3,minute:4,second:5},Hb={},mb=function(H){function L(J){var S=H.call(this)||this;S.zoneName=J;S.valid=L.isValidZone(J);return S}l(L,H);L.create=function(J){Hb[J]||(Hb[J]=new L(J));return Hb[J]};L.resetCache=function(){Hb={};Gb={}};L.isValidSpecifier=function(J){return!(!J||!J.match(fd))};L.isValidZone=function(J){try{return(new Intl.DateTimeFormat("en-US",{timeZone:J})).format(),!0}catch(S){return!1}};L.parseGMTOffset=
function(J){return J&&(J=J.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i))?-60*parseInt(J[1]):null};var C=L.prototype;C.offsetName=function(J,S){return V(J,S.format,S.locale,this.name)};C.formatOffset=function(J,S){return ca(this.offset(J),S)};C.offset=function(J){J=new Date(J);if(isNaN(J))return NaN;var S=this.name;Gb[S]||(Gb[S]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:S,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));S=Gb[S];if(S.formatToParts){S=
S.formatToParts(J);for(var ia=[],va=0;va<S.length;va++){var xa=S[va],Ea=xa.value;xa=gd[xa.type];m(xa)||(ia[xa]=parseInt(Ea,10))}S=ia}else S=S.format(J).replace(/\u200E/g,""),S=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(S),S=[S[3],S[1],S[2],S[4],S[5],S[6]];S=K({year:S[0],month:S[1],day:S[2],hour:S[3],minute:S[4],second:S[5],millisecond:0});J=+J;ia=J%1E3;return(S-(J-(0<=ia?ia:1E3+ia)))/6E4};C.equals=function(J){return"iana"===J.type&&J.name===this.name};a(L,[{key:"type",get:function(){return"iana"}},
{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]);return L}(wb),Sb=null,ib=function(H){function L(J){var S=H.call(this)||this;S.fixed=J;return S}l(L,H);L.instance=function(J){return 0===J?L.utcInstance:new L(J)};L.parseSpecifier=function(J){return J&&(J=J.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new L(na(J[1],J[2])):null};var C=L.prototype;C.offsetName=function(){return this.name};C.formatOffset=
function(J,S){return ca(this.fixed,S)};C.offset=function(){return this.fixed};C.equals=function(J){return"fixed"===J.type&&J.fixed===this.fixed};a(L,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+ca(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){null===Sb&&(Sb=new L(0));return Sb}}]);return L}(wb),Jb=function(H){function L(J){var S=H.call(this)||
this;S.zoneName=J;return S}l(L,H);var C=L.prototype;C.offsetName=function(){return null};C.formatOffset=function(){return""};C.offset=function(){return NaN};C.equals=function(){return!1};a(L,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]);return L}(wb),Fc=function(){return Date.now()},Gc="system",Hc=null,Ic=null,Jc=null,Kc,$a=function(){function H(){}H.resetCaches=
function(){db.resetCache();mb.resetCache()};a(H,null,[{key:"now",get:function(){return Fc},set:function(L){Fc=L}},{key:"defaultZone",get:function(){return ua(Gc,Ec.instance)},set:function(L){Gc=L}},{key:"defaultLocale",get:function(){return Hc},set:function(L){Hc=L}},{key:"defaultNumberingSystem",get:function(){return Ic},set:function(L){Ic=L}},{key:"defaultOutputCalendar",get:function(){return Jc},set:function(L){Jc=L}},{key:"throwOnInvalid",get:function(){return Kc},set:function(L){Kc=L}}]);return H}(),
hd=["base"],Kb={},Tb={},Ub={},Ib=null,id=function(){function H(L,C,J){this.padTo=J.padTo||0;this.floor=J.floor||!1;if(!C){C={useGrouping:!1};0<J.padTo&&(C.minimumIntegerDigits=J.padTo);J=C;void 0===J&&(J={});C=JSON.stringify([L,J]);var S=Tb[C];S||(S=new Intl.NumberFormat(L,J),Tb[C]=S);this.inf=S}}H.prototype.format=function(L){if(this.inf)return this.inf.format(this.floor?Math.floor(L):L);L=this.floor?Math.floor(L):E(L,3);return k(L,this.padTo)};return H}(),jd=function(){function H(C,J,S){this.opts=
S;if(C.zone.isUniversal){var ia=C.offset/60*-1;ia=0<=ia?"Etc/GMT+"+ia:"Etc/GMT"+ia;var va=mb.isValidZone(ia);0!==C.offset&&va?this.dt=C:(ia="UTC",this.dt=S.timeZoneName?C:0===C.offset?C:Za.fromMillis(C.ts+6E4*C.offset))}else"system"===C.zone.type?this.dt=C:(this.dt=C,ia=C.zone.name);C=t({},this.opts);ia&&(C.timeZone=ia);this.dtf=A(J,C)}var L=H.prototype;L.format=function(){return this.dtf.format(this.dt.toJSDate())};L.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())};L.resolvedOptions=
function(){return this.dtf.resolvedOptions()};return H}(),kd=function(){function H(C,J,S){this.opts=t({style:"long"},S);if(!J&&u()){J=S;void 0===J&&(J={});S=J;S.base;if(null==S)S={};else{var ia={},va=Object.keys(S),xa;for(xa=0;xa<va.length;xa++){var Ea=va[xa];0<=hd.indexOf(Ea)||(ia[Ea]=S[Ea])}S=ia}S=JSON.stringify([C,S]);ia=Ub[S];ia||(ia=new Intl.RelativeTimeFormat(C,J),Ub[S]=ia);this.rtf=ia}}var L=H.prototype;L.format=function(C,J){return this.rtf?this.rtf.format(C,J):Z(J,C,this.opts.numeric,"long"!==
this.opts.style)};L.formatToParts=function(C,J){return this.rtf?this.rtf.formatToParts(C,J):[]};return H}(),db=function(){function H(C,J,S,ia){var va=C.indexOf("-u-");if(-1===va)C=[C];else{va=C.substring(0,va);try{var xa=A(C).resolvedOptions()}catch(Ea){xa=A(va).resolvedOptions()}C=xa;C=[va,C.numberingSystem,C.calendar]}xa=C[1];va=C[2];this.locale=C[0];this.numberingSystem=J||xa||null;this.outputCalendar=S||va||null;J=this.locale;S=this.numberingSystem;if((C=this.outputCalendar)||S)J+="-u",C&&(J+=
"-ca-"+C),S&&(J+="-nu-"+S);this.intl=J;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=ia;this.fastNumbersCached=null}H.fromOpts=function(C){return H.create(C.locale,C.numberingSystem,C.outputCalendar,C.defaultToEN)};H.create=function(C,J,S,ia){void 0===ia&&(ia=!1);C=C||$a.defaultLocale;var va;(va=C)||(ia?ia="en-US":(Ib||(Ib=(new Intl.DateTimeFormat).resolvedOptions().locale),ia=Ib),va=ia);return new H(va,
J||$a.defaultNumberingSystem,S||$a.defaultOutputCalendar,C)};H.resetCache=function(){Ib=null;Kb={};Tb={};Ub={}};H.fromObject=function(C){C=void 0===C?{}:C;return H.create(C.locale,C.numberingSystem,C.outputCalendar)};var L=H.prototype;L.listingMode=function(C){C=this.isEnglish();var J=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return C&&J?"en":"intl"};L.clone=function(C){return C&&0!==Object.getOwnPropertyNames(C).length?
H.create(C.locale||this.specifiedLocale,C.numberingSystem||this.numberingSystem,C.outputCalendar||this.outputCalendar,C.defaultToEN||!1):this};L.redefaultToEN=function(C){void 0===C&&(C={});return this.clone(t({},C,{defaultToEN:!0}))};L.redefaultToSystem=function(C){void 0===C&&(C={});return this.clone(t({},C,{defaultToEN:!1}))};L.months=function(C,J,S){var ia=this;void 0===J&&(J=!1);void 0===S&&(S=!0);return X(this,C,S,oa,function(){var va=J?{month:C,day:"numeric"}:{month:C},xa=J?"format":"standalone";
ia.monthsCache[xa][C]||(ia.monthsCache[xa][C]=F(function(Ea){return ia.extract(Ea,va,"month")}));return ia.monthsCache[xa][C]})};L.weekdays=function(C,J,S){var ia=this;void 0===J&&(J=!1);void 0===S&&(S=!0);return X(this,C,S,sa,function(){var va=J?{weekday:C,year:"numeric",month:"long",day:"numeric"}:{weekday:C},xa=J?"format":"standalone";ia.weekdaysCache[xa][C]||(ia.weekdaysCache[xa][C]=Q(function(Ea){return ia.extract(Ea,va,"weekday")}));return ia.weekdaysCache[xa][C]})};L.meridiems=function(C){var J=
this;void 0===C&&(C=!0);return X(this,void 0,C,function(){return Dc},function(){if(!J.meridiemCache){var S={hour:"numeric",hourCycle:"h12"};J.meridiemCache=[Za.utc(2016,11,13,9),Za.utc(2016,11,13,19)].map(function(ia){return J.extract(ia,S,"dayperiod")})}return J.meridiemCache})};L.eras=function(C,J){var S=this;void 0===J&&(J=!0);return X(this,C,J,za,function(){var ia={era:C};S.eraCache[C]||(S.eraCache[C]=[Za.utc(-40,1,1),Za.utc(2017,1,1)].map(function(va){return S.extract(va,ia,"era")}));return S.eraCache[C]})};
L.extract=function(C,J,S){return(C=this.dtFormatter(C,J).formatToParts().find(function(ia){return ia.type.toLowerCase()===S}))?C.value:null};L.numberFormatter=function(C){void 0===C&&(C={});return new id(this.intl,C.forceSimple||this.fastNumbers,C)};L.dtFormatter=function(C,J){void 0===J&&(J={});return new jd(C,this.intl,J)};L.relFormatter=function(C){void 0===C&&(C={});return new kd(this.intl,this.isEnglish(),C)};L.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||
(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")};L.equals=function(C){return this.locale===C.locale&&this.numberingSystem===C.numberingSystem&&this.outputCalendar===C.outputCalendar};a(H,[{key:"fastNumbers",get:function(){if(null==this.fastNumbersCached){var C=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;
this.fastNumbersCached=C}return this.fastNumbersCached}}]);return H}(),Lc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Mc=RegExp(""+Vb.source+Lc.source+"?"),Wb=RegExp("(?:T"+Mc.source+")?"),ld=T("weekYear","weekNumber","weekDay"),md=T("year","ordinal"),Nc=RegExp(Vb.source+" ?(?:"+Lc.source+"|("+Cc.source+"))?"),nd=RegExp("(?: "+Nc.source+")?"),od=RegExp("^T?"+Vb.source+"$"),pd=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Vc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},qd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,rd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sd=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
td=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,ud=aa(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wb),vd=aa(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Wb),wd=aa(/(\d{4})-?(\d{3})/,Wb),xd=aa(Mc),yd=pa(ba,ma,da),zd=pa(ld,ma,da),Ad=pa(md,ma,da),Bd=pa(ma,da),Cd=pa(ma),Dd=aa(/(\d{4})-(\d\d)-(\d\d)/,nd),Ed=aa(Nc),Fd=pa(ba,ma,da,Aa),Gd=pa(ma,da,Aa),Oc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,
minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Hd=t({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6}},Oc),Id=t({years:{quarters:4,months:12,
weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3}},Oc),yb="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Wc=yb.slice(0).reverse(),fb=function(){function H(C){var J="longterm"===C.conversionAccuracy||
!1;this.values=C.values;this.loc=C.loc||db.create();this.conversionAccuracy=J?"longterm":"casual";this.invalid=C.invalid||null;this.matrix=J?Id:Hd;this.isLuxonDuration=!0}H.fromMillis=function(C,J){return H.fromObject({milliseconds:C},J)};H.fromObject=function(C,J){void 0===J&&(J={});if(null==C||"object"!==typeof C)throw new hb("Duration.fromObject: argument expected to be an object, got "+(null===C?"null":typeof C));return new H({values:la(C,H.normalizeUnit),loc:db.fromObject(J),conversionAccuracy:J.conversionAccuracy})};
H.fromISO=function(C,J){var S=ra(C,[pd,R])[0];return S?H.fromObject(S,J):H.invalid("unparsable",'the input "'+C+"\" can't be parsed as ISO 8601")};H.fromISOTime=function(C,J){var S=ra(C,[od,Cd])[0];return S?H.fromObject(S,J):H.invalid("unparsable",'the input "'+C+"\" can't be parsed as ISO 8601")};H.invalid=function(C,J){void 0===J&&(J=null);if(!C)throw new hb("need to specify a reason the Duration is invalid");C=C instanceof lb?C:new lb(C,J);if($a.throwOnInvalid)throw new bd(C);return new H({invalid:C})};
H.normalizeUnit=function(C){var J={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[C?C.toLowerCase():C];if(!J)throw new dc(C);return J};H.isDuration=function(C){return C&&C.isLuxonDuration||!1};var L=H.prototype;L.toFormat=function(C,J){void 0===J&&
(J={});J=t({},J,{floor:!1!==J.round&&!1!==J.floor});return this.isValid?nb.create(this.loc,J).formatDurationFromString(this,C):"Invalid Duration"};L.toObject=function(){return this.isValid?t({},this.values):{}};L.toISO=function(){if(!this.isValid)return null;var C="P";0!==this.years&&(C+=this.years+"Y");if(0!==this.months||0!==this.quarters)C+=this.months+3*this.quarters+"M";0!==this.weeks&&(C+=this.weeks+"W");0!==this.days&&(C+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||
0!==this.milliseconds)C+="T";0!==this.hours&&(C+=this.hours+"H");0!==this.minutes&&(C+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)C+=E(this.seconds+this.milliseconds/1E3,3)+"S";"P"===C&&(C+="T0S");return C};L.toISOTime=function(C){void 0===C&&(C={});if(!this.isValid)return null;var J=this.toMillis();if(0>J||864E5<=J)return null;C=t({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},C);J=this.shiftTo("hours","minutes","seconds","milliseconds");var S="basic"===
C.format?"hhmm":"hh:mm";C.suppressSeconds&&0===J.seconds&&0===J.milliseconds||(S+="basic"===C.format?"ss":":ss",C.suppressMilliseconds&&0===J.milliseconds||(S+=".SSS"));J=J.toFormat(S);C.includePrefix&&(J="T"+J);return J};L.toJSON=function(){return this.toISO()};L.toString=function(){return this.toISO()};L.toMillis=function(){return this.as("milliseconds")};L.valueOf=function(){return this.toMillis()};L.plus=function(C){if(!this.isValid)return this;C=Ia(C);for(var J={},S=f(yb),ia;!(ia=S()).done;)if(ia=
ia.value,z(C.values,ia)||z(this.values,ia))J[ia]=C.get(ia)+this.get(ia);return Da(this,{values:J},!0)};L.minus=function(C){if(!this.isValid)return this;C=Ia(C);return this.plus(C.negate())};L.mapUnits=function(C){if(!this.isValid)return this;for(var J={},S=0,ia=Object.keys(this.values);S<ia.length;S++){var va=ia[S];J[va]=ja(C(this.values[va],va))}return Da(this,{values:J},!0)};L.get=function(C){return this[H.normalizeUnit(C)]};L.set=function(C){if(!this.isValid)return this;C=t({},this.values,la(C,
H.normalizeUnit));return Da(this,{values:C})};L.reconfigure=function(C){var J=void 0===C?{}:C;C=J.conversionAccuracy;J={loc:this.loc.clone({locale:J.locale,numberingSystem:J.numberingSystem})};C&&(J.conversionAccuracy=C);return Da(this,J)};L.as=function(C){return this.isValid?this.shiftTo(C).get(C):NaN};L.normalize=function(){if(!this.isValid)return this;var C=this.toObject();Ma(this.matrix,C);return Da(this,{values:C},!0)};L.shiftTo=function(){for(var C=arguments.length,J=Array(C),S=0;S<C;S++)J[S]=
arguments[S];if(!this.isValid||0===J.length)return this;J=J.map(function(jb){return H.normalizeUnit(jb)});C={};S={};for(var ia=this.toObject(),va,xa=f(yb),Ea;!(Ea=xa()).done;)if(Ea=Ea.value,0<=J.indexOf(Ea)){va=Ea;var Na=0,Ra;for(Ra in S)Na+=this.matrix[Ra][Ea]*S[Ra],S[Ra]=0;r(ia[Ea])&&(Na+=ia[Ea]);var Ua=Math.trunc(Na);C[Ea]=Ua;S[Ea]=Na-Ua;for(var Pa in ia)yb.indexOf(Pa)>yb.indexOf(Ea)&&Ga(this.matrix,ia,Pa,C,Ea)}else r(ia[Ea])&&(S[Ea]=ia[Ea]);for(var Va in S)0!==S[Va]&&(C[va]+=Va===va?S[Va]:S[Va]/
this.matrix[va][Va]);return Da(this,{values:C},!0).normalize()};L.negate=function(){if(!this.isValid)return this;for(var C={},J=0,S=Object.keys(this.values);J<S.length;J++){var ia=S[J];C[ia]=-this.values[ia]}return Da(this,{values:C},!0)};L.equals=function(C){if(!this.isValid||!C.isValid||!this.loc.equals(C.loc))return!1;for(var J=f(yb),S;!(S=J()).done;){var ia=S.value;S=this.values[ia];ia=C.values[ia];S=void 0===S||0===S?void 0===ia||0===ia:S===ia;if(!S)return!1}return!0};a(H,[{key:"locale",get:function(){return this.isValid?
this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",
get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?
this.invalid.explanation:null}}]);return H}(),Db=function(){function H(C){this.s=C.start;this.e=C.end;this.invalid=C.invalid||null;this.isLuxonInterval=!0}H.invalid=function(C,J){void 0===J&&(J=null);if(!C)throw new hb("need to specify a reason the Interval is invalid");C=C instanceof lb?C:new lb(C,J);if($a.throwOnInvalid)throw new ad(C);return new H({invalid:C})};H.fromDateTimes=function(C,J){C=Cb(C);J=Cb(J);var S=C&&C.isValid?J&&J.isValid?J<C?Db.invalid("end before start","The end of an interval must be after its start, but you had start\x3d"+
C.toISO()+" and end\x3d"+J.toISO()):null:Db.invalid("missing or invalid end"):Db.invalid("missing or invalid start");return null==S?new H({start:C,end:J}):S};H.after=function(C,J){J=Ia(J);C=Cb(C);return H.fromDateTimes(C,C.plus(J))};H.before=function(C,J){J=Ia(J);C=Cb(C);return H.fromDateTimes(C.minus(J),C)};H.fromISO=function(C,J){var S=(C||"").split("/",2),ia=S[0];S=S[1];if(ia&&S){try{var va=Za.fromISO(ia,J);var xa=va.isValid}catch(Ra){xa=!1}try{var Ea=Za.fromISO(S,J);var Na=Ea.isValid}catch(Ra){Na=
!1}if(xa&&Na)return H.fromDateTimes(va,Ea);if(xa){if(Ea=fb.fromISO(S,J),Ea.isValid)return H.after(va,Ea)}else if(Na&&(va=fb.fromISO(ia,J),va.isValid))return H.before(Ea,va)}return H.invalid("unparsable",'the input "'+C+"\" can't be parsed as ISO 8601")};H.isInterval=function(C){return C&&C.isLuxonInterval||!1};var L=H.prototype;L.length=function(C){void 0===C&&(C="milliseconds");return this.isValid?this.toDuration.apply(this,[C]).get(C):NaN};L.count=function(C){void 0===C&&(C="milliseconds");if(!this.isValid)return NaN;
var J=this.start.startOf(C),S=this.end.startOf(C);return Math.floor(S.diff(J,C).get(C))+1};L.hasSame=function(C){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,C):!1};L.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()};L.isAfter=function(C){return this.isValid?this.s>C:!1};L.isBefore=function(C){return this.isValid?this.e<=C:!1};L.contains=function(C){return this.isValid?this.s<=C&&this.e>C:!1};L.set=function(C){C=void 0===C?{}:C;return this.isValid?H.fromDateTimes(C.start||
this.s,C.end||this.e):this};L.splitAt=function(){var C=this;if(!this.isValid)return[];for(var J=arguments.length,S=Array(J),ia=0;ia<J;ia++)S[ia]=arguments[ia];J=S.map(Cb).filter(function(Ea){return C.contains(Ea)}).sort();S=[];ia=this.s;for(var va=0;ia<this.e;){var xa=J[va]||this.e;xa=+xa>+this.e?this.e:xa;S.push(H.fromDateTimes(ia,xa));ia=xa;va+=1}return S};L.splitBy=function(C){C=Ia(C);if(!this.isValid||!C.isValid||0===C.as("milliseconds"))return[];for(var J=this.s,S=1,ia,va=[];J<this.e;)ia=this.start.plus(C.mapUnits(function(xa){return xa*
S})),ia=+ia>+this.e?this.e:ia,va.push(H.fromDateTimes(J,ia)),J=ia,S+=1;return va};L.divideEqually=function(C){return this.isValid?this.splitBy(this.length()/C).slice(0,C):[]};L.overlaps=function(C){return this.e>C.s&&this.s<C.e};L.abutsStart=function(C){return this.isValid?+this.e===+C.s:!1};L.abutsEnd=function(C){return this.isValid?+C.e===+this.s:!1};L.engulfs=function(C){return this.isValid?this.s<=C.s&&this.e>=C.e:!1};L.equals=function(C){return this.isValid&&C.isValid?this.s.equals(C.s)&&this.e.equals(C.e):
!1};L.intersection=function(C){if(!this.isValid)return this;var J=this.s>C.s?this.s:C.s;C=this.e<C.e?this.e:C.e;return J>=C?null:H.fromDateTimes(J,C)};L.union=function(C){return this.isValid?H.fromDateTimes(this.s<C.s?this.s:C.s,this.e>C.e?this.e:C.e):this};H.merge=function(C){var J=C.sort(function(S,ia){return S.s-ia.s}).reduce(function(S,ia){var va=S[0];return(S=S[1])?S.overlaps(ia)||S.abutsStart(ia)?[va,S.union(ia)]:[va.concat([S]),ia]:[va,ia]},[[],null]);C=J[0];(J=J[1])&&C.push(J);return C};H.xor=
function(C){var J,S=null,ia=0,va=[];C=C.map(function(xa){return[{time:xa.s,type:"s"},{time:xa.e,type:"e"}]});C=(J=Array.prototype).concat.apply(J,C).sort(function(xa,Ea){return xa.time-Ea.time});for(J=f(C);!(C=J()).done;)C=C.value,ia+="s"===C.type?1:-1,1===ia?S=C.time:(S&&+S!==+C.time&&va.push(H.fromDateTimes(S,C.time)),S=null);return H.merge(va)};L.difference=function(){for(var C=this,J=arguments.length,S=Array(J),ia=0;ia<J;ia++)S[ia]=arguments[ia];return H.xor([this].concat(S)).map(function(va){return C.intersection(va)}).filter(function(va){return va&&
!va.isEmpty()})};L.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":"Invalid Interval"};L.toISO=function(C){return this.isValid?this.s.toISO(C)+"/"+this.e.toISO(C):"Invalid Interval"};L.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():"Invalid Interval"};L.toISOTime=function(C){return this.isValid?this.s.toISOTime(C)+"/"+this.e.toISOTime(C):"Invalid Interval"};L.toFormat=function(C,J){J=(void 0===J?{}:J).separator;J=void 0===
J?" \u2013 ":J;return this.isValid?""+this.s.toFormat(C)+J+this.e.toFormat(C):"Invalid Interval"};L.toDuration=function(C,J){return this.isValid?this.e.diff(this.s,C,J):fb.invalid(this.invalidReason)};L.mapEndpoints=function(C){return H.fromDateTimes(C(this.s),C(this.e))};a(H,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?
this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return H}(),Eb=function(){function H(){}H.hasDST=function(L){void 0===L&&(L=$a.defaultZone);var C=Za.now().setZone(L).set({month:12});return!L.isUniversal&&C.offset!==C.set({month:6}).offset};H.isValidIANAZone=function(L){return mb.isValidSpecifier(L)&&mb.isValidZone(L)};H.normalizeZone=function(L){return ua(L,$a.defaultZone)};H.months=function(L,C){void 0===L&&(L="long");var J=
void 0===C?{}:C;C=J.locale;var S=J.numberingSystem,ia=J.locObj;J=J.outputCalendar;return((void 0===ia?null:ia)||db.create(void 0===C?null:C,void 0===S?null:S,void 0===J?"gregory":J)).months(L)};H.monthsFormat=function(L,C){void 0===L&&(L="long");var J=void 0===C?{}:C;C=J.locale;var S=J.numberingSystem,ia=J.locObj;J=J.outputCalendar;return((void 0===ia?null:ia)||db.create(void 0===C?null:C,void 0===S?null:S,void 0===J?"gregory":J)).months(L,!0)};H.weekdays=function(L,C){void 0===L&&(L="long");var J=
void 0===C?{}:C;C=J.locale;var S=J.numberingSystem;J=J.locObj;return((void 0===J?null:J)||db.create(void 0===C?null:C,void 0===S?null:S,null)).weekdays(L)};H.weekdaysFormat=function(L,C){void 0===L&&(L="long");var J=void 0===C?{}:C;C=J.locale;var S=J.numberingSystem;J=J.locObj;return((void 0===J?null:J)||db.create(void 0===C?null:C,void 0===S?null:S,null)).weekdays(L,!0)};H.meridiems=function(L){L=(void 0===L?{}:L).locale;return db.create(void 0===L?null:L).meridiems()};H.eras=function(L,C){void 0===
L&&(L="short");C=(void 0===C?{}:C).locale;return db.create(void 0===C?null:C,null,"gregory").eras(L)};H.features=function(){return{relative:u()}};return H}(),Lb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",
mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},$b={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],
thai:[3664,3673],tibt:[3872,3881]},Xc=Lb.hanidec.replace(/[\[|\]]/g,"").split(""),ac="( |"+String.fromCharCode(160)+")",Mb=new RegExp(ac,"g"),Zc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Nb=null,Pb=[0,31,59,90,120,151,181,212,243,273,304,334],
Ob=[0,31,60,91,121,152,182,213,244,274,305,335],gc={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Jd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Kd={ordinal:1,hour:0,minute:0,second:0,millisecond:0},fc="year month day hour minute second millisecond".split(" "),Ld="weekYear weekNumber weekday hour minute second millisecond".split(" "),Md="year ordinal hour minute second millisecond".split(" "),Za=function(){function H(C){var J=C.zone||$a.defaultZone,S=C.invalid||(Number.isNaN(C.ts)?
new lb("invalid input"):null)||(J.isValid?null:cb(J));this.ts=m(C.ts)?$a.now():C.ts;var ia=null,va=null;S||(C.old&&C.old.ts===this.ts&&C.old.zone.equals(J)?(va=[C.old.c,C.old.o],ia=va[0],va=va[1]):(va=J.offset(this.ts),ia=tb(this.ts,va),ia=(S=Number.isNaN(ia.year)?new lb("invalid input"):null)?null:ia,va=S?null:va));this._zone=J;this.loc=C.loc||db.create();this.invalid=S;this.weekData=null;this.c=ia;this.o=va;this.isLuxonDateTime=!0}H.now=function(){return new H({})};H.local=function(){var C=ic(arguments),
J=C[1];return ec({year:J[0],month:J[1],day:J[2],hour:J[3],minute:J[4],second:J[5],millisecond:J[6]},C[0])};H.utc=function(){var C=ic(arguments),J=C[0],S=C[1];C=S[0];var ia=S[1],va=S[2],xa=S[3],Ea=S[4],Na=S[5];S=S[6];J.zone=ib.utcInstance;return ec({year:C,month:ia,day:va,hour:xa,minute:Ea,second:Na,millisecond:S},J)};H.fromJSDate=function(C,J){void 0===J&&(J={});C="[object Date]"===Object.prototype.toString.call(C)?C.valueOf():NaN;if(Number.isNaN(C))return H.invalid("invalid input");var S=ua(J.zone,
$a.defaultZone);return S.isValid?new H({ts:C,zone:S,loc:db.fromObject(J)}):H.invalid(cb(S))};H.fromMillis=function(C,J){void 0===J&&(J={});if(r(C))return-864E13>C||864E13<C?H.invalid("Timestamp out of range"):new H({ts:C,zone:ua(J.zone,$a.defaultZone),loc:db.fromObject(J)});throw new hb("fromMillis requires a numerical input, but received a "+typeof C+" with value "+C);};H.fromSeconds=function(C,J){void 0===J&&(J={});if(r(C))return new H({ts:1E3*C,zone:ua(J.zone,$a.defaultZone),loc:db.fromObject(J)});
throw new hb("fromSeconds requires a numerical input");};H.fromObject=function(C,J){void 0===J&&(J={});C=C||{};var S=ua(J.zone,$a.defaultZone);if(!S.isValid)return H.invalid(cb(S));var ia=$a.now(),va=S.offset(ia),xa=la(C,cc),Ea=!m(xa.ordinal),Na=!m(xa.year),Ra=!m(xa.month)||!m(xa.day);Na=Na||Ra;var Ua=xa.weekYear||xa.weekNumber;J=db.fromObject(J);if((Na||Ea)&&Ua)throw new Bb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ra&&Ea)throw new Bb("Can't mix ordinal dates with month/day");
Ra=Ua||xa.weekday&&!Na;Ua=tb(ia,va);if(Ra){var Pa=Ld;ia=Jd;Ua=eb(Ua)}else Ea?(Pa=Md,ia=Kd,Ua=Xa(Ua)):(Pa=fc,ia=gc);var Va=!1;Pa=f(Pa);for(var jb;!(jb=Pa()).done;)jb=jb.value,m(xa[jb])?xa[jb]=Va?ia[jb]:Ua[jb]:Va=!0;Ra?(ia=p(xa.weekYear),Ua=q(xa.weekNumber,1,I(xa.weekYear)),Va=q(xa.weekday,1,7),ia=ia?Ua?Va?!1:Sa("weekday",xa.weekday):Sa("week",xa.week):Sa("weekYear",xa.weekYear)):Ea?(ia=p(xa.year),Ua=q(xa.ordinal,1,N(xa.year)?366:365),ia=ia?Ua?!1:Sa("ordinal",xa.ordinal):Sa("year",xa.year)):ia=sb(xa);
if(ia=ia||gb(xa))return H.invalid(ia);Ea=Ra?Qa(xa):Ea?Ya(xa):xa;va=vb(Ea,va,S);S=new H({ts:va[0],zone:S,o:va[1],loc:J});return xa.weekday&&Na&&C.weekday!==S.weekday?H.invalid("mismatched weekday","you can't specify both a weekday of "+xa.weekday+" and a date of "+S.toISO()):S};H.fromISO=function(C,J){void 0===J&&(J={});var S=ra(C,[ud,yd],[vd,zd],[wd,Ad],[xd,Bd]);return qb(S[0],S[1],J,"ISO 8601",C)};H.fromRFC2822=function(C,J){void 0===J&&(J={});var S=ra(C.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g,
" ").trim(),[qd,Y]);return qb(S[0],S[1],J,"RFC 2822",C)};H.fromHTTP=function(C,J){void 0===J&&(J={});C=ra(C,[rd,ha],[sd,ha],[td,ta]);return qb(C[0],C[1],J,"HTTP",J)};H.fromFormat=function(C,J,S){void 0===S&&(S={});if(m(C)||m(J))throw new hb("fromFormat requires an input string and a format");var ia=S,va=ia.locale;ia=ia.numberingSystem;va=db.fromOpts({locale:void 0===va?null:va,numberingSystem:void 0===ia?null:ia,defaultToEN:!0});va=Wa(va,C,J);var xa=[va.result,va.zone,va.invalidReason];va=xa[0];ia=
xa[1];return(xa=xa[2])?H.invalid(xa):qb(va,ia,S,"format "+J,C)};H.fromString=function(C,J,S){void 0===S&&(S={});return H.fromFormat(C,J,S)};H.fromSQL=function(C,J){void 0===J&&(J={});var S=ra(C,[Dd,Fd],[Ed,Gd]);return qb(S[0],S[1],J,"SQL",C)};H.invalid=function(C,J){void 0===J&&(J=null);if(!C)throw new hb("need to specify a reason the DateTime is invalid");C=C instanceof lb?C:new lb(C,J);if($a.throwOnInvalid)throw new $c(C);return new H({invalid:C})};H.isDateTime=function(C){return C&&C.isLuxonDateTime||
!1};var L=H.prototype;L.get=function(C){return this[C]};L.resolvedLocaleOptions=function(C){void 0===C&&(C={});C=nb.create(this.loc.clone(C),C).resolvedOptions(this);return{locale:C.locale,numberingSystem:C.numberingSystem,outputCalendar:C.calendar}};L.toUTC=function(C,J){void 0===C&&(C=0);void 0===J&&(J={});return this.setZone(ib.instance(C),J)};L.toLocal=function(){return this.setZone($a.defaultZone)};L.setZone=function(C,J){var S=void 0===J?{}:J;J=S.keepLocalTime;J=void 0===J?!1:J;S=S.keepCalendarTime;
S=void 0===S?!1:S;C=ua(C,$a.defaultZone);if(C.equals(this.zone))return this;if(C.isValid){var ia=this.ts;if(J||S)J=C.offset(this.ts),S=this.toObject(),ia=vb(S,J,C)[0];return bb(this,{ts:ia,zone:C})}return H.invalid(cb(C))};L.reconfigure=function(C){C=void 0===C?{}:C;C=this.loc.clone({locale:C.locale,numberingSystem:C.numberingSystem,outputCalendar:C.outputCalendar});return bb(this,{loc:C})};L.setLocale=function(C){return this.reconfigure({locale:C})};L.set=function(C){if(!this.isValid)return this;
C=la(C,cc);var J=!m(C.weekYear)||!m(C.weekNumber)||!m(C.weekday),S=!m(C.ordinal),ia=!m(C.year),va=!m(C.month)||!m(C.day),xa=C.weekYear||C.weekNumber;if((ia||va||S)&&xa)throw new Bb("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(va&&S)throw new Bb("Can't mix ordinal dates with month/day");J?J=Qa(t({},eb(this.c),C)):m(C.ordinal)?(J=t({},this.toObject(),C),m(C.day)&&(J.day=Math.min(G(J.year,J.month),J.day))):J=Ya(t({},Xa(this.c),C));C=vb(J,this.o,this.zone);return bb(this,
{ts:C[0],o:C[1]})};L.plus=function(C){if(!this.isValid)return this;C=Ia(C);return bb(this,Fb(this,C))};L.minus=function(C){if(!this.isValid)return this;C=Ia(C).negate();return bb(this,Fb(this,C))};L.startOf=function(C){if(!this.isValid)return this;var J={};C=fb.normalizeUnit(C);switch(C){case "years":J.month=1;case "quarters":case "months":J.day=1;case "weeks":case "days":J.hour=0;case "hours":J.minute=0;case "minutes":J.second=0;case "seconds":J.millisecond=0}"weeks"===C&&(J.weekday=1);"quarters"===
C&&(J.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(J)};L.endOf=function(C){var J;return this.isValid?this.plus((J={},J[C]=1,J)).startOf(C).minus(1):this};L.toFormat=function(C,J){void 0===J&&(J={});return this.isValid?nb.create(this.loc.redefaultToEN(J)).formatDateTimeFromString(this,C):"Invalid DateTime"};L.toLocaleString=function(C,J){void 0===C&&(C=Qb);void 0===J&&(J={});return this.isValid?nb.create(this.loc.clone(J),C).formatDateTime(this):"Invalid DateTime"};L.toLocaleParts=function(C){void 0===
C&&(C={});return this.isValid?nb.create(this.loc.clone(C),C).formatDateTimeParts(this):[]};L.toISO=function(C){void 0===C&&(C={});return this.isValid?this.toISODate(C)+"T"+this.toISOTime(C):null};L.toISODate=function(C){C=(void 0===C?{}:C).format;C="basic"===(void 0===C?"extended":C)?"yyyyMMdd":"yyyy-MM-dd";9999<this.year&&(C="+"+C);return xb(this,C)};L.toISOWeekDate=function(){return xb(this,"kkkk-'W'WW-c")};L.toISOTime=function(C){var J=void 0===C?{}:C;C=J.suppressMilliseconds;var S=J.suppressSeconds,
ia=J.includeOffset,va=J.includePrefix;J=J.format;return bc(this,{suppressSeconds:void 0===S?!1:S,suppressMilliseconds:void 0===C?!1:C,includeOffset:void 0===ia?!0:ia,includePrefix:void 0===va?!1:va,format:void 0===J?"extended":J})};L.toRFC2822=function(){return xb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)};L.toHTTP=function(){return xb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")};L.toSQLDate=function(){return xb(this,"yyyy-MM-dd")};L.toSQLTime=function(C){var J=void 0===C?{}:C;C=J.includeOffset;
J=J.includeZone;return bc(this,{includeOffset:void 0===C?!0:C,includeZone:void 0===J?!1:J,spaceZone:!0})};L.toSQL=function(C){void 0===C&&(C={});return this.isValid?this.toSQLDate()+" "+this.toSQLTime(C):null};L.toString=function(){return this.isValid?this.toISO():"Invalid DateTime"};L.valueOf=function(){return this.toMillis()};L.toMillis=function(){return this.isValid?this.ts:NaN};L.toSeconds=function(){return this.isValid?this.ts/1E3:NaN};L.toJSON=function(){return this.toISO()};L.toBSON=function(){return this.toJSDate()};
L.toObject=function(C){void 0===C&&(C={});if(!this.isValid)return{};var J=t({},this.c);C.includeConfig&&(J.outputCalendar=this.outputCalendar,J.numberingSystem=this.loc.numberingSystem,J.locale=this.loc.locale);return J};L.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)};L.diff=function(C,J,S){void 0===J&&(J="milliseconds");void 0===S&&(S={});if(!this.isValid||!C.isValid)return fb.invalid("created by diffing an invalid DateTime");S=t({locale:this.locale,numberingSystem:this.numberingSystem},
S);var ia=(Array.isArray(J)?J:[J]).map(fb.normalizeUnit);J=C.valueOf()>this.valueOf();C=Ka(J?this:C,J?C:this,ia,S);return J?C.negate():C};L.diffNow=function(C,J){void 0===C&&(C="milliseconds");void 0===J&&(J={});return this.diff(H.now(),C,J)};L.until=function(C){return this.isValid?Db.fromDateTimes(this,C):this};L.hasSame=function(C,J){if(!this.isValid)return!1;var S=C.valueOf();C=this.setZone(C.zone,{keepLocalTime:!0});return C.startOf(J)<=S&&S<=C.endOf(J)};L.equals=function(C){return this.isValid&&
C.isValid&&this.valueOf()===C.valueOf()&&this.zone.equals(C.zone)&&this.loc.equals(C.loc)};L.toRelative=function(C){void 0===C&&(C={});if(!this.isValid)return null;var J=C.base||H.fromObject({},{zone:this.zone}),S=C.padding?this<J?-C.padding:C.padding:0,ia="years months days hours minutes seconds".split(" "),va=C.unit;Array.isArray(C.unit)&&(ia=C.unit,va=void 0);return hc(J,this.plus(S),t({},C,{numeric:"always",units:ia,unit:va}))};L.toRelativeCalendar=function(C){void 0===C&&(C={});return this.isValid?
hc(C.base||H.fromObject({},{zone:this.zone}),this,t({},C,{numeric:"auto",units:["years","months","days"],calendary:!0})):null};H.min=function(){for(var C=arguments.length,J=Array(C),S=0;S<C;S++)J[S]=arguments[S];if(!J.every(H.isDateTime))throw new hb("min requires all arguments be DateTimes");return y(J,function(ia){return ia.valueOf()},Math.min)};H.max=function(){for(var C=arguments.length,J=Array(C),S=0;S<C;S++)J[S]=arguments[S];if(!J.every(H.isDateTime))throw new hb("max requires all arguments be DateTimes");
return y(J,function(ia){return ia.valueOf()},Math.max)};H.fromFormatExplain=function(C,J,S){void 0===S&&(S={});var ia=S;S=ia.locale;ia=ia.numberingSystem;S=db.fromOpts({locale:void 0===S?null:S,numberingSystem:void 0===ia?null:ia,defaultToEN:!0});return Wa(S,C,J)};H.fromStringExplain=function(C,J,S){void 0===S&&(S={});return H.fromFormatExplain(C,J,S)};a(H,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},
{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?
this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:
NaN}},{key:"weekYear",get:function(){return this.isValid?zb(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?zb(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?zb(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Xa(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Eb.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Eb.months("long",{locObj:this.loc})[this.month-
1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Eb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Eb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,
{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return N(this.year)}},{key:"daysInMonth",get:function(){return G(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?N(this.year)?366:365:NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?
I(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return Qb}},{key:"DATE_MED",get:function(){return jc}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return cd}},{key:"DATE_FULL",get:function(){return kc}},{key:"DATE_HUGE",get:function(){return lc}},{key:"TIME_SIMPLE",get:function(){return mc}},{key:"TIME_WITH_SECONDS",get:function(){return nc}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return oc}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return pc}},{key:"TIME_24_SIMPLE",get:function(){return qc}},
{key:"TIME_24_WITH_SECONDS",get:function(){return rc}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return sc}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return tc}},{key:"DATETIME_SHORT",get:function(){return uc}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return vc}},{key:"DATETIME_MED",get:function(){return wc}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return xc}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return dd}},{key:"DATETIME_FULL",get:function(){return yc}},{key:"DATETIME_FULL_WITH_SECONDS",
get:function(){return zc}},{key:"DATETIME_HUGE",get:function(){return Ac}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Bc}}]);return H}();D.DateTime=Za;D.Duration=fb;D.FixedOffsetZone=ib;D.IANAZone=mb;D.Info=Eb;D.Interval=Db;D.InvalidZone=Jb;D.Settings=$a;D.SystemZone=Ec;D.VERSION="2.0.2";D.Zone=wb;Object.defineProperty(D,"__esModule",{value:!0})})},"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Point"],function(D,w,a,t,
l){D=D(l,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}});a("extend-esri")&&w.setObject("geometry.ScreenPoint",D,t);return D})},"esri/geometry/Rect":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Geometry ./Point ./Extent ../srUtils".split(" "),function(D,w,a,t,l,n,h,g,e){function d(c){return new g(parseFloat(c.x),parseFloat(c.y)-parseFloat(c.height),parseFloat(c.x)+parseFloat(c.width),parseFloat(c.y),c.spatialReference)}var b=D(n,{declaredClass:"esri.geometry.Rect",
type:"rect",x:0,y:0,width:100,height:100,constructor:function(c,f,m,r,p){l.isObject(c)&&"extent"===c.type&&(f=c.ymax,m=c.getWidth(),r=c.getHeight(),p=c.spatialReference,c=c.xmin);l.isObject(c)?(l.mixin(this,c),this.spatialReference&&(this.spatialReference=e.createSpatialReference(this.spatialReference))):(this.x=c,this.y=f,this.width=m,this.height=r,this.spatialReference=p);this.verifySR()},getCenter:function(){return new h(this.x+this.width/2,this.y+this.height/2,this.spatialReference)},offset:function(c,
f){return new b(this.x+c,this.y+f,this.width,this.height,this.spatialReference)},intersects:function(c){return c.x+c.width<=this.x||c.y+c.height<=this.y||c.y>=this.y+this.height||c.x>=this.x+this.width?!1:!0},getExtent:function(){return d(this)},update:function(c,f,m,r,p){this.x=c;this.y=f;this.width=m;this.height=r;this.spatialReference=p;this.clearCache();return this}});a("extend-esri")&&(w.setObject("geometry.Rect",b,t),t.geometry._rectToExtent=d,t.geometry._extentToRect=function(c){return new b(c)});
return b})},"esri/geometry/scaleUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","../config","../WKIDUnitConversion"],function(D,w,a,t,l){function n(c,f,m){return c&&f?c.getWidth()/f*(m||g)*39.37*e.screenDPI:0}function h(c,f,m,r,p){return c.expand(r*f/(39.37*((p?m:d.values[d[m]])||g)*e.screenDPI)/c.getWidth())}var g=6370997*Math.PI/180,e=t.defaults,d=l,b={getUnitValueForSR:function(c){return this.getUnitValue(c)||g},getUnitValue:function(c){if(c)if("object"===typeof c){var f=c.wkid;
var m=c.wkt}else"number"===typeof c?f=c:"string"===typeof c&&(m=c);if(f)var r=d.values[d[f]];else m&&-1!==m.search(/^PROJCS/i)&&(c=/UNIT\[([^\]]+)\]\]$/i.exec(m))&&c[1]&&(r=parseFloat(c[1].split(",")[1]));return r},getScale:function(c,f,m){if(1<arguments.length&&null!=f&&!f.declaredClass){var r=c;var p=f;f=null;var u=b.getUnitValue(m)}else r=f||c.extent,p=c.width,u=b.getUnitValue(r&&r.spatialReference);return n(r,p,u)},getExtentForScale:function(c,f,m){return h(m||c.extent,c.width,b.getUnitValue(c.spatialReference),
f,!0)}};w("extend-esri")&&(D.mixin(D.getObject("geometry",!0,a),b),a.geometry._getScale=n,a.geometry._getExtentForScale=h);return b})},"esri/WKIDUnitConversion":function(){define(["dojo/has","./kernel"],function(D,w){var a,t={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,
23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,
30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,
102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,
103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,
103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,
103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=
a;a++)t[a]=0;for(a=2056;2065>=a;a++)t[a]=0;for(a=2067;2135>=a;a++)t[a]=0;for(a=2137;2154>=a;a++)t[a]=0;for(a=2161;2170>=a;a++)t[a]=0;for(a=2172;2193>=a;a++)t[a]=0;for(a=2195;2198>=a;a++)t[a]=0;for(a=2200;2203>=a;a++)t[a]=0;for(a=2205;2217>=a;a++)t[a]=0;for(a=2222;2224>=a;a++)t[a]=1;for(a=2225;2250>=a;a++)t[a]=2;for(a=2251;2253>=a;a++)t[a]=1;for(a=2257;2264>=a;a++)t[a]=2;for(a=2274;2279>=a;a++)t[a]=2;for(a=2280;2282>=a;a++)t[a]=1;for(a=2283;2289>=a;a++)t[a]=2;for(a=2290;2292>=a;a++)t[a]=0;for(a=2308;2313>=
a;a++)t[a]=0;for(a=2315;2491>=a;a++)t[a]=0;for(a=2494;2866>=a;a++)t[a]=0;for(a=2867;2869>=a;a++)t[a]=1;for(a=2870;2888>=a;a++)t[a]=2;for(a=2891;2895>=a;a++)t[a]=2;for(a=2896;2898>=a;a++)t[a]=1;for(a=2902;2908>=a;a++)t[a]=2;for(a=2915;2920>=a;a++)t[a]=2;for(a=2921;2923>=a;a++)t[a]=1;for(a=2924;2930>=a;a++)t[a]=2;for(a=2931;2962>=a;a++)t[a]=0;for(a=2964;2968>=a;a++)t[a]=2;for(a=2969;2973>=a;a++)t[a]=0;for(a=2975;2991>=a;a++)t[a]=0;for(a=2995;3051>=a;a++)t[a]=0;for(a=3054;3079>=a;a++)t[a]=0;for(a=3081;3088>=
a;a++)t[a]=0;for(a=3092;3101>=a;a++)t[a]=0;for(a=3106;3138>=a;a++)t[a]=0;for(a=3146;3151>=a;a++)t[a]=0;for(a=3153;3166>=a;a++)t[a]=0;for(a=3168;3172>=a;a++)t[a]=0;for(a=3174;3203>=a;a++)t[a]=0;for(a=3294;3358>=a;a++)t[a]=0;for(a=3367;3403>=a;a++)t[a]=0;for(a=3408;3416>=a;a++)t[a]=0;for(a=3417;3438>=a;a++)t[a]=2;for(a=3441;3446>=a;a++)t[a]=2;for(a=3447;3450>=a;a++)t[a]=0;for(a=3451;3459>=a;a++)t[a]=2;for(a=3460;3478>=a;a++)t[a]=0;for(a=3554;3559>=a;a++)t[a]=0;for(a=3560;3570>=a;a++)t[a]=2;for(a=3571;3581>=
a;a++)t[a]=0;for(a=3594;3597>=a;a++)t[a]=0;for(a=3601;3604>=a;a++)t[a]=0;for(a=3637;3639>=a;a++)t[a]=0;for(a=3665;3667>=a;a++)t[a]=0;for(a=3693;3695>=a;a++)t[a]=0;for(a=3701;3727>=a;a++)t[a]=0;for(a=3728;3739>=a;a++)t[a]=2;for(a=3740;3751>=a;a++)t[a]=0;for(a=3753;3760>=a;a++)t[a]=2;for(a=3761;3773>=a;a++)t[a]=0;for(a=3775;3777>=a;a++)t[a]=0;for(a=3779;3781>=a;a++)t[a]=0;for(a=3783;3785>=a;a++)t[a]=0;for(a=3788;3791>=a;a++)t[a]=0;for(a=3797;3802>=a;a++)t[a]=0;for(a=3814;3816>=a;a++)t[a]=0;for(a=3825;3829>=
a;a++)t[a]=0;for(a=3832;3841>=a;a++)t[a]=0;for(a=3844;3852>=a;a++)t[a]=0;for(a=3873;3885>=a;a++)t[a]=0;for(a=3890;3893>=a;a++)t[a]=0;for(a=3907;3912>=a;a++)t[a]=0;for(a=3942;3950>=a;a++)t[a]=0;for(a=3968;3970>=a;a++)t[a]=0;for(a=3973;3976>=a;a++)t[a]=0;for(a=3986;3989>=a;a++)t[a]=0;for(a=3994;3997>=a;a++)t[a]=0;for(a=4048;4051>=a;a++)t[a]=0;for(a=4056;4063>=a;a++)t[a]=0;for(a=4093;4096>=a;a++)t[a]=0;for(a=4390;4398>=a;a++)t[a]=0;for(a=4399;4413>=a;a++)t[a]=2;for(a=4418;4433>=a;a++)t[a]=2;for(a=4455;4457>=
a;a++)t[a]=2;for(a=4484;4489>=a;a++)t[a]=0;for(a=4491;4554>=a;a++)t[a]=0;for(a=4568;4589>=a;a++)t[a]=0;for(a=4652;4656>=a;a++)t[a]=0;for(a=4766;4800>=a;a++)t[a]=0;for(a=5014;5016>=a;a++)t[a]=0;for(a=5069;5072>=a;a++)t[a]=0;for(a=5105;5130>=a;a++)t[a]=0;for(a=5173;5188>=a;a++)t[a]=0;for(a=5253;5259>=a;a++)t[a]=0;for(a=5269;5275>=a;a++)t[a]=0;for(a=5292;5311>=a;a++)t[a]=0;for(a=5329;5331>=a;a++)t[a]=0;for(a=5343;5349>=a;a++)t[a]=0;for(a=5355;5357>=a;a++)t[a]=0;for(a=5387;5389>=a;a++)t[a]=0;for(a=5459;5463>=
a;a++)t[a]=0;for(a=5479;5482>=a;a++)t[a]=0;for(a=5518;5520>=a;a++)t[a]=0;for(a=5530;5539>=a;a++)t[a]=0;for(a=5550;5552>=a;a++)t[a]=0;for(a=5562;5583>=a;a++)t[a]=0;for(a=5623;5625>=a;a++)t[a]=2;for(a=5631;5639>=a;a++)t[a]=0;for(a=5649;5653>=a;a++)t[a]=0;for(a=5663;5680>=a;a++)t[a]=0;for(a=5682;5685>=a;a++)t[a]=0;for(a=5875;5877>=a;a++)t[a]=0;for(a=5896;5899>=a;a++)t[a]=0;for(a=5921;5940>=a;a++)t[a]=0;for(a=6050;6125>=a;a++)t[a]=0;for(a=6244;6275>=a;a++)t[a]=0;for(a=6328;6348>=a;a++)t[a]=0;for(a=6350;6356>=
a;a++)t[a]=0;for(a=6366;6372>=a;a++)t[a]=0;for(a=6381;6387>=a;a++)t[a]=0;for(a=6393;6404>=a;a++)t[a]=0;for(a=6480;6483>=a;a++)t[a]=0;for(a=6511;6514>=a;a++)t[a]=0;for(a=6579;6581>=a;a++)t[a]=0;for(a=6619;6624>=a;a++)t[a]=0;for(a=6625;6627>=a;a++)t[a]=2;for(a=6628;6632>=a;a++)t[a]=0;for(a=6634;6637>=a;a++)t[a]=0;for(a=6669;6692>=a;a++)t[a]=0;for(a=6707;6709>=a;a++)t[a]=0;for(a=6720;6723>=a;a++)t[a]=0;for(a=6732;6738>=a;a++)t[a]=0;for(a=6931;6933>=a;a++)t[a]=0;for(a=6956;6959>=a;a++)t[a]=0;for(a=7005;7007>=
a;a++)t[a]=0;for(a=7057;7070>=a;a++)t[a]=2;for(a=7074;7082>=a;a++)t[a]=0;for(a=7109;7118>=a;a++)t[a]=0;for(a=7119;7127>=a;a++)t[a]=1;for(a=7374;7376>=a;a++)t[a]=0;for(a=7528;7586>=a;a++)t[a]=0;for(a=7587;7645>=a;a++)t[a]=2;for(a=7692;7696>=a;a++)t[a]=0;for(a=7755;7787>=a;a++)t[a]=0;for(a=7791;7795>=a;a++)t[a]=0;for(a=7799;7801>=a;a++)t[a]=0;for(a=7803;7805>=a;a++)t[a]=0;for(a=7825;7831>=a;a++)t[a]=0;for(a=7845;7859>=a;a++)t[a]=0;for(a=8013;8032>=a;a++)t[a]=0;for(a=8065;8068>=a;a++)t[a]=1;for(a=8518;8529>=
a;a++)t[a]=2;for(a=8533;8536>=a;a++)t[a]=2;for(a=8538;8540>=a;a++)t[a]=2;for(a=8677;8679>=a;a++)t[a]=0;for(a=8836;8840>=a;a++)t[a]=0;for(a=8857;8859>=a;a++)t[a]=0;for(a=8908;8910>=a;a++)t[a]=0;for(a=9154;9159>=a;a++)t[a]=0;for(a=9205;9218>=a;a++)t[a]=0;for(a=9271;9273>=a;a++)t[a]=0;for(a=9295;9297>=a;a++)t[a]=0;for(a=9356;9360>=a;a++)t[a]=0;for(a=9404;9407>=a;a++)t[a]=0;for(a=9476;9482>=a;a++)t[a]=0;for(a=9487;9494>=a;a++)t[a]=0;for(a=9697;9699>=a;a++)t[a]=0;for(a=20002;20032>=a;a++)t[a]=0;for(a=
20062;20092>=a;a++)t[a]=0;for(a=20135;20138>=a;a++)t[a]=0;for(a=20248;20258>=a;a++)t[a]=0;for(a=20348;20358>=a;a++)t[a]=0;for(a=20436;20440>=a;a++)t[a]=0;for(a=20822;20824>=a;a++)t[a]=0;for(a=20934;20936>=a;a++)t[a]=0;for(a=21035;21037>=a;a++)t[a]=0;for(a=21095;21097>=a;a++)t[a]=0;for(a=21148;21150>=a;a++)t[a]=0;for(a=21413;21423>=a;a++)t[a]=0;for(a=21453;21463>=a;a++)t[a]=0;for(a=21473;21483>=a;a++)t[a]=0;for(a=21780;21782>=a;a++)t[a]=0;for(a=21891;21894>=a;a++)t[a]=0;for(a=21896;21899>=a;a++)t[a]=
0;for(a=22171;22177>=a;a++)t[a]=0;for(a=22181;22187>=a;a++)t[a]=0;for(a=22191;22197>=a;a++)t[a]=0;for(a=22234;22236>=a;a++)t[a]=0;for(a=22521;22525>=a;a++)t[a]=0;for(a=22991;22994>=a;a++)t[a]=0;for(a=23028;23038>=a;a++)t[a]=0;for(a=23830;23853>=a;a++)t[a]=0;for(a=23866;23872>=a;a++)t[a]=0;for(a=23877;23884>=a;a++)t[a]=0;for(a=23886;23894>=a;a++)t[a]=0;for(a=23946;23948>=a;a++)t[a]=0;for(a=24311;24313>=a;a++)t[a]=0;for(a=24342;24347>=a;a++)t[a]=0;for(a=24370;24374>=a;a++)t[a]=10;for(a=24375;24381>=
a;a++)t[a]=0;for(a=24718;24721>=a;a++)t[a]=0;for(a=24817;24821>=a;a++)t[a]=0;for(a=24877;24882>=a;a++)t[a]=0;for(a=24891;24893>=a;a++)t[a]=0;for(a=25391;25395>=a;a++)t[a]=0;for(a=25828;25838>=a;a++)t[a]=0;for(a=26191;26195>=a;a++)t[a]=0;for(a=26391;26393>=a;a++)t[a]=0;for(a=26701;26722>=a;a++)t[a]=0;for(a=26729;26799>=a;a++)t[a]=2;for(a=26801;26803>=a;a++)t[a]=2;for(a=26811;26813>=a;a++)t[a]=2;for(a=26847;26870>=a;a++)t[a]=2;for(a=26891;26899>=a;a++)t[a]=0;for(a=26901;26923>=a;a++)t[a]=0;for(a=26929;26946>=
a;a++)t[a]=0;for(a=26948;26998>=a;a++)t[a]=0;for(a=27037;27040>=a;a++)t[a]=0;for(a=27205;27232>=a;a++)t[a]=0;for(a=27258;27260>=a;a++)t[a]=0;for(a=27391;27398>=a;a++)t[a]=0;for(a=27561;27564>=a;a++)t[a]=0;for(a=27571;27574>=a;a++)t[a]=0;for(a=27581;27584>=a;a++)t[a]=0;for(a=27591;27594>=a;a++)t[a]=0;for(a=28191;28193>=a;a++)t[a]=0;for(a=28348;28358>=a;a++)t[a]=0;for(a=28402;28432>=a;a++)t[a]=0;for(a=28462;28492>=a;a++)t[a]=0;for(a=29118;29122>=a;a++)t[a]=0;for(a=29168;29172>=a;a++)t[a]=0;for(a=29177;29185>=
a;a++)t[a]=0;for(a=29187;29195>=a;a++)t[a]=0;for(a=29900;29903>=a;a++)t[a]=0;for(a=30161;30179>=a;a++)t[a]=0;for(a=30491;30494>=a;a++)t[a]=0;for(a=30729;30732>=a;a++)t[a]=0;for(a=31251;31259>=a;a++)t[a]=0;for(a=31265;31268>=a;a++)t[a]=0;for(a=31275;31279>=a;a++)t[a]=0;for(a=31281;31297>=a;a++)t[a]=0;for(a=31461;31469>=a;a++)t[a]=0;for(a=31491;31495>=a;a++)t[a]=0;for(a=31917;31922>=a;a++)t[a]=0;for(a=31965;32E3>=a;a++)t[a]=0;for(a=32001;32003>=a;a++)t[a]=2;for(a=32005;32031>=a;a++)t[a]=2;for(a=32033;32060>=
a;a++)t[a]=2;for(a=32064;32067>=a;a++)t[a]=2;for(a=32074;32077>=a;a++)t[a]=2;for(a=32081;32086>=a;a++)t[a]=0;for(a=32107;32130>=a;a++)t[a]=0;for(a=32133;32158>=a;a++)t[a]=0;for(a=32164;32167>=a;a++)t[a]=2;for(a=32180;32199>=a;a++)t[a]=0;for(a=32201;32260>=a;a++)t[a]=0;for(a=32301;32360>=a;a++)t[a]=0;for(a=32601;32662>=a;a++)t[a]=0;for(a=32664;32667>=a;a++)t[a]=2;for(a=32701;32761>=a;a++)t[a]=0;for(a=53001;53004>=a;a++)t[a]=0;for(a=53008;53019>=a;a++)t[a]=0;for(a=53021;53032>=a;a++)t[a]=0;for(a=53034;53037>=
a;a++)t[a]=0;for(a=53042;53046>=a;a++)t[a]=0;for(a=53074;53080>=a;a++)t[a]=0;for(a=54001;54004>=a;a++)t[a]=0;for(a=54008;54019>=a;a++)t[a]=0;for(a=54021;54032>=a;a++)t[a]=0;for(a=54034;54037>=a;a++)t[a]=0;for(a=54042;54046>=a;a++)t[a]=0;for(a=54048;54053>=a;a++)t[a]=0;for(a=54074;54080>=a;a++)t[a]=0;for(a=54098;54101>=a;a++)t[a]=0;for(a=102001;102040>=a;a++)t[a]=0;for(a=102042;102063>=a;a++)t[a]=0;for(a=102065;102067>=a;a++)t[a]=0;for(a=102070;102117>=a;a++)t[a]=0;for(a=102122;102216>=a;a++)t[a]=
0;for(a=102221;102377>=a;a++)t[a]=0;for(a=102382;102388>=a;a++)t[a]=0;for(a=102389;102398>=a;a++)t[a]=2;for(a=102399;102444>=a;a++)t[a]=0;for(a=102445;102447>=a;a++)t[a]=2;for(a=102448;102458>=a;a++)t[a]=0;for(a=102459;102468>=a;a++)t[a]=2;for(a=102469;102499>=a;a++)t[a]=0;for(a=102500;102519>=a;a++)t[a]=1;for(a=102520;102524>=a;a++)t[a]=0;for(a=102525;102529>=a;a++)t[a]=2;for(a=102530;102588>=a;a++)t[a]=0;for(a=102590;102598>=a;a++)t[a]=0;for(a=102601;102603>=a;a++)t[a]=0;for(a=102605;102628>=a;a++)t[a]=
0;for(a=102629;102646>=a;a++)t[a]=2;for(a=102648;102700>=a;a++)t[a]=2;for(a=102701;102703>=a;a++)t[a]=0;for(a=102707;102730>=a;a++)t[a]=2;for(a=102733;102758>=a;a++)t[a]=2;for(a=102767;102900>=a;a++)t[a]=0;for(a=102965;102969>=a;a++)t[a]=0;for(a=102971;102973>=a;a++)t[a]=0;for(a=102975;102989>=a;a++)t[a]=0;for(a=102990;102992>=a;a++)t[a]=1;for(a=102997;103002>=a;a++)t[a]=0;for(a=103003;103008>=a;a++)t[a]=2;for(a=103009;103011>=a;a++)t[a]=0;for(a=103012;103014>=a;a++)t[a]=2;for(a=103019;103021>=a;a++)t[a]=
0;for(a=103022;103024>=a;a++)t[a]=2;for(a=103029;103031>=a;a++)t[a]=0;for(a=103032;103034>=a;a++)t[a]=2;for(a=103065;103068>=a;a++)t[a]=0;for(a=103074;103076>=a;a++)t[a]=0;for(a=103077;103079>=a;a++)t[a]=1;for(a=103080;103082>=a;a++)t[a]=0;for(a=103083;103085>=a;a++)t[a]=2;for(a=103090;103093>=a;a++)t[a]=0;for(a=103097;103099>=a;a++)t[a]=0;for(a=103100;103102>=a;a++)t[a]=2;for(a=103107;103109>=a;a++)t[a]=0;for(a=103110;103112>=a;a++)t[a]=2;for(a=103113;103116>=a;a++)t[a]=0;for(a=103117;103120>=a;a++)t[a]=
2;for(a=103153;103157>=a;a++)t[a]=0;for(a=103158;103162>=a;a++)t[a]=2;for(a=103163;103165>=a;a++)t[a]=0;for(a=103166;103168>=a;a++)t[a]=1;for(a=103169;103171>=a;a++)t[a]=2;for(a=103186;103188>=a;a++)t[a]=0;for(a=103189;103191>=a;a++)t[a]=2;for(a=103192;103195>=a;a++)t[a]=0;for(a=103196;103199>=a;a++)t[a]=2;for(a=103200;103224>=a;a++)t[a]=0;for(a=103225;103227>=a;a++)t[a]=1;for(a=103232;103237>=a;a++)t[a]=0;for(a=103238;103243>=a;a++)t[a]=2;for(a=103244;103246>=a;a++)t[a]=0;for(a=103247;103249>=a;a++)t[a]=
2;for(a=103254;103256>=a;a++)t[a]=0;for(a=103257;103259>=a;a++)t[a]=2;for(a=103264;103266>=a;a++)t[a]=0;for(a=103267;103269>=a;a++)t[a]=2;for(a=103300;103375>=a;a++)t[a]=0;for(a=103381;103383>=a;a++)t[a]=0;for(a=103384;103386>=a;a++)t[a]=1;for(a=103387;103389>=a;a++)t[a]=0;for(a=103390;103392>=a;a++)t[a]=2;for(a=103397;103399>=a;a++)t[a]=0;for(a=103400;103471>=a;a++)t[a]=2;for(a=103476;103478>=a;a++)t[a]=0;for(a=103479;103481>=a;a++)t[a]=2;for(a=103486;103488>=a;a++)t[a]=0;for(a=103489;103491>=a;a++)t[a]=
2;for(a=103492;103495>=a;a++)t[a]=0;for(a=103496;103499>=a;a++)t[a]=2;for(a=103528;103543>=a;a++)t[a]=0;for(a=103544;103548>=a;a++)t[a]=2;for(a=103549;103551>=a;a++)t[a]=0;for(a=103552;103554>=a;a++)t[a]=1;for(a=103555;103557>=a;a++)t[a]=2;for(a=103558;103560>=a;a++)t[a]=0;for(a=103571;103573>=a;a++)t[a]=0;for(a=103574;103576>=a;a++)t[a]=2;for(a=103577;103580>=a;a++)t[a]=0;for(a=103581;103583>=a;a++)t[a]=2;for(a=103595;103694>=a;a++)t[a]=0;for(a=103696;103699>=a;a++)t[a]=0;for(a=103700;103793>=a;a++)t[a]=
2;for(a=103794;103872>=a;a++)t[a]=0;for(a=103900;103971>=a;a++)t[a]=2;D("extend-esri")&&(w.WKIDUnitConversion=t);return t})},"esri/geometry/screenUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(D,w,a,t,l,n,h,g,e,d){var b=function(){return 9>a("ie")?function(f,m,r,p,u,y,x,z,q){var k=[],v=Math.round,B,E=x.length,N;for(B=0;B<E;B++){var G=x[B];var K=z?z(G[0][0],G[0][1],q):G[0];if(1<(N=
G.length)){var I=v((K[0]-f)*r+u);var O=v((m-K[1])*p+y);K=z?z(G[1][0],G[1][1],q):G[1];var V=v((K[0]-f)*r+u);K=v((m-K[1])*p+y);k.push("M",I+","+O,"L",V+","+K);for(V=2;V<N;V++)K=z?z(G[V][0],G[V][1],q):G[V],I=v((K[0]-f)*r+u),O=v((m-K[1])*p+y),k.push(I+","+O)}else I=v((K[0]-f)*r+u),O=v((m-K[1])*p+y),k.push("M",I+","+O)}return k}:function(f,m,r,p,u,y,x,z,q,k){var v=[],B,E,N=Math.round;var G=0;for(B=x?x.length:0;G<B;G++){var K=x[G];v.push("M");var I=0;for(E=K?K.length:0;I<E;I++){var O=z?z(K[I][0],K[I][1],
q):K[I];v.push(N((O[0]-f)*r+u)+","+N((m-O[1])*p+y))}k||v.push("Z")}return v}}(),c={toScreenPoint:function(f,m,r,p,u){var y=f.spatialReference,x=p.spatialReference,z=p.x;p=p.y;y&&x&&!y.equals(x)&&y._canProject(x)&&(y=y.isWebMercator()?l.lngLatToXY(z,p):l.xyToLngLat(z,p,!0),z=y[0],p=y[1]);z=(z-f.xmin)*(m/f.getWidth());p=(f.ymax-p)*(r/f.getHeight());u||(z=Math.round(z),p=Math.round(p));return new n(z,p)},toScreenGeometry:function(f,m,r,p){var u=f.xmin,y=f.ymax,x=m/f.getWidth(),z=r/f.getHeight(),q=D.forEach,
k=Math.round;if(p instanceof l)return new l(k((p.x-u)*x),k((y-p.y)*z));if(p instanceof e){f=new e;var v=f.points;q(p.points,function(K,I){v[I]=[k((K[0]-u)*x),k((y-K[1])*z)]});return f}if(p instanceof d)return new d(k((p.xmin-u)*x),k((y-p.ymin)*z),k((p.xmax-u)*x),k((y-p.ymax)*x));if(p instanceof h){f=new h;var B=f.paths,E;q(p.paths,function(K,I){E=B[I]=[];q(K,function(O,V){E[V]=[k((O[0]-u)*x),k((y-O[1])*z)]})});return f}if(p instanceof g){f=new g;var N=f.rings,G;q(p.rings,function(K,I){G=N[I]=[];q(K,
function(O,V){G[V]=[k((O[0]-u)*x),k((y-O[1])*z)]})});return f}},_toScreenPath:function(f,m,r,p,u,y){var x=p instanceof h,z=f.spatialReference,q=p.spatialReference;if(z&&q&&!z.equals(q)&&z._canProject(q))if(z.isWebMercator())var k=l.lngLatToXY;else{k=l.xyToLngLat;var v=!0}return b(f.xmin,f.ymax,m/f.getWidth(),r/f.getHeight(),u,y,x?p.paths:p.rings,k,v,x)},toMapPoint:function(f,m,r,p){return new l(f.xmin+p.x/(m/f.getWidth()),f.ymax-p.y/(r/f.getHeight()),f.spatialReference)},toMapGeometry:function(f,
m,r,p){var u=f.xmin,y=f.ymax,x=f.spatialReference,z=m/f.getWidth(),q=r/f.getHeight(),k=D.forEach;if(p instanceof l)return new l(u+p.x/z,y-p.y/q,x);if(p instanceof e){f=new e(x);var v=f.points;k(p.points,function(K,I){v[I]=[u+K[0]/z,y-K[1]/q]});return f}if(p instanceof d)return new d(u+p.xmin/z,y-p.ymin/q,u+p.xmax/z,y-p.ymax/q,x);if(p instanceof h){f=new h(x);var B=f.paths,E;k(p.paths,function(K,I){E=B[I]=[];k(K,function(O,V){E[V]=[u+O[0]/z,y-O[1]/q]})});return f}if(p instanceof g){f=new g(x);var N=
f.rings,G;k(p.rings,function(K,I){G=N[I]=[];k(K,function(O,V){G[V]=[u+O[0]/z,y-O[1]/q]})});return f}}};a("extend-esri")&&w.mixin(w.getObject("geometry",!0,t),c);return c})},"esri/layers/GraphicsLayer":function(){define("require dojo/_base/declare dojo/_base/Deferred dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom dojox/gfx dojox/gfx/matrix ./gfxSniff!esri-svg?dojox/gfx/filters ./layer ./support/webglUtils ./support/WebGLSurface ../kernel ../lang ../sniff ../Color ../domUtils ../symbols/MarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/utils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/mathUtils ../geometry/screenUtils ../PluginTarget ./gfxSniff!esri-svg?dojox/gfx/svgext".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B,E,N,G,K,I,O,V){var na=-1!==c.renderer.toLowerCase().indexOf("svg"),ja=-1!==c.renderer.toLowerCase().indexOf("canvas"),la=ja?"canvas-2d":c.renderer,ca=9>z("ie");h=10===z("ie");var ea=void 0===z("ie")&&7==z("trident"),oa=h||ea,sa=z("esri-touch"),za=!!z("chrome"),Z=p.isWebGLEnabled(),ka=na&&z("esri-will-change"),ua=Z||ja;p=w(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(A,F){var Q=this._connects=[];this._map=A;this._useWillChange=
this._useGlobalTransform="css-transforms"===A.navigationMode&&ka;if(ua){var X=e.create("div",{style:{position:"absolute",overflow:"visible"}},F);this._surface={getEventSource:function(){return X}};ja&&(Q.push(t.connect(X,"onmousedown",this,this._canvasDownHandler)),Q.push(t.connect(X,"onmouseup",this,this._canvasUpHandler)),Q.push(t.connect(X,"onclick",this,this._canvasClickHandler)));Z&&(this._webglSurface=new u({map:A,node:X}))}else X=(this._surface=c.createSurface(F,A.width,A.height)).getEventSource(),
this._useWillChange&&d.set(X,"will-change","transform"),d.set(X=ca?X.parentNode:X,{overflow:"visible",position:"absolute"});Q.push(t.connect(A,"onResize",this,"_onResizeHandler"));this._useGlobalTransform&&(Q.push(t.connect(A,"onPan",this,"_onPanHandler")),Q.push(t.connect(A,"onPanEnd",this,"_onPanEndHandler")),Q.push(t.connect(A,"onExtentChange",this,"_onExtentChangeHandler")));return X},_reorderLayer:function(A,F,Q){F=F.getEventSource();ua&&"svg"===A.surfaceType&&(F=F.parentNode);e.place(F,this._surface.getEventSource(),
Q)},_onPanHandler:function(A,F){var Q=this._map.__visibleRect;A=Q.x+F.x;F=Q.y+F.y;this._panDx=A;this._panDy=F;ua||d.set(this._surface.getEventSource(),y._css.names.transform,y._css.translate(A,F))},_onPanEndHandler:function(A,F){F=this._map.__visibleRect;A=F.x;F=F.y;this._panDx=A;this._panDy=F;ua||d.set(this._surface.getEventSource(),y._css.names.transform,y._css.translate(A,F))},_onExtentChangeHandler:function(A,F,Q,X){Q&&(this._panDy=this._panDx=0,ua||d.set(this._surface.getEventSource(),y._css.names.transform,
y._css.translate(0,0)))},_getTransform:function(){return{dx:this._panDx||0,dy:this._panDy||0}},_onResizeHandler:function(A,F,Q){A=this._surface.getEventSource();var X=this._map,aa;ca&&d.set(A=A.parentNode,{width:F+"px",height:Q+"px",clip:"rect(0px "+F+"px "+Q+"px 0px)"});g.set(A,"width",F);g.set(A,"height",Q);this._surface.declaredClass||n.forEach(A.childNodes,function(pa){g.set(pa,"width",F);g.set(pa,"height",Q)});X.loaded&&(X.graphics.suspended||(X.graphics._resized=!0),n.forEach(X.graphicsLayerIds,
function(pa){aa=X.getLayer(pa);aa.suspended||(aa._resized=!0,aa._childLayer&&(aa._childLayer._resized=!0));aa._updateSVGFilters(null,null,F,Q)}),X.graphics._updateSVGFilters(null,null,F,Q),X._labels&&X._labels._updateSVGFilters(null,null,F,Q))},_cleanUp:function(){n.forEach(this._connects,t.disconnect,t);this._map=this._surface=null},_processEvent:function(A){var F=this._map;A.screenPoint=new G(A.pageX-F.position.x,A.pageY-F.position.y);A.mapPoint=F.toMap(A.screenPoint)},_canvasDownHandler:function(A){this._processEvent(A);
this._downPt=A.screenPoint.x+","+A.screenPoint.y},_canvasUpHandler:function(A){this._processEvent(A);this._upPt=A.screenPoint.x+","+A.screenPoint.y},_tolerance:15,_isPrimaryMatch:function(A,F,Q,X){if(!A.visible||!F)return!1;var aa=F.getTransformedBoundingBox();if(aa){var pa=new K(aa[0].x,aa[0].y,aa[2].x,aa[2].y);delete pa.spatialReference;return sa?pa.intersects(Q):pa.contains(X)}return n.some(F.children||[],function(ra){aa=ra.getTransformedBoundingBox();pa=new K(aa[0].x,aa[0].y,aa[2].x,aa[2].y);
delete pa.spatialReference;return sa?pa.intersects(Q):pa.contains(X)})},_canvasClickHandler:function(A){if(this._downPt&&this._upPt&&this._downPt===this._upPt){this._processEvent(A);var F=this._map,Q=n.map(F.graphicsLayerIds,function(da){return F.getLayer(da)});Q.push(F.graphics);Q.reverse();Q=n.filter(Q,function(da){return da.loaded&&!da.hasWebGLSurface()&&da._mouseEvents&&!da.suspended&&(!x.isDefined(da.opacity)||0<da.opacity)});var X=A.screenPoint,aa=this._tolerance,pa=X.x-aa,ra=X.y+aa,T=X.x+aa;
aa=X.y-aa;var U=new K(pa,aa,T,ra);pa=F.toMap(new G(pa,ra));T=F.toMap(new G(T,aa));ra=pa.spatialReference._getInfo();var ba=new K(K.prototype._normalizeX(pa.x,ra).x,pa.y,K.prototype._normalizeX(T.x,ra).x,T.y,pa.spatialReference),ma;delete U.spatialReference;n.some(Q,function(da){da=n.filter(da.graphics,function(R){return this._isPrimaryMatch(R,R.getDojoShape(),U,X)||!(!R._bgShape||!this._isPrimaryMatch(R,R._bgShape,U,X))},this);da.reverse();if(0<da.length){var Aa;n.some(da,function(R){return R.geometry&&
ba.intersects(R.geometry)?(Aa=R,!0):!1});if(Aa)return ma=Aa,!0}return!1},this);ma&&(Q=ma.getLayer())&&(A.graphic=ma,Q.onClick(A))}}});r=w(r,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:!0,surfaceType:la,webglEnabled:Z,renderer:null,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"],"renderer-change":["renderer"]},_suspendGraphics:!1,constructor:function(A,F){A=A||{};if(l.isString(A)||l.isObject(A)&&(A.layerDefinition||A.query))A=F;this._params=l.mixin({displayOnPan:!0,
drawMode:!0,styling:!0},A);F=this._params.dataAttributes;"string"===typeof F&&(F=[F]);this.styling=na?this._params.styling:!0;this.dataAttributes=F;this.infoTemplate=A&&A.infoTemplate;this.graphics=[];this._draw=l.hitch(this,this._draw);this._refresh=l.hitch(this,this._refresh);this._acquireSVGMarker=l.hitch(this,this._acquireSVGMarker);this._evalSurfaceType=l.hitch(this,this._evalSurfaceType);this._setSurfaceType=l.hitch(this,this._setSurfaceType);this.setWebGLEnabled(null!=this._params.webglEnabled?
this._params.webglEnabled:this.webglEnabled);this.registerConnectEvents()},getNode:function(){return this._div&&this._div.getEventSource()},setDrawMode:function(A){this._params.drawMode=A},suspendGraphics:function(A){this._suspendGraphics=A;n.forEach(this.graphics,function(F){F._suspended=A})},setWebGLEnabled:function(A){var F=this.webglEnabled;this.webglEnabled=(A||!1)&&Z;F!==this.webglEnabled&&(this._evalSurfaceType(),this.onWebGLEnabledChange())},hasWebGLSurface:function(){return"webgl"===this.surfaceType},
_getSurfaceType:function(A){return A&&"webgl"===A.surfaceType?"webgl":la},_evalSurfaceType:function(A){Z&&(A?this._setSurfaceType():null==this._evalSurfaceTimerHandle&&(this._evalSurfaceTimerHandle=setTimeout(this._setSurfaceType,0)))},_hasPendingSurfaceEval:function(){return!!this._evalSurfaceTimerHandle},_setSurfaceType:function(){clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=null;var A=this._canUseWebGLSurface()?"webgl":la;this.surfaceType!==A?(this.surfaceType=A,this._handleSurfaceChange(),
this.onSurfaceChange()):this._pendingRedraw&&this._redraw()},_handleSurfaceChange:function(){this._cancelWebGLDepsLoad();this._webglDepsPromise=this._prepareToAttach(this._map);this._webglDepsPromise.always(l.hitch(this,function(A){this._webglDepsPromise=null;A&&"cancel"===A.dojoType||this._evalSurface()}))},_cancelWebGLDepsLoad:function(){this._webglDepsPromise&&!this._webglDepsPromise.isFulfilled()&&this._webglDepsPromise.cancel();this._webglDepsPromise=null},_evalSurface:function(){var A=this._map,
F=this._div;A&&F&&this._getSurfaceType(F)!==this.surfaceType&&(A._detachGraphicsLayer(this),A._attachGraphicsLayer(this))},_canUseWebGLSurface:function(A){A=A||this._map;return this.webglEnabled&&(!A||A.webglEnabled&&(A.ownsWebGLContext(this)||A.isWebGLContextAvailable()))&&this._params.drawMode&&this._isWebGLCompatible()},_isWebGLCompatible:function(){return!1},_prepareToAttach:function(A){var F=new a;!this.webglDeps&&this._canUseWebGLSurface(A)?D(["./support/webglDeps"],l.hitch(this,function(Q){this.webglDeps=
Q;F.isFulfilled()||F.resolve()})):F.resolve();return F.promise},_setMap:function(A,F){this.inherited(arguments);this._map=A;this._evalSurfaceType(!0);this._webglChangeMapHandle=A.on("webgl-enabled-change",l.hitch(this,function(){this._evalSurfaceType()}));this._wrap=A.wrapAround180;this._srInfo=A.spatialReference._getInfo();this._svgFilters={};this._lineMarkers={};if(this.hasWebGLSurface())A.acquireWebGLContext(this),this._div=A._gc._webglSurface.createRenderer(this.webglDeps.WebGLRenderer,A.width,
A.height,this);else{if("svg"===this.surfaceType)if(ua){F=c.createSurface(F.getEventSource(),A.width,A.height);var Q=F.getEventSource();d.set(Q,{position:"absolute",overflow:"visible",pointerEvents:"none"});A._gc._useWillChange&&d.set(Q,"will-change","transform");this._div=F.createGroup();d.set(this._div.getEventSource(),"pointer-events","auto")}else this._div=F.createGroup();else F=c.createSurface(F.getEventSource(),A.width,A.height),d.set(F.rawNode,"position","absolute"),this._div=F.createGroup(),
this._renderProto=this._div.constructor.prototype._render,this._div._render=l.hitch(this,this._canvasRender);this._bgGroup=this._div.createGroup()}this._div.getEventSource().id=this.id+"_layer";this._initOpacity();return this._div},_unsetMap:function(A,F){A.releaseWebGLContext(this);"webgl"===this._div.surfaceType?A._gc._webglSurface.destroyRenderer(this._div):(n.forEach(this.graphics,function(Q){Q._shape=null}),"svg"===this.surfaceType?ua?(F=this._div.parent,this._div.clear(),F.remove(this._div),
e.destroy(this._div.getEventSource()),e.destroy(F.getEventSource())):(this._div.clear(),F.remove(this._div),e.destroy(this._div.getEventSource())):(F=this._div.getParent(),F._parent={},e.destroy(F.rawNode),F.destroy()));this._map=this._div=this._svgFilters=this._lineMarkers=null;this._pendingRedraw=!1;clearTimeout(this._wakeTimer);this._wakeTimer=null;clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=null;this._webglChangeMapHandle&&this._webglChangeMapHandle.remove();this._cancelWebGLDepsLoad();
this._disableDrawConnectors();this.inherited(arguments)},_initOpacity:function(){var A=this.opacity;x.isDefined(A)&&1>A&&this.setOpacity(A,!0)},_onZoomStartHandler:function(){this.hasWebGLSurface()||k.hide(this._div.getEventSource())},_onExtentChangeHandler:function(A,F,Q,X){clearTimeout(this._wakeTimer);this._wakeTimer=null;Q?(A=this._map.__visibleRect,F=this._div,this._evalSDRenderer(),this._refresh(!0),this._params._child||this._updateTransform(F,A.x,A.y,!0),this._renderProto&&F.surface.pendingRender?
this._dirty=!0:this.suspended||k.show(F.getEventSource())):this._resized&&(this._resized=!1,this._refresh(!1));if(0<this.graphics.length)this.onUpdate()},_canvasRender:function(){var A=this._div;this._dirty&&(delete this._dirty,this.suspended||k.show(A.getEventSource()));return this._renderProto.apply(A,arguments)},_refresh:function(A){if(!this.hasWebGLSurface()){var F=this.graphics,Q=F.length,X,aa=this._draw;for(X=0;X<Q;X++)aa(F[X],A)}},refresh:function(){this._refresh(!0)},_redraw:function(){this._pendingRedraw=
!1;this.hasWebGLSurface()?this._div&&this._div.redraw():this._refresh(!0)},redraw:function(){this._hasPendingSurfaceEval()?this._pendingRedraw=!0:this._redraw()},hasLocalNavigationTransform:function(){return!(this._map&&this._map._gc._useGlobalTransform)},getNavigationTransform:function(){var A={dx:0,dy:0};this._map&&(this.hasLocalNavigationTransform()?this._div&&!this.hasWebGLSurface()&&(A=this._div.getTransform()):A=this._map._gc._getTransform());return A},_onPanHandler:function(A,F){this._panDx=
F.x;this._panDy=F.y;A=this._map.__visibleRect;this._updateTransform(this._div,A.x+F.x,A.y+F.y);ea&&this._updateSVGMarkers()},_onPanEndUpdateHandler:function(A,F){A=this._map.__visibleRect;this._params._child||F.x===this._panDx&&F.y===this._panDy?(this._updateSVGFilters(-A.x,-A.y),this._updateSVGMarkers()):this._updateTransform(this._div,A.x,A.y,!0);this._refresh(!1);if(this.graphics.length)this.onUpdate()},_onPanStartHandler:function(){k.hide(this._div.getEventSource())},_onPanEndHandler:function(){var A=
this._map.__visibleRect,F=this._div;this._updateTransform(F,A.x,A.y,!0);this._refresh(!1);this._renderProto&&F.surface.pendingRender?this._dirty=!0:k.show(F.getEventSource());if(this.graphics.length)this.onUpdate()},_updateTransform:function(A,F,Q,X){this.hasWebGLSurface()||(this.hasLocalNavigationTransform()?A.setTransform(f.translate({x:F,y:Q})):ua&&d.set(this._div.parent.getEventSource(),y._css.names.transform,y._css.translate(F,Q)),X&&(this._updateSVGFilters(-F,-Q),this._updateSVGMarkers()))},
onSuspend:function(){this.inherited(arguments);k.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(A){this.inherited(arguments);A.firstOccurrence&&this._evalSDRenderer();this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(l.hitch(this,function(){this.suspended||this._map.__zooming||this._onExtentChangeHandler(null,null,!0)}),0)},_enableDrawConnectors:function(){var A=this._map,F=t.connect;this._disableDrawConnectors();
this._params.displayOnPan?(this._params._child||(this._onPanHandler_connect=F(A,"onPan",this,"_onPanHandler")),this._onPanEndHandler_connect=F(A,"onPanEnd",this,"_onPanEndUpdateHandler")):(this._onPanStartHandler_connect=F(A,"onPanStart",this,"_onPanStartHandler"),this._onPanEndHandler_connect=F(A,"onPanEnd",this,"_onPanEndHandler"));this._onZoomStartHandler_connect=F(A,"onZoomStart",this,"_onZoomStartHandler");this._onExtentChangeHandler_connect=F(A,"onExtentChange",this,"_onExtentChangeHandler")},
_disableDrawConnectors:function(){var A=t.disconnect;A(this._onExtentChangeHandler_connect);A(this._onZoomStartHandler_connect);A(this._onPanHandler_connect);A(this._onPanStartHandler_connect);A(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null},_updateExtent:function(A){var F=A.geometry;if(!F)A._extent=null;else if(!(A._extent=F.getExtent())){if("esri.geometry.Point"===
F.declaredClass){var Q=F.x;var X=F.y}else if("esri.geometry.Multipoint"===F.declaredClass)Q=F.points[0][0],X=F.points[0][1];else{A._extent=null;return}A._extent=new K(Q,X,Q,X,F.spatialReference)}},_intersects:function(A,F,Q){var X=A.spatialReference,aa=F.spatialReference,pa=X&&aa&&!X.equals(aa)&&X._canProject(aa)&&4326===aa.wkid;if(this._wrap&&!Q){Q=[];X=A._getFrameWidth();var ra=this._srInfo,T=A._clip?A._getAvailExtent():A.extent,U,ba=[];var ma=F._partwise;pa&&(T=A.geographicExtent,ra=aa._getInfo());
A=T._getParts(ra);if(ma&&ma.length)for(F=[],aa=0,pa=ma.length;aa<pa;aa++)F=F.concat(ma[aa]._getParts(ra));else F=F._getParts(ra);aa=0;for(pa=F.length;aa<pa;aa++){var da=F[aa];ra=0;for(T=A.length;ra<T;ra++){var Aa=A[ra];if(Aa.extent.intersects(da.extent))for(ma=0,U=da.frameIds.length;ma<U;ma++)Q.push((Aa.frameIds[0]-da.frameIds[ma])*X)}}aa=0;for(pa=Q.length;aa<pa;aa++)ma=Q[aa],n.indexOf(Q,ma)===aa&&ba.push(ma);return ba.length?ba:null}return(pa?A.geographicExtent:A.extent).intersects(F)?[0]:null},
_defaultMarker:{type:"simplemarkersymbol",style:"square",size:1,xoffset:0,yoffset:0,angle:0},_draw:function(A,F){if(!this.hasWebGLSurface()&&this._params.drawMode&&this._map&&!this.suspended&&!this._map.__zooming&&!this._resized)try{var Q=A._extent,X,aa,pa=!na||this.styling,ra=na&&this.dataAttributes,T=A.getDojoShape(),U;if(!A._suspended&&A.visible&&Q&&(X=this._intersects(this._map,Q,A.geometry._originOnly))&&(aa=pa?this._getSymbol(A):this._defaultMarker)){if(A._offsets&&A._offsets.join(",")===X.join(",")?
U=!0:A._offsets=X,!T||F||!U){var ba=A.geometry.type;F={graphic:A};var ma=A._bgShape,da=pa&&!A.symbol?this._getRenderer(A):null,Aa=da&&da.backgroundFillSymbol;if("point"===ba)this._isInvalidShape(aa,T)&&this._removeShape(A),A._shape=this._drawPoint(this._div,A.geometry,aa,A.getDojoShape(),X,da,A),pa&&this._symbolizePoint(A.getDojoShape(),aa,da,A);else if("multipoint"===ba)this._drawMarkers(A,aa,X,da),pa&&this._symbolizeMarkers(A,aa,da);else{var R;ba=aa;var P;pa&&(ba=(R="simplemarkersymbol"===aa.type||
"picturemarkersymbol"===aa.type||"textsymbol"===aa.type?aa:null)?Aa:aa);if(pa&&ba&&-1<ba.type.indexOf("fillsymbol")){var Y=this._bgGroup;var ha=!(!Y||!R)}ma&&!ha&&this._removeBgShape(A);if(ba){!ha&&(this._isInvalidShape(ba,A._shape)||A._shape&&A._shape._isCentroidMarker)&&this._removeShape(A,!1);if(P=this._drawShape(A,X,Y||this._div,ha?ma:A.getDojoShape()))P._isCentroidMarker=!1;pa&&this._symbolizeShape(P,ba,da,ba===Aa,A);A[ha?"_bgShape":"_shape"]=P}if(R){(this._isInvalidShape(R,A._shape)||A._shape&&
!A._shape._isCentroidMarker)&&this._removeShape(A,!1);var ta=A.geometry.getCentroid();if(P=ta&&this._drawPoint(this._div,ta,R,A._shape,X,da,A))P._isCentroidMarker=!0,this._symbolizePoint(P,R,da,A);A._shape=P}}ja||(A._bgShape&&this._initNode(A,A._bgShape,A._bgShape!==ma,F,ra),A._shape&&this._initNode(A,A._shape,A._shape!==T,F,ra));A._applyDataAttrs();F.node=A.getNode();this.onGraphicDraw(F)}}else T&&this._removeShape(A)}catch(Da){this._errorHandler(Da,A)}},_initNode:function(A,F,Q,X,aa){if(F=F&&F.getNode())F.e_graphic=
A,this._addDataAttrs(A,aa,F),Q&&(X.node=F,this.onGraphicNodeAdd(X))},_removeShape:function(A,F,Q){var X=A.getDojoShape(),aa=X&&X.getNode();X&&!Q&&(X.removeShape(),X.destroy());A._shape=A._offsets=null;!1!==F&&this._removeBgShape(A,Q);if(aa&&(aa.e_graphic=null,!ja))this.onGraphicNodeRemove({graphic:A,node:aa})},_removeBgShape:function(A,F){var Q=A._bgShape,X=Q&&Q.getNode();Q&&!F&&(Q.removeShape(),Q.destroy());A._bgShape=null;if(X&&(X.e_graphic=null,!ja))this.onGraphicNodeRemove({graphic:A,node:X})},
_addDataAttrs:function(A,F,Q){var X=A.attributes,aa,pa=F?F.length:0,ra=this._getRenderer(A);if(Q&&X){for(aa=0;aa<pa;aa++)(Q=F[aa])&&A.attr("data-"+Q,X[Q]);!this.styling&&ra&&(ra.getBreakIndex?(F=ra.getBreakIndex(A),A.attr("data-class-break",-1!==F?F:null)):ra.getUniqueValueInfo&&(F=ra.getUniqueValueInfo(A),A.attr("data-unique-value",F?F.value:null)))}},_drawShape:function(A,F,Q,X){A=A.geometry;var aa=A.type,pa=this._map,ra=pa.extent,T=pa.width,U=pa.height;pa=pa.__visibleRect;var ba=[],ma;var da="extent"===
aa;if("rect"===aa||da)ba={x:0,y:0,spatialReference:A.spatialReference},ba.x=da?A.xmin:A.x,ba.y=da?A.ymax:A.y,aa=O.toScreenPoint(ra,T,U,ba),ba.x=da?A.xmax:A.x+A.width,ba.y=da?A.ymin:A.y+A.height,A=O.toScreenPoint(ra,T,U,ba),F={x:aa.x-pa.x+F[0],y:aa.y-pa.y,width:Math.abs(A.x-aa.x),height:Math.abs(A.y-aa.y)},0===F.width&&(F.width=1),0===F.height&&(F.height=1),X=this._drawRect(Q,X,F);else if("polyline"===aa||"polygon"===aa){da=0;for(ma=F.length;da<ma;da++)ba=ba.concat(O._toScreenPath(ra,T,U,A,-pa.x+F[da],
-pa.y));X=this._drawPath(Q,X,ba);this._rendererLimits&&("polyline"===aa?this._clipPolyline(X,A):this._clipPolygon(X,A))}return X},_drawRect:function(A,F,Q){return F?F.setShape(Q):A.createRect(Q)},_drawImage:function(A,F,Q){return F?F.setShape(Q):A.createImage(Q)},_drawCircle:function(A,F,Q){return F?F.setShape(Q):A.createCircle(Q)},_drawPath:function(){return ca?function(A,F,Q,X){Q=X?Q:Q.join(" ");if(F)return F.setShape(Q);F=A.createObject(X?c.Path:c.EsriPath,Q);A._overrideSize(F.getEventSource());
return F}:function(A,F,Q,X){Q=X?Q:Q.join(" ");return F?F.setShape(Q):A.createPath(Q)}}(),_drawText:function(A,F,Q){return F?F.setShape(Q):A.createText(Q)},_evalSDRenderer:function(A){var F=this._map,Q=this.renderer,X,aa=this._rndForScale;F&&F.loaded&&Q&&Q.getRendererInfo&&(X="zoom"===Q.rangeType?Q.getRendererInfoByZoom(F.getZoom()):Q.getRendererInfoByScale(F.getScale()));this._rndForScale=X&&X.renderer;A||this._rndForScale==aa||this.emit("renderer-change",{renderer:this._rndForScale})},_getRenderer:function(A){var F=
this._rndForScale||this.renderer;A&&F&&F.getObservationRenderer&&(F=F.getObservationRenderer(A));return F},_getSymbol:function(A){var F=this._getRenderer();return A.symbol||F&&F.getSymbol(A)},_getVariable:function(A,F,Q){if(A)var X=(A=A.getVisualVariablesForType(F,Q))&&A[0];return X},_applyOpacity:function(A,F,Q,X){F=F.getOpacity(X,{opacityInfo:Q});null!=F&&(A=new q(A),A.a=F);return A},_symbolizeShape:function(A,F,Q,X,aa){var pa=F.getStroke(),ra=F.getFill(),T=F.type,U=-1!==T.indexOf("linesymbol"),
ba=-1!==T.indexOf("fillsymbol")?null:this._getVariable(Q,"sizeInfo",!1),ma=this._getVariable(Q,"colorInfo",!1),da=this._getVariable(Q,"opacityInfo",!1),Aa=U?"none"!==F.style:F.outline&&"none"!==F.outline.style,R=U?null:this._getVariable(Q,"sizeInfo","outline");ba=(ba=X?R:R||ba)?Q.getSize(aa,{sizeInfo:ba,resolution:this._map.getResolutionInMeters(),scale:this._map.getScale()}):null;X&&(ma=da=null);if((ma||da)&&"picturefillsymbol"!==T)if(U){var P=pa&&pa.color;ma&&(P=Q.getColor(aa,{colorInfo:ma})||P);
P&&da&&(P=this._applyOpacity(P,Q,da,aa))}else if(ra&&ra.toCss){var Y=ra;ma&&(Y=Q.getColor(aa,{colorInfo:ma})||Y);Y&&da&&(Y=this._applyOpacity(Y,Q,da,aa))}A.setStroke(!Aa||null==ba&&!P?pa:l.mixin({},pa,null!=ba?{width:ba}:null,P&&{color:P})).setFill(Y||ra);U&&E.applyLineMarker(A,F,P,this._acquireSVGMarker)},_smsToPath:function(){return ca?function(A,F,Q,X,aa,pa,ra,T,U){switch(F){case A.STYLE_SQUARE:return["M",aa+","+ra,"L",pa+","+ra,pa+","+T,aa+","+T,"X","E"];case A.STYLE_CROSS:return["M",Q+","+ra,
"L",Q+","+T,"M",aa+","+X,"L",pa+","+X,"E"];case A.STYLE_X:return["M",aa+","+ra,"L",pa+","+T,"M",aa+","+T,"L",pa+","+ra,"E"];case A.STYLE_DIAMOND:return["M",Q+","+ra,"L",pa+","+X,Q+","+T,aa+","+X,"X","E"];case A.STYLE_TARGET:return["M",aa+","+ra,"L",pa+","+ra,pa+","+T,aa+","+T,aa+","+ra,"M",aa-U+","+X,"L",aa+","+X,"M",Q+","+(ra-U),"L",Q+","+ra,"M",pa+U+","+X,"L",pa+","+X,"M",Q+","+(T+U),"L",Q+","+T,"E"]}}:function(A,F,Q,X,aa,pa,ra,T,U){switch(F){case A.STYLE_SQUARE:return["M",aa+","+ra,pa+","+ra,pa+
","+T,aa+","+T,"Z"];case A.STYLE_TRIANGLE:return["M",Q+","+ra,pa+","+T,aa+","+T,"Z"];case A.STYLE_CROSS:return["M",Q+","+ra,Q+","+T,"M",aa+","+X,pa+","+X];case A.STYLE_X:return["M",aa+","+ra,pa+","+T,"M",aa+","+T,pa+","+ra];case A.STYLE_DIAMOND:return["M",Q+","+ra,pa+","+X,Q+","+T,aa+","+X,"Z"];case A.STYLE_TARGET:return A=["M",aa+","+ra,pa+","+ra,pa+","+T,aa+","+T,aa+","+ra],U&&A.push("M",aa-U+","+X,aa+","+X,"M",Q+","+(ra-U),Q+","+ra,"M",pa+U+","+X,pa+","+X,"M",Q+","+(T+U),Q+","+T),A}}}(),_pathStyles:{square:1,
cross:1,x:1,diamond:1,target:1},_typeMaps:{picturemarkersymbol:"image",picturefillsymbol:"path",simplefillsymbol:"path",simplelinesymbol:"path",cartographiclinesymbol:"path",textsymbol:"text"},_isInvalidShape:function(A,F){F=F&&F.shape&&F.shape.type;var Q=A&&A.type;A=A&&A.style;"rect"===F&&(F="path");Q&&(A=this._typeMaps[Q]||A);this._pathStyles[A]&&(A="path");return"shieldlabelsymbol"===Q?!0:!(!F||!A||F===A)},_reArialFont:/\s*(^|,)\s*arial\s*(,|$)\s*/i,_fallbackFont:"Arial",_drawPoint:function(A,
F,Q,X,aa,pa,ra){var T=Q.type,U=this._map,ba=U.__visibleRect,ma=O.toScreenPoint(U.extent,U.width,U.height,F).offset(-ba.x+aa[0],-ba.y);ba=ma.x;var da=ma.y;F=[];var Aa=this._getVariable(pa,"rotationInfo",!1);Aa=Aa?pa.getRotationAngle(ra,{rotationInfo:Aa}):null;var R=this._getVariable(pa,"sizeInfo",!1);U=null!=ra.size?ra.size:R&&pa.getSize(ra,{sizeInfo:R,shape:Q.style,resolution:U.getResolutionInMeters(),scale:U.getScale()});Aa&&F.push(f.rotategAt(Aa,ma));if(0!==Q.xoffset||0!==Q.yoffset){var P=f.translate(Q.xoffset,
-Q.yoffset);F.push(P)}0!==Q.angle&&F.push(f.rotategAt(Q.angle,ma));if("simplemarkersymbol"===T){var Y=Q.style;pa=Math.round;null!=U?P&&(null!=P.dx&&(P.dx=P.dx/Q.size*U),null!=P.dy&&(P.dy=P.dy/Q.size*U)):U=Q.size;switch(Y){case B.STYLE_SQUARE:case B.STYLE_TRIANGLE:case B.STYLE_CROSS:case B.STYLE_X:case B.STYLE_DIAMOND:Q=isNaN(U)?16:U/2;Y=this._drawPath(A,X,this._smsToPath(B,Y,ba,da,pa(ba-Q),pa(ba+Q),pa(da-Q),pa(da+Q)));break;case B.STYLE_TARGET:ra=Q._targetWidth/2;P=Q._targetHeight/2;Y=this._drawPath(A,
X,this._smsToPath(B,Y,ba,da,pa(ba-ra),pa(ba+ra),pa(da-P),pa(da+P),Q._spikeSize));break;case B.STYLE_PATH:Y=this._drawPath(A,X,Q.path,!0);Q=Y.getBoundingBox();A=this._getScaleMatrix(Q,U);1===A.xx&&1===A.yy||F.push(f.scaleAt(A.xx,A.yy,ma));F.push(f.translate(-(Q.x+Q.width/2)+ba,-(Q.y+Q.height/2)+da));break;default:Q=isNaN(U)?16:U/2,Y=this._drawCircle(A,X,{cx:ba,cy:da,r:Q})}}else if("shieldlabelsymbol"===T)Y=Q.width,ma=Q.height,X=A.createGroup(),Y=A.createImage({x:ba-Y/2,y:da-ma/2,width:Y,height:ma,
src:Q.url}),X.add(Y),null!=Q.font&&(da+=.2*Q.getHeight(),A=A.createText({type:"text",text:Q.text,x:ba,y:da,align:"middle",decoration:Q.decoration,rotated:Q.rotated,kerning:Q.kerning}),A.setFont(Q.font),A.setFill(Q.color),X.add(A)),Y=X;else if("picturemarkersymbol"===T){if(null==U?(Y=Q.width,ma=Q.height):(ma=U,Y=Q.width/Q.height*ma,P&&(null!=P.dx&&(P.dx=P.dx/Q.width*Y),null!=P.dy&&(P.dy=P.dy/Q.height*ma))),Y=this._drawImage(A,X,{x:ba-Y/2,y:da-ma/2,width:Y,height:ma,src:Q.url}),na&&(A=Y.getNode()))Q=
(Q=this._getVariable(pa,"opacityInfo",!1))?pa.getOpacity(ra,{opacityInfo:Q}):null,null!=Q?A.setAttribute("opacity",Q):A.setAttribute("opacity",1)}else if("textsymbol"===T){if(pa=Q.font){Y=null!=U;ra=pa.family&&!this._reArialFont.test(pa.family);if(Y||ra||ja)pa=new pa.constructor(pa.toJson());Y&&pa.setSize(U);ja&&(pa.size+="px");ra&&pa.setFamily(pa.family+","+this._fallbackFont)}Y=this._drawText(A,X,{type:"text",text:Q.text,x:ba,y:da,align:Q.getSVGAlign(),decoration:Q.decoration||pa&&pa.decoration,
rotated:Q.rotated,kerning:Q.kerning});pa&&Y.setFont(pa);na&&(A=Y.getNode(),ba=Q.getSVGBaseline(),da=Q.getSVGBaselineShift(),A&&(A.setAttribute("dominant-baseline",ba),da&&A.setAttribute("baseline-shift",da),this._applyHalo(Y,Q.haloColor,Q.haloSize)))}Y.setTransform(f.multiply(F));Y._wrapOffsets=aa;return Y},_acquireSVGMarker:function(A,F,Q,X){A=this._getSVGMarkerId(F,X);var aa=this._getSVGMarker(A);aa||(aa=E.createSVGMarker(F,A,Q,X),this._div.getParent().defNode.appendChild(aa),this._lineMarkers[A]=
aa);return aa},_getSVGMarkerId:function(A,F){return"marker_"+this._map.id+"_"+A.r+"_"+A.g+"_"+A.b+"_"+F},_getSVGMarker:function(A){return this._lineMarkers[A]},_updateSVGMarkers:function(){if(na&&oa){var A=this._lineMarkers,F;for(F in A){var Q=A[F];Q.setAttribute("id",F+"_temp");Q.setAttribute("id",F)}}},_applyHalo:function(A,F,Q){var X=F&&Q?this._getHaloId(F,Q):null;A.setFilter(F&&Q?z("webkit")||z("ff")?this._getDilateFilter(F,Q,X):this._getOffsetFilter(F,Q,X):null)},_getDilateFilter:function(A,
F,Q){var X=this._getSVGFilter(Q);X||(X=this._createSVGFilter({id:Q},[m.feMorphology({operator:"dilate",radius:F,result:"dilated"}),m.feFlood({"flood-color":A.toCss(!0)}),m.feComposite({in2:"dilated",operator:"in",result:"composite"}),m.feMerge("composite","SourceGraphic")]));return X},_getOffsetFilter:function(A,F,Q){var X=this._getSVGFilter(Q);if(!X){A=A.toCss(!0);X=this._offsetPrimitives;var aa,pa=X.length,ra=[],T=[];for(aa=0;aa<pa;aa++){var U=X[aa],ba="offset"+U.dir,ma="composite"+U.dir;T.push(ma);
ra.push(m.feOffset({dx:U.dx*F,dy:U.dy*F,"in":"SourceAlpha",result:ba}),m.feFlood({"flood-color":A}),m.feComposite({in2:ba,operator:"in",result:ma}))}T.push("SourceGraphic");ra.push(m.feMerge.apply(m.feMerge,T));X=this._createSVGFilter({id:Q},ra)}return X},_offsetPrimitives:[{dir:"L",dx:-1,dy:0},{dir:"TL",dx:-1,dy:-1},{dir:"T",dx:0,dy:-1},{dir:"TR",dx:1,dy:-1},{dir:"R",dx:1,dy:0},{dir:"BR",dx:1,dy:1},{dir:"B",dx:0,dy:1},{dir:"BL",dx:-1,dy:1}],_getHaloId:function(A,F){return"halo_"+this._map.id+"_"+
this.id+"_"+A.r+"_"+A.g+"_"+A.b+"_"+A.a+"_"+F},_getSVGFilter:function(A){return this._svgFilters[A]},_createSVGFilter:function(A,F){F=m.createFilter(A,F);var Q=this._map,X=Q.__visibleRect;F.x=-X.x;F.y=-X.y;F.width=Q.width;F.height=Q.height;return this._svgFilters[A.id]=F},_updateSVGFilters:function(A,F,Q,X){var aa=this._svgFilters,pa,ra,T;for(ra in aa)if(pa=aa[ra]){if(T=b.byId(ra))null!=A&&T.setAttribute("x",A),null!=F&&T.setAttribute("y",F),null!=Q&&T.setAttribute("width",Q),null!=X&&T.setAttribute("height",
X);null!=A&&(pa.x=A);null!=F&&(pa.y=F);null!=Q&&(pa.width=Q);null!=X&&(pa.height=X)}},_getScaleMatrix:function(A,F){var Q=A.width/A.height,X=1,aa=1;isNaN(F)||(1<Q?(X=F/A.width,aa=F/Q/A.height):(aa=F/A.height,X=F*Q/A.width));return{xx:X,yy:aa}},_symbolizePoint:function(A,F,Q,X){var aa=F.type,pa=F.style;if("shieldlabelsymbol"!==aa&&"picturemarkersymbol"!==aa){var ra=F.getStroke();F=F.getFill();pa=pa===B.STYLE_X||pa===B.STYLE_CROSS;var T=ra&&ra.color,U=pa?T:F;if(Q){var ba=this._getVariable(Q,"colorInfo",
!1),ma=this._getVariable(Q,"opacityInfo",!1);ba&&(U=Q.getColor(X,{colorInfo:ba})||U);U&&ma&&(U=this._applyOpacity(U,Q,ma,X));U&&(pa?U!==T&&(ra=ra?l.mixin({},ra):{},ra.color=U):U!==F&&(F=U))}"textsymbol"===aa?A.setFill(F):"simplemarkersymbol"===aa&&A.setFill(F).setStroke(ra)}},_drawMarkers:function(A,F,Q,X){var aa=A.geometry,pa=aa.points,ra=A.getDojoShape()||this._div.createGroup(),T,U=pa.length,ba=[],ma=0,da,Aa=Q?Q.length:0;ra.children[0]&&this._isInvalidShape(F,ra.children[0])&&ra.clear();for(T=
0;T<U;T++){var R=pa[T];for(da=0;da<Aa;da++)ba[0]=Q[da],this._drawPoint(ra,{x:R[0],y:R[1],spatialReference:aa.spatialReference},F,ra.children[ma++],ba,X,A)}F=ra.children.length;if(U*Q.length<F)for(T=F-1;T>=U*Q.length;T--)ra.children[T].removeShape();A._shape=ra},_symbolizeMarkers:function(A,F,Q){var X=A.getDojoShape().children,aa,pa=X.length;for(aa=0;aa<pa;aa++)this._symbolizePoint(X[aa],F,Q,A)},_errorHandler:function(A,F){F&&(A.message="Unable to draw graphic (geometry:"+(F.geometry?F.geometry.declaredClass:
null)+", symbol:"+(F.symbol?F.symbol.declaredClass:null)+"): "+A.message);this.inherited(arguments)},_rendererLimits:function(){if(ca){var A=1E5;var F=-1E5;var Q=1E5}else z("chrome")&&6>z("chrome")&&(A=8150,F=-1E4,Q=1E4);if(A)return{clipLimit:A,rangeMin:F,rangeMax:Q,clipBBox:[-A,-A,A,A],clipSegments:[[[-A,-A],[A,-A]],[[A,-A],[A,A]],[[A,A],[-A,A]],[[-A,A],[-A,-A]]]}}(),_clipPolyline:function(A,F){F=this._getCorners(A,F);var Q=F.br,X=this._rendererLimits,aa=X.rangeMin,pa=X.rangeMax,ra=X.clipBBox,T=
X.clipSegments;X=this._isPointWithinRange;var U=this._isPointWithinBBox,ba=this._getClipperIntersection,ma=this._getPlaneIndex;if(!X(F.tl,aa,pa)||!X(Q,aa,pa)){ca&&this._createSegments(A);var da=[];n.forEach(A.segments,function(Aa){Aa=Aa.args;var R=Aa.length,P=[],Y;for(Y=0;Y<R;Y+=2){var ha=[Aa[Y],Aa[Y+1]],ta=[Aa[Y+2],Aa[Y+3]],Da=U(ha,ra),Ga=U(ta,ra);if(Da^Ga){if(Ga=ba([ha,ta],T))Da?(Y?P.push(Ga[1]):P.push(ha,Ga[1]),da.push(P),P=[]):P.push(Ga[1],ta)}else Da?Y?P.push(ta):P.push(ha,ta):(Ga=ma(ha,ra),
Da=ma(ta,ra),-1!==Ga&&-1!==Da&&Ga!==Da&&(ha=ba([ha,ta],T,!0),0<ha.length&&(ha[Ga]||(Ga=ha[Ga[0]]?Ga[0]:Ga[1]),ha[Da]||(Da=ha[Da[0]]?Da[0]:Da[1]),ta=ha[Ga],ha=ha[Da],ta&&P.push(ta),ha&&(P.push(ha),da.push(P),P=[]))))}da.push(P)});A.setShape(this._getPathStringFromPaths(da))}},_clipPolygon:function(A,F){F=this._getCorners(A,F);var Q=F.br,X=this._rendererLimits,aa=X.clipLimit,pa=X.rangeMin,ra=X.rangeMax,T=X.clipBBox,U=X.clipSegments;X=this._isPointWithinRange;var ba=this._isPointWithinBBox,ma=this._getClipperIntersection,
da=this._getPlaneIndex,Aa=I._pointLineDistance;X(F.tl,pa,ra)&&X(Q,pa,ra)||(ca&&this._createSegments(A),F=n.filter(A.segments,function(R){return R.args&&R.args.length}),F=n.map(F,function(R){var P=R.args,Y=P.length,ha=[];R=[];var ta;for(ta=0;ta<Y;ta+=2){var Da=[P[ta],P[ta+1]],Ga=[P[ta+2],P[ta+3]];if(ta===Y-2){ha.push(Da);break}var Ma=ba(Da,T),Ia=ba(Ga,T);ha.push(Da);if(Ma^Ia){if(Ia=ma([Da,Ga],U))Da=Ia[1],Da[Ma?"inOut":"outIn"]=!0,ha.push(Da),R.push([Ma?"INOUT":"OUTIN",ha.length-1,Ia[0]])}else if(!Ma){Ma=
da(Da,T);var Fa=da(Ga,T);-1!==Ma&&-1!==Fa&&Ma!==Fa&&(Ia=ma([Da,Ga],U,!0),0<Ia.length?(Ia[Ma]||(Ma=Ia[Ma[0]]?Ma[0]:Ma[1]),Ia[Fa]||(Fa=Ia[Fa[0]]?Fa[0]:Fa[1]),Da=Ia[Ma],Ga=Ia[Fa],Da&&(Da.outIn=!0,ha.push(Da),R.push(["OUTIN",ha.length-1,Ma])),Ga&&(Ga.inOut=!0,ha.push(Ga),R.push(["INOUT",ha.length-1,Fa]))):l.isArray(Ma)&&l.isArray(Fa)&&(Ia=Ma.concat(Fa),Ia.sort(),"0123"===Ia.join("")&&(Ia=[],3===Ma[0]+Ma[1]?Ia.push([aa,-aa],[-aa,aa]):Ia.push([-aa,-aa],[aa,aa]),Ma=Aa(Ia[0],[Da,Ga]),Da=Aa(Ia[1],[Da,Ga]),
ha.push(Ma<Da?Ia[0]:Ia[1]))))}}var La=T[0],Ka=T[1],M=T[2],W=T[3];n.forEach(ha,function(wa){wa[0]<La&&(wa[1]>=Ka&&wa[1]<=W?wa[0]=La:(wa[0]=La,wa[1]=wa[1]<Ka?Ka:W))});n.forEach(ha,function(wa){wa[1]<Ka&&(wa[0]>=La&&wa[0]<=M?wa[1]=Ka:(wa[1]=Ka,wa[0]=wa[0]<La?La:M))});n.forEach(ha,function(wa){wa[0]>M&&(wa[1]>=Ka&&wa[1]<=W?wa[0]=M:(wa[0]=M,wa[1]=wa[1]<Ka?Ka:W))});n.forEach(ha,function(wa){wa[1]>W&&(wa[0]>=La&&wa[0]<=M?wa[1]=W:(wa[1]=W,wa[0]=wa[0]<La?La:M))});P=0;Y=R.length;if(0<Y){do{Ga=R[P];ta=R[(P+
1)%Y];if(Ga[2]===ta[2]&&"INOUT"===Ga[0]&&"OUTIN"===ta[0])if(Da=Ga[1],ta=ta[1],Da<ta)for(Da+=1;Da<ta;Da++)ha[Da][2]=!0;else if(Da>ta){for(Da+=1;Da<ha.length;Da++)ha[Da][2]=!0;for(Da=0;Da<ta;Da++)ha[Da][2]=!0}P=(P+1)%Y}while(0!==P)}Y=ha[0];P=ha[ha.length-1];Y[2]&&(P[2]=!0,n.some(R,function(wa){return 1===wa[1]?(ha.splice(ha.length-1,0,l.clone(ha[1])),!0):!1}));ha=n.filter(ha,function(wa){return wa[2]?!1:!0});for(P=0;P<ha.length-1;P++)Y=ha[P],(ta=ha[P+1])&&Y[0]===ta[0]&&Y[1]===ta[1]&&(ta.outIn?Y.outIn=
!0:ta.inOut&&(Y.inOut=!0),ha.splice(P+1,1));Y=Math.abs;R=[];for(P=0;P<ha.length-1;P++){Ga=ha[P];Da=Ga[0];Ga=Ga[1];Ma=Y(Da)===aa;Ia=Y(Ga)===aa;ta=ha[P+1];Fa=ta[0];ta=ta[1];var fa=Y(Fa)===aa,qa=Y(ta)===aa;Ma&&qa?R.push([P+1,[Da,ta]]):Ia&&fa&&R.push([P+1,[Fa,Ga]])}for(P=R.length-1;0<=P;P--)ta=R[P],Da=ha[ta[0]-1],Y=ha[ta[0]],Da.outIn||Da.inOut||Y.outIn||Y.inOut||ha.splice(ta[0],0,ta[1]);Y=ha[0];P=ha[ha.length-1];Y[0]===P[0]&&Y[1]===P[1]||ha.push(Y);return ha}),A.setShape(this._getPathStringFromPaths(F)))},
_getCorners:function(A,F){if(ca){A=this._map;var Q=F.getExtent(),X=Q.spatialReference;F=A.toScreen(new N(Q.xmin,Q.ymax,X));A=A.toScreen(new N(Q.xmax,Q.ymin,X));return{tl:F,br:A}}A=A.getTransformedBoundingBox();return{tl:A[0],br:A[2]}},_createSegments:function(A){A.shape.path=A.vmlPath;A.segmented=!1;A._confirmSegmented();var F=A.segments;1<F.length&&(A.segments=n.filter(F,function(Q,X,aa){X=aa[X+1];return"M"===Q.action&&X&&"L"===X.action?(Q.args=Q.args.concat(X.args),!0):!1}))},_getPathStringFromPaths:function(A){ca?
(A=n.map(A,function(F){return"m "+n.map(F,function(Q,X){return(1===X?"l ":"")+Q.join(",")}).join(" ")}),A.push("e")):A=n.map(A,function(F){return"M "+n.map(F,function(Q){return Q.join(",")}).join(" ")});return A.join(" ")},_isPointWithinBBox:function(A,F){var Q=F[1],X=F[2],aa=F[3],pa=A[0];A=A[1];return pa>F[0]&&pa<X&&A>Q&&A<aa?!0:!1},_isPointWithinRange:function(A,F,Q){var X=A.x;A=A.y;return X<F||A<F||X>Q||A>Q?!1:!0},_getClipperIntersection:function(A,F,Q){var X,aa=I._getLineIntersection2,pa=Math.round,
ra={length:0};for(X=0;4>X;X++){var T=aa(A,F[X]);if(T)if(T[0]=pa(T[0]),T[1]=pa(T[1]),Q)ra[X]=T,ra.length++;else return[X,T]}return Q?ra:null},_getPlaneIndex:function(A,F){var Q=A[0];A=A[1];var X=F[0],aa=F[1],pa=F[2];F=F[3];return Q<=X?A>=aa&&A<=F?3:A<aa?[0,3]:[2,3]:A<=aa?Q>=X&&Q<=pa?0:Q<X?[3,0]:[1,0]:Q>=pa?A>=aa&&A<=F?1:A<aa?[0,1]:[2,1]:A>=F?Q>=X&&Q<=pa?2:Q<X?[3,2]:[1,2]:-1},onGraphicAdd:function(){},onGraphicRemove:function(){},onGraphicNodeAdd:function(){},onGraphicNodeRemove:function(){},onGraphicDraw:function(){},
onGraphicsClear:function(){},onRendererChange:function(){},onOpacityChange:function(){},onInfoTemplateChange:function(){},onSurfaceChange:function(){},onWebGLEnabledChange:function(){},setInfoTemplate:function(A){this.infoTemplate=A;this._evalSurfaceType();this.onInfoTemplateChange()},add:function(A,F){if(A._graphicsLayer===this)return A;A._suspended=this._suspendGraphics;F||this.graphics.push(A);A._graphicsLayer=this;A._sourceLayer||(A._layer&&"esri.layers.GraphicsLayer"!==A._layer.declaredClass?
A._sourceLayer=A._layer:"esri.layers.GraphicsLayer"!==this.declaredClass&&(A._sourceLayer=this));A._layer=this;this.hasWebGLSurface()||(this._updateExtent(A),this._draw(A));if(!F)this.onGraphicAdd(A);return A},remove:function(A,F,Q){if(!F&&!Q){F=this.graphics;var X;if(-1===(X=n.indexOf(F,A)))return null;if(!za||64<=za)F.splice(X,1);else{var aa=F.length;if(aa){for(;X<aa;)F[X]=F[X+1],X++;F.length--}}}this.hasWebGLSurface()||A.getDojoShape()&&this._removeShape(A,null,Q);A._shape=A._graphicsLayer=null;
this.onGraphicRemove(A);return A},clear:function(A,F){A=this.graphics;var Q,X=!ca;for(Q=A.length-1;0<=Q;Q--)this.remove(A[Q],null,X);this.graphics=[];this.hasWebGLSurface()||this._destroyAllNodes();if(!F)this.onGraphicsClear()},_destroyAllNodes:function(){if(!ca&&this._div){var A;this._childLayer&&(A=this._childLayer.getNode())&&A.parentNode&&A.parentNode.removeChild(A);this._bgGroup.clear();this._div.clear();this._bgGroup=this._div.createGroup();A&&this._div.getEventSource().appendChild(A);this._initOpacity()}},
clearNodes:function(){if(!this.hasWebGLSurface()){var A=this.graphics,F=A.length,Q;for(Q=0;Q<F;Q++)this._removeShape(A[Q],!0,!0);this._destroyAllNodes()}},_graphicVisibilityChanged:function(A){},_setIEOpacity:function(A,F){var Q=A&&A.getNode();if(Q){var X=A.strokeStyle,aa=Q.stroke;X&&aa&&(aa.opacity=X.color.a*F);A=A.fillStyle;X=Q.fill;A&&X&&("tile"===X.type?d.set(Q,"opacity",F):X.opacity=A.a*F)}},setOpacity:function(A,F){if(F||this.opacity!=A){var Q=this._div;Q&&!this.hasWebGLSurface()&&(ca?(n.forEach(this.graphics,
function(X){this._setIEOpacity(X._shape,A);this._setIEOpacity(X._bgShape,A)},this),Q._esriIeOpacity=A,this._bgGroup._esriIeOpacity=A):"canvas-2d"===this.surfaceType?d.set(Q.getEventSource(),"opacity",A):Q.getEventSource().setAttribute("opacity",A));this.opacity=A;if(!F)this.onOpacityChange(A)}},setRenderer:function(A){this.renderer=A;this._evalSDRenderer(!0);this._evalSurfaceType();this.emit("renderer-change",{renderer:this._rndForScale||A})}});w=w([r,V],{declaredClass:"esri.layers.GraphicsLayer",
constructor:function(){this._processEvent=l.hitch(this,this._processEvent);this._initLayer()},_initLayer:function(){this.loaded=!0;this.onLoad(this)},_setMap:function(){var A=this.inherited("_setMap",arguments);this.enableMouseEvents();return A},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments)},_processEvent:function(A){var F=this._map,Q=A.target,X;A.screenPoint=new G(A.pageX-F.position.x,A.pageY-F.position.y);for(A.mapPoint=F.toMap(A.screenPoint);Q&&!(X=Q.e_graphic);)Q=
Q.parentNode;if(X)return A.graphic=X,A},_onMouseOverHandler:function(A){if(this._processEvent(A))this.onMouseOver(A)},_onMouseMoveHandler:function(A){if(this._processEvent(A))this.onMouseMove(A)},_onMouseDragHandler:function(A){if(this._processEvent(A))this.onMouseDrag(A)},_onMouseOutHandler:function(A){if(this._processEvent(A))this.onMouseOut(A)},_onMouseDownHandler:function(A){this._downGr=this._downPt=null;this._processEvent(A)&&(t.disconnect(this._onmousemove_connect),t.disconnect(this._onmousedrag_connect),
this._onmousedrag_connect=t.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler"),this._downGr=A.graphic,this._downPt=A.screenPoint.x+","+A.screenPoint.y,this.onMouseDown(A))},_onMouseUpHandler:function(A){this._upGr=this._upPt=null;this._processEvent(A)&&(t.disconnect(this._onmousedrag_connect),t.disconnect(this._onmousemove_connect),this._onmousemove_connect=t.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseMoveHandler"),this._upGr=A.graphic,this._upPt=A.screenPoint.x+
","+A.screenPoint.y,this.onMouseUp(A))},_onClickHandler:function(A){if(this._processEvent(A)){var F=this._downGr,Q=this._upGr;F&&Q&&F===Q&&this._downPt===this._upPt&&(ca&&(y._ieGraphic=A.graphic),this.onClick(A))}},_onDblClickHandler:function(A){if(this._processEvent(A))this.onDblClick(A)},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onClick:function(){},onDblClick:function(){},enableMouseEvents:function(){if(!this._mouseEvents){var A=
t.connect,F=this._div.getEventSource();ja||(this._onmouseover_connect=A(F,"onmouseover",this,"_onMouseOverHandler"),this._onmousemove_connect=A(F,"onmousemove",this,"_onMouseMoveHandler"),this._onmouseout_connect=A(F,"onmouseout",this,"_onMouseOutHandler"),this._onmousedown_connect=A(F,"onmousedown",this,"_onMouseDownHandler"),this._onmouseup_connect=A(F,"onmouseup",this,"_onMouseUpHandler"),this._onclick_connect=A(F,"onclick",this,"_onClickHandler"),this._ondblclick_connect=A(F,"ondblclick",this,
"_onDblClickHandler"));this._mouseEvents=!0}},disableMouseEvents:function(){if(this._mouseEvents){var A=t.disconnect;A(this._onmouseover_connect);A(this._onmousemove_connect);A(this._onmousedrag_connect);A(this._onmouseout_connect);A(this._onmousedown_connect);A(this._onmouseup_connect);A(this._onclick_connect);A(this._ondblclick_connect);this._mouseEvents=!1}}});w._GraphicsContainer=p;w._GraphicsLayer=r;z("extend-esri")&&(l.setObject("layers.GraphicsLayer",w,y),l.setObject("layers._GraphicsContainer",
p,y),l.setObject("layers._GraphicsLayer",r,y));return w})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(D,w,a){w.switchTo(a);return w})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(D,w,a,t,l){var n=null;a.add("vml",function(h,g,e){e.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';h="adj"in e.firstChild;e.innerHTML="";return h});return{load:function(h,g,e){function d(){g(["dojox/gfx/"+
b],function(m){D.renderer=b;n=m;e(m)})}if(n&&"force"!=h)e(n);else{var b=l.forceGfxRenderer;h=!b&&(w.isString(l.gfxRenderer)?l.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var c,f;!b&&h.length;)switch(h.shift()){case "svg":"SVGAngle"in t.global&&(b="svg");break;case "vml":a("vml")&&(b="vml");break;case "silverlight":try{a("ie")?(c=new ActiveXObject("AgControl.AgControl"),c.IsVersionSupported("1.0"))&&(f=!0):navigator.plugins["Silverlight Plug-In"]&&(f=!0)}catch(m){f=!1}finally{c=null}f&&
(b="silverlight");break;case "canvas":t.global.CanvasRenderingContext2D&&(b="canvas")}"canvas"===b&&!1!==l.canvasEvents&&(b="canvasWithEvents");l.isDebug&&console.log("gfx renderer \x3d "+b);"svg"==b&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(d):d()}}}})},"esri/layers/gfxSniff":function(){define(["dojo/has","dojox/gfx"],function(D,w){D.add("esri-svg",function(){return-1!==w.renderer.toLowerCase().indexOf("svg")});return D})},"esri/layers/layer":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/Deferred dojo/_base/json dojo/has ../Evented ../kernel ../lang ../request ../deferredUtils ../urlUtils ../SpatialReference ../geometry/Extent".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r){var p=D([g],{declaredClass:"esri.layers.Layer",_eventMap:{error:["error"],load:["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},constructor:function(u,y){this._attrs={};u&&t.isString(u)?this._url=f.urlToObject(this.url=f.normalize(u)):(this.url=this._url=null,(y=y||u)&&(y.layerDefinition||y.query)&&(y=null));this.spatialReference=new m(4326);this.initialExtent=new r(-180,-90,180,90,new m(4326));this._map=this._div=
null;this.normalization=!0;y&&(y.id&&(this.id=y.id),this.arcgisProps=y.arcgisProps,this.parentLayer=y.parentLayer,!1===y.visible&&(this.visible=!1),d.isDefined(y.opacity)&&(this.opacity=y.opacity),d.isDefined(y.minScale)&&this.setMinScale(y.minScale),d.isDefined(y.maxScale)&&this.setMaxScale(y.maxScale),this.attributionDataUrl=y.attributionDataUrl||"",this.hasAttributionData=!!this.attributionDataUrl,d.isDefined(y.showAttribution)&&(this.showAttribution=y.showAttribution),this.className=y.className,
this.refreshInterval=y.refreshInterval||0);this._errorHandler=t.hitch(this,this._errorHandler);this._scheduledRefresh=t.hitch(this,this._scheduledRefresh);this.refresh=t.hitch(this,this.refresh);if(this.managedSuspension){var x=this._setMap;this._setMap=function(z){var q=x.apply(this,arguments);this._fireAttach(z);this.evaluateSuspension();if(this.suspended&&!z.loaded)var k=a.connect(z,"onLoad",this,function(){a.disconnect(k);k=null;this.evaluateSuspension()});return q}}this.registerConnectEvents()},
id:null,visible:!0,opacity:1,loaded:!1,loadError:null,minScale:0,maxScale:0,visibleAtMapScale:!1,suspended:!0,attached:!1,attributionDataUrl:"",hasAttributionData:!1,showAttribution:!0,refreshInterval:0,_errorHandler:function(u){this.loaded||(this.loadError=u);this.onError(u)},_setMap:function(u,y,x,z){this._map=u;this._lyrZEHandle=a.connect(u,"onZoomEnd",this,this._processMapScale);if(u.loaded)this.visibleAtMapScale=this._isMapAtVisibleScale();else var q=a.connect(u,"onLoad",this,function(){a.disconnect(q);
q=null;this._processMapScale()})},_unsetMap:function(u,y){a.disconnect(this._lyrZEHandle);this._map=this._lyrZEHandle=null;this._resumedOnce=void 0;this.suspended=!0;this._fireDetach(u)},_fireAttach:function(u){this.attached=!0;this.onAttach({map:u})},_fireDetach:function(u){this.attached=!1;this.onDetach({map:u})},_cleanUp:function(){this._map=this._div=null},_fireUpdateStart:function(){this.updating||(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart(),this._map&&this._map._incr())},
_fireUpdateEnd:function(u,y){this.updating&&(this.updating=!1,this.attr("data-updating"),this._refreshRT(),this.onUpdateEnd(u,y),this._map&&this._map._decr())},_getToken:function(){var u=this._url,y=this.credential;return u&&u.query&&u.query.token||y&&y.token||void 0},_findCredential:function(){this.credential=e.id&&this._url&&e.id.findCredential(this._url.path)},_useSSL:function(){var u=this._url,y=/^http:/i;this.url&&(this.url=this.url.replace(y,"https:"));u&&u.path&&(u.path=u.path.replace(y,"https:"))},
refresh:function(u){},show:function(){this.setVisibility(!0)},hide:function(){this.setVisibility(!1)},setMinScale:function(u){this.setScaleRange(u)},setMaxScale:function(u){this.setScaleRange(null,u)},setScaleRange:function(u,y){var x=d.isDefined(u),z=d.isDefined(y);this.loaded||(this._hasMin=this._hasMin||x,this._hasMax=this._hasMax||z);var q=this.minScale,k=this.maxScale;this.minScale=(x?u:this.minScale)||0;this.maxScale=(z?y:this.maxScale)||0;if(q!==this.minScale||k!==this.maxScale)this.onScaleRangeChange(),
this._processMapScale()},suspend:function(){this._suspended=!0;this.evaluateSuspension()},resume:function(){this._suspended=!1;this.evaluateSuspension()},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&this.visibleAtMapScale&&!this._suspended},evaluateSuspension:function(){this.canResume()?this.suspended&&this._resume():this.suspended||this._suspend()},_suspend:function(){this.suspended=!0;this.attr("data-suspended","");this.onSuspend();if(this._map)this._map.onLayerSuspend(this)},
_resume:function(){this.suspended=!1;this.attr("data-suspended");var u=void 0===this._resumedOnce,y=this.className,x=this._attrs,z=this.getNode(),q;if(u){this._resumedOnce=!0;if(y&&z){var k=z.getAttribute("class")||"";(new RegExp("(^|\\s)"+y+"(\\s|$)","i")).test(k)||z.setAttribute("class",k+((k?" ":"")+y))}if(x&&z)for(q in x)x.hasOwnProperty(q)&&z.setAttribute(q,x[q])}this._refreshRT();this.onResume({firstOccurrence:u});if(this._map)this._map.onLayerResume(this)},_processMapScale:function(){var u=
this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();u!==this.visibleAtMapScale&&(this.onScaleVisibilityChange(),this.evaluateSuspension())},isVisibleAtScale:function(u){return u?p.prototype._isMapAtVisibleScale.apply(this,arguments):!1},_isMapAtVisibleScale:function(u,y){if(!(u||this._map&&this._map.loaded))return!1;var x=this._map;u=u||x.getScale();var z=this.minScale,q=this.maxScale,k=!z,v=!q,B;y&&(B=x.width>x.height?x.width:x.height);k||(u<=z?k=!0:y&&(k=Math.abs(z-u)/z<1/
B));v||(u>=q?v=!0:y&&(v=Math.abs(q-u)/q<1/B));return k&&v},getAttributionData:function(){var u=this.attributionDataUrl,y=new l(c._dfdCanceller);this.hasAttributionData&&u?(y._pendingDfd=b({url:u,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),y._pendingDfd.then(function(x){y.callback(x)},function(x){y.errback(x)})):(u=Error("Layer does not have attribution data"),u.log=!!w.isDebug,y.errback(u));return y},getResourceInfo:function(){var u=this.resourceInfo;return t.isString(u)?n.fromJson(u):
t.clone(u)},getMap:function(){return this._map},getNode:function(){return this._div},attr:function(u,y){var x=this.getNode();if("data-reference"===u&&11>h("ie"))return this;x&&(null==y?x.removeAttribute(u):x.setAttribute(u,y));this._attrs&&(null==y?delete this._attrs[u]:this._attrs[u]=y);return this},setRefreshInterval:function(u){var y=this.refreshInterval;this.refreshInterval=u;this._toggleRT(!1);u&&this._toggleRT(!0);if(y!==u)this.onRefreshIntervalChange();return this},_toggleRT:function(u){u&&
this.refreshInterval?(clearInterval(this._refreshTimer),this._refreshTimer=setInterval(this._scheduledRefresh,6E4*this.refreshInterval)):this._refreshTimer&&(clearInterval(this._refreshTimer),this._refreshTimer=null)},_refreshRT:function(){this._toggleRT(!1);this._toggleRT(!0)},_scheduledRefresh:function(){this.onRefreshTick();!this._map||this.suspended||this.updating||this.refresh({scheduled:!0})},_refreshTS:null,_reCheckTS:/[\?&]_ts=/ig,_reReplaceTS:/([\?&]_ts=)[0-9]+/ig,addTimestampToURL:function(u){var y=
this._refreshTS;y&&(u=this._reCheckTS.test(u)?u.replace(this._reReplaceTS,"$$$1"+y):u+((-1===u.indexOf("?")?"?":"\x26")+"_ts\x3d"+y));return u},setNormalization:function(u){this.normalization=u},setVisibility:function(u){this.visible!==u&&(this.visible=u,this.onVisibilityChange(this.visible),this.evaluateSuspension());this.attr("data-hidden",u?null:"")},onLoad:function(){},onAttach:function(u){},onDetach:function(u){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},
onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onRefreshIntervalChange:function(){},onRefreshTick:function(){},onError:function(){}});h("extend-esri")&&t.setObject("layers.Layer",p,e);return p})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/request/xhr ./core/request/script dojo/request/iframe dojo/dom-construct dojo/io-query ./kernel ./config ./sniff ./lang ./urlUtils ./deferredUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y){function x(ca){ca=new n(ca);return(ca.host+(ca.port?":"+ca.port:"")).toLowerCase()}function z(ca){return this._xhr?this._xhr.getResponseHeader(ca):null}function q(ca,ea){var oa=c.objectToQuery(ca.content);oa&&(ca.url+=(-1===ca.url.indexOf("?")?"?":"\x26")+oa);if(2E3<ca.url.length){if("data:"!==ca.url.toLowerCase().slice(0,5))return ca=new t,ca.reject(l.mixin(Error(),{message:"When using responseType 'image', URL length cannot exceed 2000 characters."})),
ca;if(3E6<ca.url.length)return ca=new t,ca.reject(l.mixin(Error(),{message:"When using responseType 'image', data URL length cannot exceed 3000000 characters."})),ca}var sa=new Image;ea.allowImageDataAccess&&(sa.crossOrigin=ca.withCredentials?"use-credentials":"anonymous");var za=!1,Z=new t(function(ka){za=!0;sa.onload=sa.onerror=sa.onabort=null;sa.src=""});ea=function(ka){sa.onload=sa.onerror=sa.onabort=null;za||Z.reject(Error("Unable to load the resource"))};sa.onload=function(){sa.onload=sa.onerror=
sa.onabort=null;za||Z.resolve(this)};sa.onerror=ea;sa.onabort=ea;sa.alt="";sa.src=ca.url;return Z}function k(ca,ea,oa,sa){var za=!1,Z=!1,ka=!1;if(p.isDefined(ea))if(l.isObject(ea)){za=!!ea.useProxy;Z=!!ea.usePost;ka=!!ea.returnProgress;var ua=ea.crossOrigin}else za=!!ea;ca=l.mixin({},ca);delete ca._credential;ca._ssl&&(ca.url=ca.url.replace(/^http:/i,"https:"));10>r("ie")&&!ja.test(ca.url)&&(ca.url=encodeURI(ca.url));var A=ca.content,F=ca.url,Q=oa&&ca.form,X=O;ua=p.isDefined(ua)?ua:X.useCors;ca.load=
function(Ca){if(Ca){if(Ca.error){var Oa=l.mixin(Error(),Ca.error);Oa.log=!!a.isDebug}else"error"===Ca.status&&(Oa=l.mixin(Error(),Ca),Oa.log=!!a.isDebug);Oa&&(ca.failOk=!Oa.log,p.isDefined(Oa.httpCode)||(Oa.httpCode=Oa.code))}return Oa||Ca};ca.error=function(Ca,Oa){Oa&&Oa.xhr&&Oa.xhr.abort();Ca instanceof Error||(Ca=l.mixin(Error(),Ca));Ca.log=!!a.isDebug;ca.failOk=!Ca.log;X.errorHandler(Ca,Oa);return Ca};ca._token&&(ca.content=ca.content||{},ca.content.token=ca._token);var aa=0;if(A&&F){var pa=c.objectToQuery(A);
aa=pa.length+F.length+1;r("esri-url-encodes-apostrophe")&&(aa=pa.replace(/'/g,"%27").length+F.length+1)}ca.timeout=p.isDefined(ca.timeout)?ca.timeout:X.timeout;ca.handleAs=ca.handleAs||"json";try{var ra=ua&&u.canUseXhr(ca.url)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(ca.url),T=u.hasSameOrigin(ca.url,window.location.href)||ra,U=Z||oa||aa>X.postLength?!0:!1,ba=T||-1===ca.handleAs.indexOf("json")||!ca.callbackParamName||oa?!1:!0,ma=u.getProxyRule(ca.url)||X.alwaysUseProxy||za||!("image"===
ca.handleAs&&!ea.allowImageDataAccess||ba&&!U||T)?!0:!1;oa&&!r("esri-file-upload")&&!ma&&ra&&(ma=!0);if(ma){var da=u.getProxyUrl(F,ua);var Aa=da.path;da._xo&&(ra=!0);!U&&Aa.length+1+aa>X.postLength&&(U=!0);ca.url=Aa+"?"+F;if(U)ca.content=l.mixin(da.query||{},A);else{var R=c.objectToQuery(l.mixin(da.query||{},A));R&&(ca.url+="?"+R);ca.content=null}}if(!ba||U||ma){var P=ca.headers;!ra||P&&P.hasOwnProperty("X-Requested-With")||(P=ca.headers=P||{},P["X-Requested-With"]=null);if(oa){var Y=ca.callbackParamName||
"callback.html",ha=ca.callbackElementName||"textarea",ta,Da,Ga=Q.elements?Q.elements.length:0;if(A=ca.content)for(ta in A.token&&-1<F.toLowerCase().indexOf("/sharing/servers/")&&(F+=(-1===F.indexOf("?")?"?":"\x26")+"token\x3d"+A.token,ca.url=ma?Aa+"?"+F:F,delete A.token),A){var Ma=A[ta];if(p.isDefined(Ma)){var Ia=null;for(Da=0;Da<Ga;Da++){var Fa=Q.elements[Da];if(Fa.name===ta){Ia=Fa;break}}Ia?Ia.value=Ma:sa?Q.append(ta,Ma):Q.appendChild(b.create("input",{type:"hidden",name:ta,value:Ma}))}}if(r("esri-file-upload")){w.forEach(Q.elements,
function(Ca){Ca.name===Y&&Q.removeChild(Ca)});var La=sa?Q:new FormData(Q);if(11<=r("safari")&&"entries"in La&&"delete"in La){sa=[];for(var Ka=La.entries(),M=Ka.next();!M.done;){var W=M.value;W[1]instanceof File&&""===W[1].name&&sa.push(W[0]);M=Ka.next()}sa.forEach(function(Ca){La.delete(Ca)})}ca.contentType=!1;ca.postData=La;delete ca.form}else{Q.enctype="multipart/form-data";9>r("ie")&&(Q.encoding="multipart/form-data");Q.method="post";w.some(Q.elements,function(Ca){return Ca.name===Y})||Q.appendChild(b.create("input",
{type:"hidden",name:Y,value:ha}));if(-1!==F.toLowerCase().indexOf("addattachment")||-1!==F.toLowerCase().indexOf("updateattachment"))F+=(-1===F.indexOf("?")?"?":"\x26")+Y+"\x3d"+ha,ca.url=ma?Aa+"?"+F:F;delete ca.content}}if(ra&&!ca.hasOwnProperty("withCredentials")&&"with-credentials"===O.useCors){F=ma?Aa:F;var fa=u.canUseXhr(F,!0),qa=-1<fa?O.corsEnabledServers[fa]:null;if(qa&&qa.hasOwnProperty("withCredentials"))qa.withCredentials&&(ca.withCredentials=!0);else if(f.id){var wa=f.id.findServerInfo(F);
wa&&wa.webTierAuth&&(ca.withCredentials=!0)}}ca=I?I(ca):ca;if("image"===ca.handleAs)return q(ca,ea);if(U){if(oa&&!r("esri-file-upload")){var ya=new t(function(){Ba.cancel()});var Ba=d.post(ca.url,ca).then(function(Ca){ya.resolve(Ca)}).otherwise(function(Ca){ya.reject(Ca)});ya.addCallback(function(Ca){return ca.load(Ca)});ya.addErrback(function(Ca){return ca.error(Ca)});return ya}!ma&&r("safari")&&(ca.url+=(-1===ca.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+na++);if(ka){ca.uploadProgress=
!0;ca.data=ca.postData;ca.query=ca.content;ya=new t(function(){Ja.cancel()});var Ja=g.post(ca.url,ca).then(function(Ca){ya.resolve(Ca)},function(Ca){ya.reject(Ca)},function(Ca){ya.progress({transferType:Ca.transferType,loaded:Ca.loaded,total:Ca.total})});ya.addCallback(function(Ca){return ca.load(Ca)});ya.addErrback(function(Ca){return ca.error(Ca)});return ya}return h.post(ca)}return h.get(ca)}ca=I?I(ca):ca;ca.jsonp=ca.callbackParamName;ca.query=ca.content;ya=new t(function(){Ha.cancel()});var Ha=
e.get(ca.url,ca).then(function(Ca){ya.resolve(Ca)}).otherwise(function(Ca){ya.reject(Ca)});ya.addCallback(function(Ca){return ca.load(Ca)});ya.addErrback(function(Ca){return ca.error(Ca)});return ya}catch(Ca){return ya=new t,ya.errback(ca.error(Ca)),ya}}function v(ca){var ea=O.corsStatus,oa=u.canUseXhr(ca,!0);-1<oa&&O.corsEnabledServers.splice(oa,1);var sa=new t;sa.reject({log:!!a.isDebug});ea[x(ca)]=sa.promise;return oa}function B(ca){var ea=O.corsStatus;try{var oa=x(ca);if(O.corsDetection&&O.useCors&&
r("esri-cors")&&ca&&-1!==ca.toLowerCase().indexOf("/rest/services")&&!u.hasSameOrigin(ca,window.location.href)&&!u.canUseXhr(ca)){if(ea[oa]&&!ea[oa].isCanceled())return ea[oa];var sa=new t(y._dfdCanceller);ea[oa]=sa.promise;var za=h.get({url:ca.substring(0,ca.toLowerCase().indexOf("/rest/")+6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null},timeout:1E3*O.corsDetectionTimeout});sa._pendingDfd=za;za.then(function(Z){Z?(u.canUseXhr(ca)||O.corsEnabledServers.push(oa),
sa.resolve()):sa.reject()},function(Z){sa.reject(Z)});return sa.promise}}catch(Z){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}return la}function E(ca){I=ca}function N(ca,ea,oa,sa){function za(T){T._pendingDfd=k(oa,sa,X,Q);if(!T._pendingDfd){T.ioArgs=T._pendingDfd&&T._pendingDfd.ioArgs;var U=Error("Deferred object is missing");U.log=!!a.isDebug;T.errback(U);T._pendingDfd=null;return T}T._pendingDfd.addCallback(function(ba){if(!ba)return ba;var ma=T._pendingDfd&&
T._pendingDfd.ioArgs&&T._pendingDfd.ioArgs.xhr;if(!ma)return ba;if(ma=ma.getResponseHeader("Content-Type"))if(ma=ma.toLowerCase(),-1===ma.indexOf("text/plain")&&-1===ma.indexOf("application/json"))return ba;if(ba instanceof ArrayBuffer&&750>=ba.byteLength)ma=new Blob([ba]);else if(ba instanceof Blob&&750>=ba.size)ma=ba;else return ba;var da=new t,Aa=new FileReader;Aa.readAsText(ma);Aa.onloadend=function(){if(!Aa.error)try{var R=JSON.parse(Aa.result);if(R.error)var P=R.error}catch(Y){}P?(P=l.mixin(Error(),
P),P.log=!!a.isDebug,null==P.httpCode&&(P.httpCode=P.code),da.reject(P)):da.resolve(ba)};return da.promise}).addCallback(function(ba){T.ioArgs=T._pendingDfd&&T._pendingDfd.ioArgs;sa.returnFullResponse&&(ba={data:ba,_xhr:T.ioArgs&&T.ioArgs.xhr,getHeader:z});T.callback(ba);T._pendingDfd=null}).addErrback(function(ba){if(ba){var ma=ba.code;var da=ba.subcode;var Aa=(Aa=ba.messageCode)&&Aa.toUpperCase()}if(ba&&403==ma&&(4==da||ba.message&&-1<ba.message.toLowerCase().indexOf("ssl")&&-1===ba.message.toLowerCase().indexOf("permission"))){if(!oa._ssl){oa._ssl=
oa._sslFromServer=!0;N(T,!0,oa,sa);return}}else if(ba&&415==ba.status){if(v(oa.url),!oa._err415){oa._err415=1;N(T,!0,oa,sa);return}}else if(f.id&&-1!==w.indexOf(f.id._errorCodes,ma)&&!f.id._isPublic(oa.url)&&!ka&&(403!=ma||-1===w.indexOf(V,Aa)&&(!p.isDefined(da)||2==da&&oa._token))){T._pendingDfd=f.id.getCredential(oa.url,{token:oa._token,error:ba});T._pendingDfd.addCallback(function(R){oa._token=R.token;oa._credential=R;oa._ssl=oa._sslFromServer||R.ssl;N(T,!0,oa,sa)}).addErrback(function(R){T.errback(R);
T._pendingDfd=null});return}T.ioArgs=T._pendingDfd&&T._pendingDfd.ioArgs;T.isFulfilled()||T.errback(ba);T._pendingDfd=null}).then(null,null,function(ba){T.progress(ba)})}var Z=oa.form,ka=sa.disableIdentityLookup,ua=sa._preLookup,A=!1;if(r("esri-workers")&&!1!==O.useWorkers)if(!0===sa.useWorkers||!0===O.useWorkers)A=!0;else if(sa.workerOptions){var F=sa.workerOptions;if(F.callback||F.worker&&F.worker.worker instanceof Worker)A=!0}var Q=Z&&r("esri-file-upload")&&Z instanceof FormData,X=Z&&(Z.elements?
w.some(Z.elements,function(T){return"file"===T.type}):Q),aa=-1!==oa.url.toLowerCase().indexOf("token\x3d")||oa.content&&oa.content.token||X&&w.some(Z.elements,function(T){return"token"===T.name})?1:0;if(!ea){ca.addCallback(function(T){if((/\/sharing\/rest\/accounts\/self/i.test(oa.url)||/\/sharing\/rest\/portals\/self/i.test(oa.url))&&!aa&&!oa._token&&T&&T.user&&T.user.username){O.webTierAuthServers.push(x(oa.url));T=O.corsEnabledServers;var U=u.canUseXhr(oa.url,!0),ba={host:x(oa.url),withCredentials:!0};
if(-1===U)T.push(ba);else{var ma=T[U];ma instanceof RegExp?(ba.host=ma,T.splice(U,1,ba)):"object"===typeof ma?ma.withCredentials=!0:T.splice(U,1,ba)}}if(T=oa._credential)if(U=(U=f.id.findServerInfo(T.server))&&U.owningSystemUrl)U=U.replace(/\/?$/,"/sharing"),(T=f.id.findCredential(U,T.userId))&&-1===f.id._getIdenticalSvcIdx(U,T)&&T.resources.splice(0,0,U)});ca.addBoth(function(T){delete oa._credential;!T||r("ie")&&T.nodeType||(T._ssl=oa._ssl)});var pa=oa.load,ra=oa.error;pa&&ca.addCallback(function(T){var U=
ca._pendingDfd;U=U&&U.ioArgs;return pa.call(U&&U.args,T,U)});ra&&ca.addErrback(function(T){var U=ca._pendingDfd;U=U&&U.ioArgs;return ra.call(U&&U.args,T,U)})}!f.id||aa||oa._token||f.id._isPublic(oa.url)||ka&&!ua||!(ea=f.id.findCredential(oa.url))||(oa._token=ea.token,oa._ssl=ea.ssl);A?sa.workerOptions&&sa.workerOptions.worker?(K||(K=h),h=sa.workerOptions.worker,za(ca)):D(["./workers/RequestClient"],function(T){K||(K=h);if(sa.workerOptions){var U=sa.workerOptions;h=T.getClient(U.callback,U.cbFunction)}else h=
T.getClient();za(ca)}):(K&&(h=K,K=null),za(ca));return ca}function G(ca,ea){ca.url=u.fixUrl(ca.url);ea=ea||{};var oa=new t(y._dfdCanceller),sa=B(ca.url);oa._pendingDfd=sa;sa.always(function(za){za&&"cancel"===za.dojoType?oa.reject(za):N(oa,!1,ca,ea)});return oa}var K=null,I,O=m.defaults.io,V=["COM_0056","COM_0057","SB_0008"],na=0,ja=/%[0-9A-F]{2}/i,la=function(){var ca=new t;ca.resolve();return ca.promise}();G._makeRequest=k;G._processRequest=N;G._disableCors=v;G._detectCors=B;G.setRequestPreCallback=
E;r("extend-esri")&&(f.request=G,f._makeRequest=k,f._processRequest=N,f._disableCors=v,f._detectCors=B,f.setRequestPreCallback=E);return G})},"esri/core/request/script":function(){define("require exports dojo/Deferred dojo/request/script dojo/text!./iframe.html ../sniff".split(" "),function(D,w,a,t,l,n){function h(){var u=document.createElement("iframe");u.name="esri_core_jsonp_iframe";u.style.display="none";u.setAttribute("sandbox","allow-scripts");if(!n("ff")&&"srcdoc"in u){var y=D.toUrl("dojo/dojo.js"),
x=l.replace("../../../dojo/dojo.js",y);y=y.slice(0,-7);x=x.replace("../../../dojo/",y);u.srcdoc=x}else x=D.toUrl("./iframe.html"),"http:"===window.location.protocol&&0===x.indexOf("https:")&&(x=x.replace("https:","http:")),u.src=x;document.body.appendChild(u);return u}function g(){var u=new MessageChannel;u.port1.addEventListener("message",e);u.port1.start();return u}function e(u){var y=u.data;if("ready"===y){y=0;for(var x=r;y<x.length;y++)u=x[y],b(u,f);r=null}else if(u=p[y.id])delete p[y.id],y.isError?
u.dfd.reject(Error(y.message)):u.dfd.resolve(y.response)}function d(u,y){u.addEventListener("load",function(){u.contentWindow.postMessage("init","*",[y.port2])})}function b(u,y){p[u.message.id]=u;y.port1.postMessage(u.message)}Object.defineProperty(w,"__esModule",{value:!0});var c,f,m=0,r=[],p={};w.get=function(u,y){if(!n("esri-script-sandbox"))return t.get(u,y);var x=null;y&&(x={jsonp:y.jsonp,preventCache:y.preventCache,query:y.query,timeout:y.timeout});y=new a(function(){if(r){var q=r.indexOf(z);
-1<q&&r.splice(q,1)}else z.message.id in p&&delete p[z.message.id]});var z={dfd:y,message:{id:"id"+(++m+Math.random()),url:u,options:x}};c||(c=h(),f=g(),d(c,f));r?r.push(z):b(z,f);return y.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(D,w,a,t,l,n,h,g,e,d,b){function c(B,E){B.canDelete&&u._remove(B.id,E.options.frameDoc,!0)}function f(B){v&&v.length&&(l.forEach(v,
function(E){u._remove(E.id,E.frameDoc);E.frameDoc=null}),v=[]);return B.options.jsonp?!B.data:!0}function m(B){return!!this.scriptLoaded}function r(B){return(B=B.options.checkString)&&eval("typeof("+B+') !\x3d\x3d "undefined"')}function p(B,E){if(this.canDelete){var N=this.response.options;v.push({id:this.id,frameDoc:N.ioArgs?N.ioArgs.frameDoc:N.frameDoc});N.ioArgs&&(N.ioArgs.frameDoc=null);N.frameDoc=null}E?this.reject(E):this.resolve(B)}function u(B,E,N){var G=a.parseArgs(B,a.deepCopy({},E));B=
G.url;E=G.options;var K=a.deferred(G,c,f,E.jsonp?null:E.checkString?r:m,p);n.mixin(K,{id:y+x++,canDelete:!1});E.jsonp&&((new RegExp("[?\x26]"+E.jsonp+"\x3d")).test(B)||(B+=(~B.indexOf("?")?"\x26":"?")+E.jsonp+"\x3d"+(E.frameDoc?"parent.":"")+y+"_callbacks."+K.id),K.canDelete=!0,k[K.id]=function(V){G.data=V;K.handleResponse(G)});a.notify&&a.notify.emit("send",G,K.promise.cancel);if(!E.canAttach||E.canAttach(K)){var I=u._attach(K.id,B,E.frameDoc,function(V){if(!(V instanceof Error)){var na=Error("Error loading "+
(V.target?V.target.src:"script"));na.source=V;V=na}K.reject(V);u._remove(K.id,E.frameDoc,!0)});if(!E.jsonp&&!E.checkString)var O=h(I,z,function(V){if("load"===V.type||q.test(I.readyState))O.remove(),K.scriptLoaded=V})}w(K);return N?K:K.promise}d.add("script-readystatechange",function(B,E){return"undefined"!==typeof E.createElement("script").onreadystatechange&&("undefined"===typeof B.opera||"[object Opera]"!==B.opera.toString())});var y=D.id.replace(/[\/\.\-]/g,"_"),x=0,z=d("script-readystatechange")?
"readystatechange":"load",q=/complete|loaded/,k=t.global[y+"_callbacks"]={},v=[];u.get=u;u._attach=function(B,E,N,G){N=N||b.doc;var K=N.createElement("script");if(G)h.once(K,"error",G);K.type="text/javascript";try{K.src=E}catch(I){G&&G(K)}K.id=B;K.async=!0;K.charset="utf-8";return N.getElementsByTagName("head")[0].appendChild(K)};u._remove=function(B,E,N){e.destroy(g.byId(B,E));k[B]&&(N?k[B]=function(){delete k[B]}:delete k[B])};u._callbacksProperty=y+"_callbacks";return u})},"esri/core/sniff":function(){define(["../sniff"],
function(D){return D})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom ../NodeList-manipulate".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c){function f(q){return!this.isFulfilled()}function m(q){return!!this._finished}function r(q,k){if(!k)try{var v=q.options,B=u.doc(u._frame),E=v.handleAs;if("html"!==E){if("xml"===E)if("html"===B.documentElement.tagName.toLowerCase()){g("a",
B.documentElement).orphan();var N=B.documentElement.innerText||B.documentElement.textContent;N=N.replace(/>\s+</g,"\x3e\x3c");q.text=n.trim(N)}else q.data=B;else q.text=B.getElementsByTagName("textarea")[0].value;l(q)}else q.data=B}catch(G){k=G}k?this.reject(k):this._finished?this.resolve(q):this.reject(Error("Invalid dojo/request/iframe request state"))}function p(q){this._callNext()}function u(q,k,v){var B=t.parseArgs(q,t.deepCreate(z,k),!0);q=B.url;k=B.options;if("GET"!==k.method&&"POST"!==k.method)throw Error(k.method+
" not supported by dojo/request/iframe");u._frame||(u._frame=u.create(u._iframeName,x+"();"));q=t.deferred(B,null,f,m,r,p);q._callNext=function(){this._calledNext||(this._calledNext=!0,u._currentDfd=null,u._fireNextRequest())};q._legacy=v;u._dfdQueue.push(q);u._fireNextRequest();a(q);return v?q:q.promise}var y=D.id.replace(/[\/\.\-]/g,"_"),x=y+"_onload";c.global[x]||(c.global[x]=function(){var q=u._currentDfd;if(q){var k=d.byId(q.response.options.form)||q._tmpForm;if(k){for(var v=q._contentToClean,
B=0;B<v.length;B++)for(var E=v[B],N=0;N<k.childNodes.length;N++){var G=k.childNodes[N];if(G.name===E){b.destroy(G);break}}q._originalAction&&k.setAttribute("action",q._originalAction);q._originalMethod&&(k.setAttribute("method",q._originalMethod),k.method=q._originalMethod);q._originalTarget&&(k.setAttribute("target",q._originalTarget),k.target=q._originalTarget)}q._tmpForm&&(b.destroy(q._tmpForm),delete q._tmpForm);q._finished=!0}else u._fireNextRequest()});var z={method:"POST"};u.create=function(q,
k,v){if(c.global[q])return c.global[q];if(c.global.frames[q])return c.global.frames[q];v||(e("config-useXDomain")&&!e("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),v=e("config-dojoBlankHtmlUrl")||w.toUrl("dojo/resources/blank.html"));k=b.place('\x3ciframe id\x3d"'+q+'" name\x3d"'+q+'" src\x3d"'+v+'" onload\x3d"'+k+
'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',c.body());return c.global[q]=k};u.doc=function(q){if(q.contentDocument)return q.contentDocument;var k=q.name;if(k){var v=c.doc.getElementsByTagName("iframe");if(q.document&&v[k].contentWindow&&v[k].contentWindow.document)return v[k].contentWindow.document;if(c.doc.frames[k]&&c.doc.frames[k].document)return c.doc.frames[k].document}return null};u.setSrc=function(q,k,v){q=c.global.frames[q.name];
q.contentWindow&&(q=q.contentWindow);try{v?q.location.replace(k):q.location=k}catch(B){console.log("dojo/request/iframe.setSrc: ",B)}};u._iframeName=y+"_IoIframe";u._notifyStart=function(){};u._dfdQueue=[];u._currentDfd=null;u._fireNextRequest=function(){try{if(!u._currentDfd&&u._dfdQueue.length){do var q=u._currentDfd=u._dfdQueue.shift();while(q&&(q.canceled||q.isCanceled&&q.isCanceled())&&u._dfdQueue.length);if(!q||q.canceled||q.isCanceled&&q.isCanceled())u._currentDfd=null;else{var k=q.response,
v=k.options,B=q._contentToClean=[],E=d.byId(v.form),N=t.notify,G=v.data||null;if(!q._legacy&&"POST"===v.method&&!E)E=q._tmpForm=b.create("form",{name:y+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},c.body());else if("GET"===v.method&&E&&-1<k.url.indexOf("?")){var K=k.url.slice(k.url.indexOf("?")+1);G=n.mixin(h.queryToObject(K),G)}if(E){if(!q._legacy){var I=E;do I=I.parentNode;while(I&&I!==c.doc.documentElement);I||(E.style.position="absolute",E.style.left="-1000px",E.style.top=
"-1000px",c.body().appendChild(E));E.name||(E.name=y+"_form")}if(G){I=function(ea,oa){b.create("input",{type:"hidden",name:ea,value:oa},E);B.push(ea)};for(var O in G){var V=G[O];if(n.isArray(V)&&1<V.length)for(K=0;K<V.length;K++)I(O,V[K]);else{var na=g("input[name\x3d'"+O+"']",E);-1==na.indexOf()?I(O,V):na.val(V)}}}var ja=E.getAttributeNode("action"),la=E.getAttributeNode("method"),ca=E.getAttributeNode("target");k.url&&(q._originalAction=ja?ja.value:null,ja?ja.value=k.url:E.setAttribute("action",
k.url));q._legacy?la&&la.value||(la?la.value=v.method:E.setAttribute("method",v.method)):(q._originalMethod=la?la.value:null,la?la.value=v.method:E.setAttribute("method",v.method));q._originalTarget=ca?ca.value:null;ca?ca.value=u._iframeName:E.setAttribute("target",u._iframeName);E.target=u._iframeName;N&&N.emit("send",k,q.promise.cancel);u._notifyStart(k);E.submit()}else v="",k.options.data&&(v=k.options.data,"string"!==typeof v&&(v=h.objectToQuery(v))),I=k.url+(-1<k.url.indexOf("?")?"\x26":"?")+
v,N&&N.emit("send",k,q.promise.cancel),u._notifyStart(k),u.setSrc(u._frame,I,!0)}}}catch(ea){q.reject(ea)}};t.addCommonMethods(u,["GET","POST"]);return u})},"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(D,w,a,t,l){function n(e){for(;e.childNodes[0]&&1==e.childNodes[0].nodeType;)e=e.childNodes[0];return e}function h(e,d){"string"==typeof e?(e=t.toDom(e,d&&d.ownerDocument),11==e.nodeType&&(e=e.childNodes[0])):
1==e.nodeType&&e.parentNode&&(e=e.cloneNode(!1));return e}var g=D.NodeList;w.extend(g,{_placeMultiple:function(e,d){e="string"==typeof e||e.nodeType?D(e):e;for(var b=[],c=0;c<e.length;c++)for(var f=e[c],m=this.length,r=m-1,p;p=this[r];r--)0<c&&(p=this._cloneNode(p),b.unshift(p)),r==m-1?t.place(p,f,d):f.parentNode.insertBefore(p,f),f=p;b.length&&(b.unshift(0),b.unshift(this.length-1),Array.prototype.splice.apply(this,b));return this},innerHTML:function(e){return arguments.length?this.addContent(e,
"only"):this[0].innerHTML},text:function(e){if(arguments.length){for(var d=0,b;b=this[d];d++)1==b.nodeType&&l.set(b,"textContent",e);return this}var c="";for(d=0;b=this[d];d++)c+=l.get(b,"textContent");return c},val:function(e){if(arguments.length){for(var d=w.isArray(e),b=0,c;c=this[b];b++){var f=c.nodeName.toUpperCase(),m=c.type,r=d?e[b]:e;if("SELECT"==f)for(f=c.options,m=0;m<f.length;m++){var p=f[m];p.selected=c.multiple?-1!=a.indexOf(e,p.value):p.value==r}else"checkbox"==m||"radio"==m?c.checked=
c.value==r:c.value=r}return this}if((c=this[0])&&1==c.nodeType){e=c.value||"";if("SELECT"==c.nodeName.toUpperCase()&&c.multiple){e=[];f=c.options;for(m=0;m<f.length;m++)p=f[m],p.selected&&e.push(p.value);e.length||(e=null)}return e}},append:function(e){return this.addContent(e,"last")},appendTo:function(e){return this._placeMultiple(e,"last")},prepend:function(e){return this.addContent(e,"first")},prependTo:function(e){return this._placeMultiple(e,"first")},after:function(e){return this.addContent(e,
"after")},insertAfter:function(e){return this._placeMultiple(e,"after")},before:function(e){return this.addContent(e,"before")},insertBefore:function(e){return this._placeMultiple(e,"before")},remove:g.prototype.orphan,wrap:function(e){if(this[0]){e=h(e,this[0]);for(var d=0,b;b=this[d];d++){var c=this._cloneNode(e);b.parentNode&&b.parentNode.replaceChild(c,b);n(c).appendChild(b)}}return this},wrapAll:function(e){if(this[0]){e=h(e,this[0]);this[0].parentNode.replaceChild(e,this[0]);e=n(e);for(var d=
0,b;b=this[d];d++)e.appendChild(b)}return this},wrapInner:function(e){if(this[0]){e=h(e,this[0]);for(var d=0;d<this.length;d++){var b=this._cloneNode(e);this._wrap(w._toArray(this[d].childNodes),null,this._NodeListCtor).wrapAll(b)}}return this},replaceWith:function(e){e=this._normalize(e,this[0]);for(var d=0,b;b=this[d];d++)this._place(e,b,"before",0<d),b.parentNode.removeChild(b);return this},replaceAll:function(e){e=D(e);for(var d=this._normalize(this,this[0]),b=0,c;c=e[b];b++)this._place(d,c,"before",
0<b),c.parentNode.removeChild(c);return this},clone:function(){for(var e=[],d=0;d<this.length;d++)e.push(this._cloneNode(this[d]));return this._wrap(e,this,this._NodeListCtor)}});g.prototype.html||(g.prototype.html=g.prototype.innerHTML);return g})},"esri/layers/support/webglUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],function(D,w,a,t){var l=!1,n=a("esri-webgl-max-contexts");n=null!=n?n:a("esri-mobile")?8:16;var h={isWebGLSupported:function(){return!!l},
isWebGLEnabled:function(){return this.isWebGLSupported()&&!!a("esri-featurelayer-webgl")},createCanvas:function(g,e){var d=document.createElement("canvas");d.style.width=g+"px";d.style.height=e+"px";return d},createWebGLContext:function(g){var e;w.some(["webgl","experimental-webgl","webkit-3d","moz-webgl"],function(d){try{e=g.getContext?g.getContext(d):null}catch(b){e=null}return!!e});return e},_contextOwners:[],isContextAvailable:function(){return-1===n||0<n&&h._contextOwners.length<n},acquireContext:function(g){return-1!==
w.indexOf(h._contextOwners,g)?!0:h.isContextAvailable()?(h._contextOwners.push(g),!0):!1},releaseContext:function(g){g=w.indexOf(h._contextOwners,g);-1!==g&&h._contextOwners.splice(g,1)}};l=h.createWebGLContext(h.createCanvas());a("extend-esri")&&D.setObject("layers.support.webglUtils",h,t);return h})},"esri/layers/support/WebGLSurface":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],function(D,w,a,t,l){D=D(null,{map:null,node:null,renderers:null,
constructor:function(n){w.mixin(this,n);this.renderers=[]},destroy:function(){a.forEach(this.renderers,function(n){n.destroy()});this.renderers=null},getEventSource:function(){return this.node},createRenderer:function(n,h,g,e){n=new n({surface:this,width:h,height:g,map:this.map,layer:e});this.renderers.push(n);return n},destroyRenderer:function(n){var h=a.indexOf(this.renderers,n);-1<h&&(n.destroy(),this.renderers.splice(h,1))},_createNode:function(){var n=document.createElement("div");n.style.pointerEvents=
"auto";n.style.position="absolute";return n}});t("extend-esri")&&w.setObject("layers.support.WebGLSurface",D,l);return D})},"esri/domUtils":function(){define(["./kernel","dojo/_base/connect","dojo/_base/lang","dojo/dom-style","dojo/has"],function(D,w,a,t,l){var n={show:function(h){if(h=n.getNode(h))h.style.display="block"},getNode:function(h){return h&&h.domNode||h},hide:function(h){if(h=n.getNode(h))h.style.display="none"},toggle:function(h){if(h=n.getNode(h))h.style.display="none"===h.style.display?
"block":"none"},documentBox:8>=l("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(h){if(h=this.getNode(h)){var g=0,e=0,d=0,b=0,c=0,f=0;return[w.connect(h,"ontouchstart",function(m){g=m.touches[0].screenX;e=m.touches[0].screenY;d=h.scrollWidth;b=h.scrollHeight;c=h.clientWidth;f=h.clientHeight}),w.connect(h,"ontouchmove",function(m){m.preventDefault();var r=h.firstChild;r instanceof Text&&(r=h.childNodes[1]);
var p=r._currentX||0,u=r._currentY||0;p+=m.touches[0].screenX-g;0<p?p=0:0>p&&Math.abs(p)+c>d&&(p=-1*(d-c));r._currentX=p;u+=m.touches[0].screenY-e;0<u?u=0:0>u&&Math.abs(u)+f>b&&(u=-1*(b-f));r._currentY=u;t.set(r,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+p+"px, "+u+"px)"});g=m.touches[0].screenX;e=m.touches[0].screenY})]}}};l("extend-esri")&&a.mixin(D,n);return n})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(h){h&&w.isObject(h)&&(this.size="auto"===this.size?this.size:t.pt2px(this.size),this.xoffset=t.pt2px(this.xoffset),this.yoffset=t.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(h){this.angle=h;return this},setSize:function(h){this.size=h;return this},setOffset:function(h,g){this.xoffset=h;this.yoffset=g;return this},toJson:function(){var h=t.px2pt(this.size);
h=isNaN(h)?void 0:h;var g=t.px2pt(this.xoffset);g=isNaN(g)?void 0:g;var e=t.px2pt(this.yoffset);e=isNaN(e)?void 0:e;return w.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:h,angle:this.angle&&-1*this.angle,xoffset:g,yoffset:e})}});a("extend-esri")&&w.setObject("symbol.MarkerSymbol",D,l);return D})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../Color".split(" "),function(D,w,a,t,l,n){D=D(null,{declaredClass:"esri.symbol.Symbol",
color:new n([0,0,0,1]),type:null,constructor:function(h){h&&w.isObject(h)&&(w.mixin(this,h),this.color&&l.isDefined(this.color[0])&&(this.color=n.toDojoColor(this.color)),(h=this.type)&&0===h.indexOf("esri")&&(this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[h]))},setColor:function(h){this.color=h;return this},toJson:function(){return{color:n.toJsonColor(this.color)}}});
a("extend-esri")&&w.setObject("symbol.Symbol",D,t);return D})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(D,w,a,t,l,n,h,g,e){var d={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_TRIANGLE:"triangle",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},b={style:d.STYLE_CIRCLE,color:[255,255,255,
.25],size:12,angle:0,xoffset:0,yoffset:0};D=D(g,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",triangle:"esriSMSTriangle",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(c,f,m,r){c?w.isString(c)?(this.style=c,f&&(this.size=f),m&&(this.outline=m),r&&(this.color=r)):(this.style=h.valueOf(this._styles,this.style),c.outline&&(this.outline=new e(c.outline))):(w.mixin(this,
b),this.size=l.pt2px(this.size),this.outline=new e(this.outline),this.color=new a(this.color));this.style||(this.style=d.STYLE_CIRCLE)},setStyle:function(c){this.style=c;return this},setPath:function(c){this.path=c;this.setStyle(d.STYLE_PATH);return this},setOutline:function(c){this.outline=c;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(c,f,m){this._targetWidth=c;this._targetHeight=f;this._spikeSize=m},getShapeDescriptors:function(){var c,
f=this.style,m=(this.size||l.pt2px(b.size))/2,r=0-m,p=0+m,u=0-m,y=0+m;switch(f){case d.STYLE_CIRCLE:var x={type:"circle",cx:0,cy:0,r:m};var z=this.getFill();if(c=this.getStroke())c.style=c.style||"Solid";break;case d.STYLE_CROSS:x={type:"path",path:"M "+r+",0 L "+p+",0 M 0,"+u+" L 0,"+y+" E"};z=null;c=this.getStroke();break;case d.STYLE_DIAMOND:x={type:"path",path:"M "+r+",0 L 0,"+u+" L "+p+",0 L 0,"+y+" L "+r+",0 Z"};z=this.getFill();c=this.getStroke();break;case d.STYLE_SQUARE:x={type:"path",path:"M "+
r+","+y+" L "+r+","+u+" L "+p+","+u+" L "+p+","+y+" L "+r+","+y+" Z"};z=this.getFill();c=this.getStroke();break;case d.STYLE_TRIANGLE:x={type:"path",path:"M "+r+","+y+" L 0,"+u+" L "+p+","+y+" L "+r+","+y+" Z"};z=this.getFill();c=this.getStroke();break;case d.STYLE_X:x={type:"path",path:"M "+r+","+y+" L "+p+","+u+" M "+r+","+u+" L "+p+","+y+" E"};z=null;c=this.getStroke();break;case d.STYLE_PATH:x={type:"path",path:this.path||""},z=this.getFill(),c=this.getStroke()}return{defaultShape:x,fill:z,stroke:c}},
toJson:function(){var c=this.style,f=this.outline,m=w.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[c]||"esriSMSCircle"});f&&(m.outline=f.toJson());"x"===c||"cross"===c?delete m.color:"target"===c&&(m.style="esriSMSSquare",delete m.color,0<this._targetHeight&&0<this._targetWidth&&(m.size=l.px2pt(Math.max(this._targetHeight,this._targetWidth))));m.path=this.path;return h.fixJson(m)}});w.mixin(D,d);D.defaultProps=b;t("extend-esri")&&(w.setObject("symbol.SimpleMarkerSymbol",
D,n),n.symbol.defaultSimpleMarkerSymbol=b);return D})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./LineSymbol".split(" "),function(D,w,a,t,l,n,h,g){var e={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",
STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},d={color:[0,0,0,1],style:e.STYLE_SOLID,width:1};D=D(g,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",marker:null,_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",
longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(b,c,f){b?w.isString(b)?(this.style=b,c&&(this.color=c),f&&(this.width=f)):(this.style=h.valueOf(this._styles,b.style)||e.STYLE_SOLID,this.marker=b.marker):(w.mixin(this,d),this.color=new a(this.color),this.width=l.pt2px(this.width))},setStyle:function(b){this.style=b;return this},setMarker:function(b){this.marker=b},getStroke:function(){return this.style===e.STYLE_NULL||0===this.width?null:{color:this.color,style:this.style,
width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return h.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style],marker:this.marker?w.clone(this.marker):void 0}))}});w.mixin(D,e);D.defaultProps=d;t("extend-esri")&&(w.setObject("symbol.SimpleLineSymbol",D,n),n.symbol.defaultSimpleLineSymbol=d);return D})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.symbol.LineSymbol",constructor:function(h){w.isObject(h)?this.width=t.pt2px(this.width):this.width=12},setWidth:function(h){this.width=h;return this},toJson:function(){var h=t.px2pt(this.width);h=isNaN(h)?void 0:h;return w.mixin(this.inherited("toJson",arguments),{width:h})}});a("extend-esri")&&w.setObject("symbol.LineSymbol",D,l);return D})},"esri/symbols/utils":function(){define("dojo/_base/lang dojo/_base/window dojo/has dojox/gfx ../kernel ../Color".split(" "),
function(D,w,a,t,l,n){function h(f){f.removeAttribute("marker-start");f.removeAttribute("marker-end");f.removeAttribute("opacity")}function g(f,m){for(var r in m)f.setAttribute(r,m[r])}function e(f,m,r){m="url(#"+m.getAttribute("id")+")";f.rawNode.setAttribute("marker-"+r,m)}var d=-1!==t.renderer.toLowerCase().indexOf("svg"),b=9===a("ie"),c={marker:{markerWidth:"6",markerHeight:"6",markerUnits:"strokeWidth",orient:"auto"},spear:{marker:{end:{viewBox:"0 0 25.4 23.43",refX:"20",refY:"12.76"},start:{viewBox:"-25.4 0 25.4 23.43",
refX:"-20",refY:"12.76"}},path:{common:{d:"M1.63 23.43 L5.37 16.6 L5.37 8.93 L1.63 2.09 L25.4 12.76 L1.63 23.43 Z","stroke-width":"0","fill-opacity":"1"},start:{transform:"matrix(-1, 0, 0, 1, 0, 0)"}}}};t={applyLineMarker:function(f,m,r,p){if(d&&!b){var u=f&&f.rawNode,y=m.marker;r=r||m.color;u&&"none"!==m.style&&r&&y&&"arrow"===y.style&&y.placement?u.getTotalLength&&0===u.getTotalLength()?h(u):(m=-1!==y.placement.indexOf("begin"),y=-1!==y.placement.indexOf("end"),m||y?(u.removeAttribute("stroke-opacity"),
u.setAttribute("opacity",r.a),m?(m=p(f,r,"spear","start"),e(f,m,"start")):u.removeAttribute("marker-start"),y?(r=p(f,r,"spear","end"),e(f,r,"end")):u.removeAttribute("marker-end")):h(u)):u&&h(u)}},createSVGMarker:function(f,m,r,p){r=c[r];var u=w.doc.createElementNS("http://www.w3.org/2000/svg","marker");u.setAttribute("id",m);g(u,c.marker);g(u,r.marker[p]);m=w.doc.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("fill",f.toCss());g(m,r.path.common);g(m,r.path[p]);u.appendChild(m);
return u},create2DColorRamp:function(f){var m=f.surface.createGroup(),r=f.colors,p=f.numClasses;f=(f.size||75)/p;for(var u=0;u<p;u++)for(var y=u*f,x=0;x<p;x++){var z=r[u][x];m.createRect({x:x*f,y:y,width:f,height:f}).setFill(z).setStroke(null)}return m},setSymbolFillColor:function(f,m){if(f)switch(m=m?new n(m):null,f.type){case "simplemarkersymbol":"cross"===f.style||"x"===f.style?f.outline&&f.outline.setColor(m):f.setColor(m);break;case "simplelinesymbol":case "cartographiclinesymbol":case "simplefillsymbol":case "shieldlabelsymbol":case "textsymbol":f.setColor(m)}}};
a("extend-esri")&&D.setObject("renderer.utils",t,l);return t})},"esri/layers/TileInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../SpatialReference ../geometry/Point ./LOD".split(" "),function(D,w,a,t,l,n,h,g,e){D=D(null,{declaredClass:"esri.layers.TileInfo",constructor:function(d){w.mixin(this,d);this.width=this.cols;this.height=this.rows;this._levelToLOD={};d=this.spatialReference;var b=this.origin;d&&(d=this.spatialReference=new h(d.toJson?
d.toJson():d));b&&(this.origin=new g(b.toJson?b.toJson():b),!b.spatialReference&&d&&this.origin.setSpatialReference(new h(d.toJson())));this.lods=a.map(this.lods,function(m){return new e(m)});a.forEach(this.lods,function(m){this._levelToLOD[m.level]=m},this);d=!1;b=this.spatialReference;var c=this.origin;if(b&&c){var f=b._getInfo();f&&(d=b._isWrappable()&&Math.abs(f.origin[0]-c.x)<=f.dx)}this.isWrappable=d;this._initializeUpsampleLevels()},toJson:function(){return n.fixJson({rows:this.rows,cols:this.cols,
dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&a.map(this.lods,function(d){return d.toJson()})})},lodAt:function(d){return this._levelToLOD&&this._levelToLOD[d]||null},updateTileInfo:function(d){var b=this.lodAt(d.level),c=b.resolution*this.width;b=b.resolution*this.height;d.id=d.level+"/"+d.row+"/"+d.col;d.extent||(d.extent=[0,0,0,0]);d.extent[0]=
this.origin.x+d.col*c;d.extent[1]=this.origin.y-(d.row+1)*b;d.extent[2]=d.extent[0]+c;d.extent[3]=d.extent[1]+b},upsampleTile:function(d){var b=this._upsampleLevels[d.level];if(!b||-1===b.parentLevel)return!1;d.level=b.parentLevel;d.row=Math.floor(d.row/b.factor+.001);d.col=Math.floor(d.col/b.factor+.001);this.updateTileInfo(d);return!0},_initializeUpsampleLevels:function(){var d=this.lods;this._upsampleLevels=[];for(var b=null,c=0;c<d.length;c++){var f=d[c];this._upsampleLevels[f.level]={parentLevel:b?
b.level:-1,factor:b?b.resolution/f.resolution:0};b=f}}});t("extend-esri")&&w.setObject("layers.TileInfo",D,l);return D})},"esri/layers/LOD":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(D,w,a,t,l){D=D(null,{declaredClass:"esri.layers.LOD",constructor:function(n){w.mixin(this,n)},toJson:function(){return l.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});a("extend-esri")&&w.setObject("layers.LOD",
D,t);return D})},"esri/layers/ArcGISTiledMapServiceLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has dojo/io-query ../kernel ../urlUtils ../SpatialReference ./TiledMapServiceLayer ./ArcGISMapServiceLayer ./TileInfo ./TimeInfo ./TileMap".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r){w=w([b,c],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",_agolAttrs:"Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Elevation/World_Hillshade Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Ocean_Basemap Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Transportation World_Imagery World_Street_Map World_Topo_Map".split(" "),
_isReference:!1,_referenceLayers:"Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Reference Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Reference_Overlay Reference/World_Transportation".split(" "),constructor:function(p,u){u&&(u.roundrobin&&(D.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'."),u.tileServers=u.roundrobin),this._setTileServers(u.tileServers),
this._loadCallback=u.loadCallback);this._params=a.mixin({},this._url.query);this._initLayer=a.hitch(this,this._initLayer);(p=u&&u.resourceInfo)?this._initLayer(p):(this._load=a.hitch(this,this._load),this._load())},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(p){if(p&&0<p.length){this.tileServers=p;var u,y=p.length;for(u=0;u<y;u++)p[u]=e.urlToObject(p[u]).path}},_initLayer:function(p,u){this.inherited(arguments);this.resourceInfo=
l.toJson(p);this.tileInfo=new f(p.tileInfo);!1!==this.resampling&&(p.capabilities&&-1<p.capabilities.indexOf("Tilemap")?(this.resampling=!0,this.tileMap=new r(this)):this.resampling=!!p.resampling);!this.spatialReference&&this.tileInfo.spatialReference&&(this.spatialReference=new d(this.tileInfo.spatialReference.toJson()));this.isPNG32="PNG24"===this.tileInfo.format||"PNG32"===this.tileInfo.format;p.timeInfo&&(this.timeInfo=new m(p.timeInfo));p.mensurationCapabilities&&(this.mensurationCapabilities=
p.mensurationCapabilities);var y=this._url.path,x=this._loadCallback,z=e.getProtocolForWebResource(!0),q=y.match(/^https?:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);q=q&&q[2];if(!this.tileServers)if(p.tileServers)this._setTileServers(p.tileServers);else{var k=-1!==y.search(/^https?:\/\/server\.arcgisonline\.com/i),v=-1!==y.search(/^https?:\/\/services\.arcgisonline\.com/i);(k||v)&&this._setTileServers([y,y.replace(k?/server\.arcgisonline/i:
/services\.arcgisonline/i,k?"services.arcgisonline":"server.arcgisonline")])}if(q){q=q.toLowerCase();for(y=0;y<this._agolAttrs.length;y++)if(k=this._agolAttrs[y],k.toLowerCase()===q){this.hasAttributionData=!0;this.attributionDataUrl=this.attributionDataUrl||z+"//static.arcgis.com/attribution/"+k;break}for(y=0;y<this._referenceLayers.length;y++)if(k=this._referenceLayers[y],k.toLowerCase()===q){this._isReference=!0;break}}this.loaded=!0;this.onLoad(this);x&&(delete this._loadCallback,x(this))},getTileUrl:function(p,
u,y){var x=this.tileServers,z=this._getToken(),q=this._url.query;p=(x?x[u%x.length]:this._url.path)+"/tile/"+p+"/"+u+"/"+y;p=e.upgradeToHTTPS(p);this.resampling&&!this.tileMap&&(p+="?blankTile\x3dfalse");q&&(p=this.resampling&&!this.tileMap?p+("\x26"+h.objectToQuery(q)):p+("?"+h.objectToQuery(q)));!z||q&&q.token||(p+=(-1===p.indexOf("?")?"?":"\x26")+"token\x3d"+z);p=this.addTimestampToURL(p);return e.addProxy(p)}});n("extend-esri")&&a.setObject("layers.ArcGISTiledMapServiceLayer",w,g);return w})},
"esri/layers/TiledMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom dojox/collections/ArrayList dojox/gfx/matrix ../kernel ../config ../sniff ../domUtils ../tileUtils ../geometry/Point ../geometry/Rect ../geometry/Extent ./layer".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q){D=D(q,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(k,
v){w.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=v?v.displayLevels:null)?this._displayLevels[0]:0;this.resampling=v?v.resampling:void 0;this._resamplingTolerance=v?v.resamplingTolerance:null;this.exclusionAreas=v?v.exclusionAreas:null;k=a.hitch;this._addImage=k(this,this._addImage);this._tileLoadHandler=k(this,this._tileLoadHandler);this._tileErrorHandler=k(this,this._tileErrorHandler);this._popTile=k(this,this._popTile);this._cleanUpRemovedImages=k(this,this._cleanUpRemovedImages);
this._fireOnUpdateEvent=k(this,this._fireOnUpdateEvent);this._transitionEnd=k(this,this._transitionEnd);this._tileMapCallback=k(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,isResampling:!1,_initTiledLayer:function(){var k=this.tileInfo,v=k.lods;this.resampling=null!=this.resampling?this.resampling:!1;this._tileW=k.width;this._tileH=k.height;var B=this.scales=[],E=this._displayLevels,N=-Infinity,G=Infinity,K=this.fullExtent,I=new y(K.xmin,K.ymax);K=new y(K.xmax,K.ymin);var O=u.getContainingTileCoords,
V,na=v.length;for(V=0;V<na;V++){var ja=v[V];var la=O(k,I,ja);ja.startTileRow=0>la.row?0:la.row;ja.startTileCol=0>la.col?0:la.col;la=O(k,K,ja);ja.endTileRow=la.row;ja.endTileCol=la.col;E&&-1===t.indexOf(E,ja.level)||(B[V]=ja.scale,N=ja.scale>N?ja.scale:N,G=ja.scale<G?ja.scale:G)}-Infinity===N||this._hasMin||this.setMinScale(N);Infinity===G||this._hasMax||this.setMaxScale(G);this.setExclusionAreas(this.exclusionAreas);this._patchIE=6<=r("ie")&&7>r("ie")&&(this.isPNG32||"Mixed"===k.format)},isVisibleAtScale:function(k){return k?
q.prototype._isMapAtVisibleScale.call(this,k,!0):!1},_isMapAtVisibleScale:function(k){var v=this.inherited(arguments,[k,!0]);if(v){var B=this._map;v=this.scales;var E=B.getScale(),N=!1,G=B.width>B.height?B.width:B.height;for(B=0;B<v.length;B++)if(Math.abs(v[B]-E)/v[B]<1/G){N=!0;break}v=N}return v},_setMap:function(k,v,B,E){this.inherited(arguments);this._map=k;var N=this._div=n.create("div",null,v),G=k.__visibleDelta,K=w.connect,I=f._css.names,O={position:"absolute",width:k.width+"px",height:k.height+
"px",overflow:"visible"},V=m.defaults.map.zoomDuration;"css-transforms"===k.navigationMode?(O[I.transform]=f._css.translate(-G.x,-G.y),e.set(N,O),delete O[I.transform],O[I.transition]=I.transformName+" "+V+"ms ease",e.set(this._active=n.create("div",null,N),O),this._active._remove=0,this._passives=[]):(O.left=-G.x+"px",O.top=-G.y+"px",e.set(N,O));this._onResizeHandler_connect=K(k,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=K(this,"onOpacityChange",this,"_opacityChangeHandler");
G=this.tileInfo;K=G.spatialReference;I=K._getInfo();(this._wrap=k.wrapAround180&&K._isWrappable()&&Math.abs(I.origin[0]-G.origin.x)<=I.dx)&&u._addFrameInfo(G,I);this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension();if(this.suspended&&!k.loaded)var na=w.connect(k,"onLoad",this,function(){w.disconnect(na);na=null;this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension()});return N},_unsetMap:function(k,v){this.suspended||this._suspendImpl();n.destroy(this._div);this._map=
this._div=null;var B=w.disconnect;B(this._onResizeHandler_connect);B(this._opacityChangeHandler_connect);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){p.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var k=this._tiles,v=this._tileIds,B=this._loadingList,E,N,G=w.disconnect,K=n.destroy;B&&0<B.count&&(B.forEach(function(O){if(E=k[O])G(E._onload_connect),G(E._onerror_connect),G(E._onabort_connect),
E._onload_connect=E._onerror_connect=E._onabort_connect=null}),B.clear(),this._fireUpdateEnd());this._removeList.clear();for(B=v.length-1;0<=B;B--)(E=(N=v[B])&&k[N])&&K(E);if("css-transforms"===this._map.navigationMode){v=this._active;N=this._passives;this._noDom=0;for(B=N.length-1;0<=B;B--){var I=N[B];I._endHandle&&G(I._endHandle);I._matrix=I._multiply=I._endHandle=null;I._marked=I._remove=0;N.splice(B,1);K(I)}v._matrix=v._multiply=null;v._marked=v._remove=0}this._tileIds=this._tiles=this._tileBounds=
this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new b;this._loadingList=new b;p.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(a.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var k=this._map,v=w.connect;if("css-transforms"===
k.navigationMode){if(this._onScaleHandler_connect=v(k,"onScale",this,this._onScaleHandler),r("esri-mobile")){this._standby=[];var B=this,E=function(){B._noDom=1};this._onPanStartHandler_connect=v(k,"onPanStart",E);this._onZoomStartHandler_connect=v(k,"onZoomStart",E)}}else this._onZoomHandler_connect=v(k,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=v(k,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=v(k,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var k=
w.disconnect;k(this._onPanHandler_connect);k(this._onZoomHandler_connect);k(this._onScaleHandler_connect);k(this._onExtentChangeHandler_connect);k(this._onPanStartHandler_connect);k(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(k,v,B){k={width:v+"px",height:B+"px"};v=e.set;v(this._div,k);if("css-transforms"===
this._map.navigationMode)for(this._active&&v(this._active,k),B=this._passives.length-1;0<=B;B--)v(this._passives[B],k)},_onExtentChangeHandler:function(k,v,B,E){v=this._map;var N=this._standby;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(!v._isPanningOrZooming()){if("css-transforms"===v.navigationMode){if(B)for(E=this._passives.length-1;0<=E;E--){var G=this._passives[E];e.set(G,f._css.names.transition,"none");G._marked?(this._passives.splice(E,1),G.parentNode&&G.parentNode.removeChild(G),
n.destroy(G)):0<G.childNodes.length&&(G._multiply=G._multiply?c.multiply(G._matrix,G._multiply):G._matrix)}this._noDom=0;if(N&&N.length)for(E=N.length-1;0<=E;E--)G=N[E],e.set(G,"visibility","inherit"),this._popTile(G),N.splice(E,1)}this._fireUpdateStart();this._rrIndex=0;E=u.getCandidateTileInfo(v,this.tileInfo,k);k=v.__visibleDelta;if(!this._ct||E.lod.level!==this._ct.lod.level||B){G=E&&this._ct&&E.lod.level!==this._ct.lod.level;this._ct=E;var K=this._tiles,I=this._tileIds,O=this._tileBounds,V=this._removeList,
na=I.length;this._cleanUpRemovedImages();for(E=0;E<na;E++){N=I[E];var ja=K[N];O[N]=I[E]=null;"css-transforms"===v.navigationMode&&G&&ja.parentNode&&v.fadeOnZoom&&(ja._fadeOut=G,ja.parentNode._remove++);V.add(ja)}B&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}E=k.x;B=k.y;"css-transforms"===v.navigationMode?(N={},N[f._css.names.transform]=f._css.translate(E,B),e.set(this._div,N)):e.set(this._div,{left:E+"px",top:B+"px"});this.__coords_dx=E;this.__coords_dy=B;this._updateImages(new x(0,0,k.width,
k.height));0===this._loadingList.count?(this._cleanUpRemovedImages(),this.onUpdate(),this._fireUpdateEnd()):this._fireOnUpdate=!0;B=this._tileW;K=this._tileH;k=new x(-k.x,-k.y,k.width,k.height);for(E=this._tileIds.length-1;0<=E;E--)(N=this._tileIds[E])?(G=this._tiles[N],I=g.getMarginBox(G),I=new x(I.l,I.t,B,K),"css-transforms"===v.navigationMode&&(I.x=G._left,I.y=G._top),k.intersects(I)?this._tileBounds[N]=I:(this._loadingList.contains(N)&&this._popTile(G),n.destroy(G),this._tileIds.splice(E,1),delete this._tileBounds[N],
delete this._tiles[N])):(this._tileIds.splice(E,1),delete this._tileBounds[N],delete this._tiles[N])}},_onPanHandler:function(k,v){k=this._map;v=k.__visibleDelta.offset(v.x,v.y);this.__coords_dx=this.__coords_dy=0;"css-transforms"===k.navigationMode?(k={},k[f._css.names.transform]=f._css.translate(v.x,v.y),e.set(this._div,k),r("esri-mobile")||this._updateImages({x:-v.x,y:-v.y,width:v.width,height:v.height})):(e.set(this._div,{left:v.x+"px",top:v.y+"px"}),this._updateImages({x:-v.x,y:-v.y,width:v.width,
height:v.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=!0)},_onScaleHandler:function(k,v){var B,E={},N=f._css.names,G=this._map,K=m.defaults.map.zoomDuration;for(B=this._passives.length-1;0<=B;B--){var I=this._passives[B];0===I.childNodes.length?(this._passives.splice(B,1),n.destroy(I)):("none"===I.style[N.transition]&&e.set(I,N.transition,N.transformName+" "+K+"ms ease"),e.set(I,N.transition,v?"none":N.transformName+" "+K+"ms ease"),I._matrix=k,E[N.transform]=f._css.matrix(I._multiply?
c.multiply(k,I._multiply):k),e.set(I,E))}this._active&&0===this._active.childNodes.length||(e.set(this._active,N.transition,v?"none":N.transformName+" "+K+"ms ease"),this._active._matrix=k,E[N.transform]=f._css.matrix(this._active._matrix),e.set(this._active,E),this._passives.push(this._active),E={position:"absolute",width:G.width+"px",height:G.height+"px",overflow:"visible"},E[N.transition]=N.transformName+" "+K+"ms ease",e.set(this._active=n.create("div",null,this._div),E),this._active._remove=
0,G.fadeOnZoom&&n.place(this._active,this._div,"first"))},_onZoomHandler:function(k,v,B){k=g.getMarginBox(this._div);B=B.offset(-k.l,-k.t);this._previousScale&&1!==v||(this._previousScale=1);var E,N=this._tileW*v,G=this._tileH*v,K=this._tileBounds,I=this._tiles,O=this._previousScale,V=this._multiple,na=e.set,ja,la;if((k=r("ie"))&&8>k)t.forEach(this._tileIds,function(za){la="";E=K[za];ja=I[za].style.margin.split(" ");t.forEach(ja,function(Z){""!==la&&(la+=" ");Z=parseFloat(Z);la+=Z/O*v+"px"});na(I[za],
{left:E.x-(N-E.width)*(B.x-E.x)/E.width+"px",top:E.y-(G-E.height)*(B.y-E.y)/E.height+"px",margin:1!==V&&-1===la.indexOf("NaN")?la:"",zoom:v})});else{var ca=N*V,ea=G*V,oa,sa;t.forEach(this._tileIds,function(za){la="";E=K[za];oa=E.x-(N-E.width)*(B.x-E.x)/E.width;sa=E.y-(G-E.height)*(B.y-E.y)/E.height;ja=I[za].style.margin.split(" ");t.forEach(ja,function(Z){""!==la&&(la+=" ");Z=parseFloat(Z);la+=Z/O*v+"px"});na(I[za],{left:oa+"px",top:sa+"px",margin:1!==V&&-1===la.indexOf("NaN")?la:"",width:ca+"px",
height:ea+"px"})})}this._previousScale=v},_updateImages:function(k){if(this._ct){var v=this._tileW,B=this._tileH,E=this._ct;var N=E.lod;E=E.tile;var G=E.offsets,K=E.coords,I=K.row;K=K.col;var O=N.level,V=this.opacity,na=this._tileIds,ja=this._loadingList,la=this._addImage,ca=this._map.id,ea=this.id,oa=k.x,sa=k.y,za=N.startTileRow,Z=N.endTileRow,ka=N.startTileCol,ua=N.endTileCol,A=t.indexOf,F=G.x-this.__coords_dx,Q=G.y-this.__coords_dy;var X=v-F+-k.x;var aa=B-Q+-k.y;var pa=Math.ceil;X=0<X?X%v:v-Math.abs(X)%
v;aa=0<aa?aa%B:B-Math.abs(aa)%B;oa=0<oa?Math.floor((oa+F)/v):pa((oa-(v-F))/v);sa=0<sa?Math.floor((sa+Q)/B):pa((sa-(B-Q))/B);Q=oa+pa((k.width-X)/v);k=sa+pa((k.height-aa)/B);if(this._wrap){var ra=N._frameInfo;var T=ra[0];var U=ra[1];ra=ra[2]}for(aa=oa;aa<=Q;aa++)for(oa=sa;oa<=k;oa++)pa=I+oa,X=K+aa,this._wrap&&(X<U?(X%=T,X=X<U?X+T:X):X>ra&&(X%=T)),!this._isExcluded(O,pa,X)&&pa>=za&&pa<=Z&&X>=ka&&X<=ua&&(N=ca+"_"+ea+"_tile_"+O+"_"+oa+"_"+aa,-1===A(na,N)&&(ja.add(N),na.push(N),la(O,oa,pa,aa,X,N,v,B,V,
E,G)))}},_cleanUpRemovedImages:function(){var k=this._removeList,v=n.destroy,B,E=f._css.names;k.forEach(function(G){G._fadeOut||(G.style.filter="",G.style.zoom=1,v(G))});if("css-transforms"===this._map.navigationMode)for(B=this._passives.length-1;0<=B;B--){var N=this._passives[B];0===N.childNodes.length?(this._passives.splice(B,1),v(N)):this._map.fadeOnZoom&&!N._marked&&N._remove===N.childNodes.length&&(N._marked=1,2048>f._css.getScaleFromMatrix(e.get(N,E.transform))?(e.set(N,E.transition,"opacity 0.65s"),
e.set(N,"opacity",0),w.disconnect(N._endHandle),N._endHandle=w.connect(N,E.endEvent,this._transitionEnd)):this._transitionEnd({propertyName:"opacity",target:N}))}k.clear()},_transitionEnd:function(k){var v=k.target;"opacity"===k.propertyName&&(w.disconnect(v._endHandle),v._endHandle=null,k=t.indexOf(this._passives,v),-1<k&&this._passives.splice(k,1),v.parentNode&&v.parentNode.removeChild(v),n.destroy(v))},_addImage:function(k,v,B,E,N,G,K,I,O,V,na){if(this._patchIE)V=this._tiles[G]=n.create("div"),
V.id=G,h.add(V,"layerTile"),e.set(V,{left:K*E-na.x+"px",top:I*v-na.y+"px",width:K+"px",height:I+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(k,B,N)+"', sizingMethod\x3d'scale')"}),1>O&&e.set(V,"opacity",O),k=V.appendChild(n.create("div")),e.set(k,{opacity:0,width:K+"px",height:I+"px"}),this._div.appendChild(V),V=null,this._loadingList.remove(G),this._fireOnUpdateEvent();else{V=this._tiles[G]=n.create("img");var ja=w.connect;V.id=G;V._uid=k+"_"+B+"_"+N;
V.alt="";h.add(V,"layerTile");E=K*E-na.x;na=I*v-na.y;v=this._map;var la=f._css.names;K={width:K+"px",height:I+"px",visibility:"hidden"};"css-transforms"===v.navigationMode?(K[la.transform]=f._css.translate(E,na),e.set(V,K),V._left=E,V._top=na):(K.left=E+"px",K.top=na+"px",e.set(V,K));1>O&&e.set(V,"opacity",O);V._onload_connect=ja(V,"onload",this,"_tileLoadHandler");V._onerror_connect=ja(V,"onerror",a.hitch(this,"_tileErrorHandler",B,N));V._onabort_connect=ja(V,"onabort",this,"_tileAbortHandler");
if(this.tileMap)this.tileMap.getTile(k,B,N,G,this._tileMapCallback);else if(G=this.getTileUrl(k,B,N,V))this._failedRequests&&this._failedRequests[G]?(e.set(V,this._failedRequests[G].css),V.src=this._failedRequests[G].src,this._multiple=parseInt(this._failedRequests[G].css.width)/this._tileW,this.isResampling=1!==this._multiple):(this._multiple=1,this.isResampling=!1,V.src=G);"css-transforms"===v.navigationMode?this._active.appendChild(V):this._div.appendChild(V);V=null}},_tileMapCallback:function(k,
v){if(!this.suspended){var B=this._tiles[v.id]||d.byId(v.id);var E=v.level+"_"+v.row+"_"+v.col;B&&B._uid===E?(this._multiple=2*(v.level-k.level)||1,this.isResampling=1!==this._multiple,v=this.tileMap.style(k,v),e.set(B,v),B.src=this.getTileUrl(k.level,k.row,k.col)):this._popTile(v)}},getTileUrl:function(k,v,B){},refresh:function(){this.suspended||(this._refreshTS=Date.now(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},_popTile:function(k){var v=w.disconnect;v(k._onload_connect);
v(k._onerror_connect);v(k._onabort_connect);k._onload_connect=k._onerror_connect=k._onabort_connect=null;this._loadingList.remove(k.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(k){k=k.currentTarget;this._noDom?this._standby.push(k):(e.set(k,"visibility","inherit"),this._popTile(k))},_tileAbortHandler:function(k){k=k.currentTarget;this.onError(Error("Unable to load tile: "+k.src));e.set(k,"visibility","hidden");this._popTile(k)},_tileErrorHandler:function(k,v,B){B=B.currentTarget;var E=
!0;if(this.tileMap||!this.resampling)E=!1;else{var N=new l(B.src);N=N.path.split("/");N=parseInt(N[N.length-3]);var G=this._ct.lod.level-N+1;this._multiple=Math.pow(2,G);if(N===this._lowestLevel||0===this._resamplingTolerance||this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)E=!1}E?(this.isResampling=!0,this._resample(B,k,v)):(this.onError(Error("Unable to load tile: "+B.src)),e.set(B,"visibility","hidden"),this._popTile(B))},_resample:function(k,v,B){var E=(new l(k.src)).path.split("/"),
N=this._multiple,G=parseInt(E[E.length-3])-1,K=parseInt(v/N),I=parseInt(B/N);E=B%N;var O=v%N;K=this.getTileUrl(G,K,I);v=this.getTileUrl(G+Math.log(N)/Math.LN2,v,B);N={width:this._tileW*N+"px",height:this._tileH*N+"px",margin:"-"+this._tileW*O+"px 0 0 -"+(this._tileH*E+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[v]={src:K,css:N};e.set(k,N);r("chrome")&&k.setAttribute("src",null);k.src=K},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),
this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),this._fireUpdateEnd()))},setOpacity:function(k){if(this.opacity!=k)this.onOpacityChange(this.opacity=k)},onOpacityChange:function(){},_opacityChangeHandler:function(k){var v=e.set,B,E;if("css-transforms"===this._map.navigationMode){if(this._active){var N=this._active.childNodes;for(B=N.length-1;0<=B;B--)v(N[B],"opacity",k)}for(B=this._passives.length-1;0<=B;B--)for(N=this._passives[B].childNodes,E=N.length-1;0<=E;E--)v(N[E],"opacity",k)}else for(N=
this._div.childNodes,B=N.length-1;0<=B;B--)v(N[B],"opacity",k)},setExclusionAreas:function(k){this.exclusionAreas=k;if(this.loaded&&this._map&&this._map.loaded){var v=this._map.spatialReference,B=this.tileInfo,E=B.origin,N=B.lods,G=N[0].level,K=N[N.length-1].level,I,O,V;if(this.exclusionAreas&&this.exclusionAreas.length){this._exclusionsPerZoom=[];var na=0;for(I=k.length;na<I;na++){var ja=k[na];if((V=ja.geometry)&&"extent"===V.type&&V.xmin<=V.xmax&&V.ymin<=V.ymax){if(!v.equals(V.spatialReference))if(v._canProject(V.spatialReference)){if(v.isWebMercator()){var la=
y.lngLatToXY(V.xmin,V.ymin);V=y.lngLatToXY(V.xmax,V.ymax)}else la=y.xyToLngLat(V.xmin,V.ymin,!0),V=y.xyToLngLat(V.xmax,V.ymax,!0);V=new z(la[0],la[1],V[0],V[1],v)}else continue;var ca=-1;if(ja.minZoom&&-1!==ja.minZoom)ca=ja.minZoom;else if(ja.minScale&&-1!==ja.minScale){var ea=0;for(O=N.length;ea<O;ea++)if(N[ea].scale<=ja.minScale){ca=N[ea].level;break}}ca=Math.max(ca,G);la=-1;if(ja.maxZoom&&-1!==ja.maxZoom)la=ja.maxZoom;else if(ja.maxScale&&-1!==ja.maxScale)for(ea=0,O=N.length;ea<O;ea++)if(N[ea].scale<
ja.maxScale){la=N[ea-1].level;break}else if(N[ea].scale===ja.maxScale){la=N[ea].level;break}la=-1===la?K:Math.min(la,K);for(ja=ca;ja<=la;ja++){ea=0;for(O=N.length;ea<O;ea++)if(N[ea].level===ja){var oa=N[ea];break}oa&&(this._exclusionsPerZoom[ja]||(this._exclusionsPerZoom[ja]=[]),ea=1/oa.resolution/B.rows,O=1/oa.resolution/B.cols,this._exclusionsPerZoom[ja].push({rowFrom:Math.floor((E.y-V.ymax)*ea),rowTo:Math.ceil((E.y-V.ymin)*ea),colFrom:Math.floor((V.xmin-E.x)*O),colTo:Math.ceil((V.xmax-E.x)*O)}))}}}}else this._exclusionsPerZoom=
null;this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}},_isExcluded:function(k,v,B){var E;if(!this._exclusionsPerZoom)return!1;var N=this._exclusionsPerZoom[k];if(!N)return!1;var G=0;for(E=N.length;G<E;G++)if(k=N[G],v>=k.rowFrom&&v<k.rowTo&&B>=k.colFrom&&B<k.colTo)return!0;return!1}});r("extend-esri")&&a.setObject("layers.TiledMapServiceLayer",D,f);return D})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(D,
w,a){a.ArrayList=function(t){var l=[];t&&(l=l.concat(t));this.count=l.length;this.add=function(n){l.push(n);this.count=l.length};this.addRange=function(n){if(n.getIterator)for(n=n.getIterator();!n.atEnd();)this.add(n.get());else for(var h=0;h<n.length;h++)l.push(n[h]);this.count=l.length};this.clear=function(){l.splice(0,l.length);this.count=0};this.clone=function(){return new a.ArrayList(l)};this.contains=function(n){for(var h=0;h<l.length;h++)if(l[h]==n)return!0;return!1};this.forEach=function(n,
h){D.forEach(l,n,h)};this.getIterator=function(){return new a.Iterator(l)};this.indexOf=function(n){for(var h=0;h<l.length;h++)if(l[h]==n)return h;return-1};this.insert=function(n,h){l.splice(n,0,h);this.count=l.length};this.item=function(n){return l[n]};this.remove=function(n){n=this.indexOf(n);0<=n&&l.splice(n,1);this.count=l.length};this.removeAt=function(n){l.splice(n,1);this.count=l.length};this.reverse=function(){l.reverse()};this.sort=function(n){n?l.sort(n):l.sort()};this.setByIndex=function(n,
h){l[n]=h;this.count=l.length};this.toArray=function(){return[].concat(l)};this.toString=function(n){return l.join(n||",")}};return a.ArrayList})},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(D,w,a){D=w.getObject("dojox.collections",!0);D.DictionaryEntry=function(t,l){this.key=t;this.value=l;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};D.Iterator=function(t){var l=0;this.element=t[l]||
null;this.atEnd=function(){return l>=t.length};this.get=function(){return this.atEnd()?null:this.element=t[l++]};this.map=function(n,h){return a.map(t,n,h)};this.reset=function(){l=0;this.element=t[l]}};D.DictionaryIterator=function(t){var l=[],n={},h;for(h in t)n[h]||l.push(t[h]);var g=0;this.element=l[g]||null;this.atEnd=function(){return g>=l.length};this.get=function(){return this.atEnd()?null:this.element=l[g++]};this.map=function(e,d){return a.map(l,e,d)};this.reset=function(){g=0;this.element=
l[g]}};return D})},"esri/layers/ArcGISMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../request ../SpatialReference ../geometry/Extent ./LayerInfo".split(" "),function(D,w,a,t,l,n,h,g,e,d){D=D(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",infoTemplates:null,constructor:function(b,c){this.layerInfos=[];c&&(this.infoTemplates=c.infoTemplates||null);b=this._params={};if(c=this._url.query?this._url.query.token:null)b.token=
c},setInfoTemplates:function(b){this.infoTemplates=b},_load:function(){h({url:this._url.path,content:w.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},spatialReference:null,initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(b,c){try{this._findCredential();(this.credential&&this.credential.ssl||b&&b._ssl)&&this._useSSL();this.description=b.description;this.copyright=b.copyrightText;this.spatialReference=b.spatialReference&&
new g(b.spatialReference);this.initialExtent=b.initialExtent&&new e(b.initialExtent);this.fullExtent=b.fullExtent&&new e(b.fullExtent);this.units=b.units;this.maxRecordCount=b.maxRecordCount;this.maxImageHeight=b.maxImageHeight;this.maxImageWidth=b.maxImageWidth;this.supportsDynamicLayers=b.supportsDynamicLayers;var f=this.layerInfos=[],m=b.layers,r=this._defaultVisibleLayers=[];a.forEach(m,function(p,u){f[u]=new d(p);p.defaultVisibility&&r.push(p.id)});this.visibleLayers||(this.visibleLayers=r);
this.version=b.currentVersion;this.cimVersion=b.cimVersion;this.version||(this.version="capabilities"in b||"tables"in b?10:"supportedImageFormatTypes"in b?9.31:9.3);this.capabilities=b.capabilities;n.isDefined(b.minScale)&&!this._hasMin&&this.setMinScale(b.minScale);n.isDefined(b.maxScale)&&!this._hasMax&&this.setMaxScale(b.maxScale)}catch(p){this._errorHandler(p)}}});t("extend-esri")&&w.setObject("layers.ArcGISMapServiceLayer",D,l);return D})},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","../lang"],function(D,w,a,t,l){D=D(null,{declaredClass:"esri.layers.LayerInfo",constructor:function(n){w.mixin(this,n)},toJson:function(){return l.fixJson({defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}});a("extend-esri")&&w.setObject("layers.LayerInfo",D,t);return D})},"esri/layers/TimeInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../TimeExtent ./TimeReference ./LayerTimeOptions".split(" "),
function(D,w,a,t,l,n,h){D=D(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(g){null!==g&&(w.mixin(this,g),g.exportOptions&&(this.exportOptions=new h(g.exportOptions)),this.timeExtent=null,g.timeExtent&&2===g.timeExtent.length&&(this.timeExtent=new l(g.timeExtent)),this.timeReference=new n(g.timeReference))}});w.mixin(D,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",
UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});a("extend-esri")&&w.setObject("layers.TimeInfo",D,t);return D})},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel"],function(D,w,a,t){var l=D(null,{declaredClass:"esri.TimeExtent",constructor:function(n){if(1<arguments.length)this._create(arguments[0],
arguments[1]);else if(n)if(w.isArray(n)){var h=n[0],g=n[1];this.startTime=null===h||"null"===h?null:new Date(h);this.endTime=null===g||"null"===g?null:new Date(g)}else n instanceof Date&&this._create(n,null)},offset:function(n,h){var g=new l,e=this.startTime,d=this.endTime;e&&(g.startTime=this._getOffsettedDate(e,n,h));d&&(g.endTime=this._getOffsettedDate(d,n,h));return g},intersection:function(n){return this._intersection(this,n)},toJson:function(){var n=[],h=this.startTime;n.push(h?h.getTime():
"null");h=this.endTime;n.push(h?h.getTime():"null");return n},_create:function(n,h){this.startTime=n?new Date(n.getTime()):null;this.endTime=h?new Date(h.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",
multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(n,
h){if(n&&h){var g=n.startTime;n=n.endTime;var e=h.startTime;h=h.endTime;g=g?g.getTime():-Infinity;e=e?e.getTime():-Infinity;n=n?n.getTime():Infinity;h=h?h.getTime():Infinity;var d,b;e>=g&&e<=n?d=e:g>=e&&g<=h&&(d=g);n>=e&&n<=h?b=n:h>=g&&h<=n&&(b=h);if(isNaN(d)||isNaN(b))return null;g=new l;g.startTime=-Infinity===d?null:new Date(d);g.endTime=Infinity===b?null:new Date(b);return g}return null},_getOffsettedDate:function(n,h,g){var e=this._refData;n=new Date(n.getTime());h&&g&&(e=e[g],n[e.setter](n[e.getter]()+
h*e.multiplier));return n}});a("extend-esri")&&(t.TimeExtent=l);return l})},"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(D,w,a,t){D=D(null,{declaredClass:"esri.layers.TimeReference",constructor:function(l){l&&w.mixin(this,l)}});a("extend-esri")&&w.setObject("layers.TimeReference",D,t);return D})},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(D,
w,a,t,l){D=D(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(n){n&&w.mixin(this,n)},toJson:function(){return l.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}});a("extend-esri")&&w.setObject("layers.LayerTimeOptions",D,t);return D})},"esri/layers/TileMap":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/io-query ../request ../urlUtils".split(" "),
function(D,w,a,t,l,n,h){return D(null,{declaredClass:"esri.layers.TileMap",constructor:function(g){this.layer=g;this._tileMaps={}},getTile:function(g,e,d,b,c){g={id:b,level:g,row:e,col:d};e=this._getResamplingBudget();0<e?this._process({tile:g,requestedTile:g,callback:c,resamplingBudget:e}):(c||this.callback).call(this,g,g)},statusOf:function(g,e,d){var b=this._getResamplingBudget();g={level:g,row:e,col:d};if(0===b)return 1;for(;0<=b;){e=this._tileToTileMap(g);if(!this._tileMaps[e.uid])return-1;e=
this._tileMaps[e.uid];if(!e.promise.isFulfilled())return-1;if(this._isTileAvailable(g,e))return 1;g=this._parentTile(g);if(!g)break;b--}return 0},style:function(g,e){if(g.level!==e.level||g.row!==e.row||g.col!==e.col){var d=this.layer.tileInfo,b=d.lods,c=d.cols;d=d.rows;for(var f,m,r=b.length-1;!f||!m;)f||b[r].level!==g.level||(f=b[r]),m||b[r].level!==e.level||(m=b[r]),r--;b=Math.round(f.resolution/m.resolution);g=e.col%b*-1*c;e=e.row%b*-1*d;b={width:c*b+"px",height:d*b+"px",margin:e+"px 0 0 "+g+
"px","will-change":"transform"};g=0===g?0:-1*g;e=0===e?0:-1*e;b.clip="rect("+e+"px,"+(g+c)+"px,"+(e+d)+"px,"+g+"px)";return b}},_process:function(g){var e=g.tile,d=this._tileToTileMap(e),b=this._parentTile(e);this._getTileMap(d).then(w.hitch(this,function(c){d=c;this._isTileAvailable(e,d)?(g.callback||this.callback).call(this,e,g.requestedTile):0<g.resamplingBudget&&b?(g.resamplingBudget--,g.tile=b,this._process(g)):(g.callback||this.callback).call(this,g.requestedTile,g.requestedTile)}),w.hitch(this,
function(){(g.callback||this.callback).call(this,g.requestedTile,g.requestedTile)}))},_getTileMap:function(g){var e,d,b=null;if(this._tileMaps[g.uid]){g=this._tileMaps[g.uid];var c=g.promise}else{this._tileMaps[g.uid]=g;var f=new t;n({url:this._getTileMapUrl(g.level,g.row,g.col),handleAs:"json",content:{f:"json"},callbackParamName:"callback",timeout:3E3,load:function(m){w.mixin(g,m);if(g.data&&0<g.data.length){d=g.data.length;if(1===d)b=g.data[0];else for(b=g.data[0],e=1;e<d;e++)if(g.data[e]!==b){b=
null;break}null!==b&&(delete g.data,g.value=b);null==g.valid&&(g.valid=!0)}f.resolve(g)},error:function(m){m&&422===m.code?(w.mixin(g,{location:{top:g.row,left:g.col,width:8,height:8},valid:!0,value:0}),f.resolve(g)):f.reject()}});c=g.promise=f.promise}return c},_parentTile:function(g){var e=this.layer.tileInfo.lods,d,b,c=null;a.some(e,function(f,m){return g.level===f.level?(d=f,b=m,!0):!1});0<b&&(e=e[b-1],c={id:g.id,level:e.level,row:Math.floor(g.row*d.resolution/e.resolution+.01),col:Math.floor(g.col*
d.resolution/e.resolution+.01)});return c},_tileToTileMap:function(g){var e=8*Math.floor(g.row/8),d=8*Math.floor(g.col/8);return{uid:g.level+"_"+e+"_"+d,level:g.level,row:e,col:d}},_isTileAvailable:function(g,e){if(e.valid)if(void 0!==e.value)g=e.value;else{var d=e.location.left;var b=e.location.top;g=(g.row-b)*e.location.width+(g.col-d);g=g<e.data.length?e.data[g]:0}else g=0;return g},_getTileMapUrl:function(g,e,d){var b=this.layer,c=b.tileServers,f=b._getToken(),m=b._url.query;g=(c?c[e%c.length]:
b._url.path)+"/tilemap/"+g+"/"+e+"/"+d+"/8/8";m&&(g+="?"+l.objectToQuery(m));!f||m&&m.token||(g+=(-1===g.indexOf("?")?"?":"\x26")+"token\x3d"+f);return g=b.addTimestampToURL(g)},_getResamplingBudget:function(){var g=this.layer,e=0;g.resampling&&(e=g._resamplingTolerance,null===e||void 0===e)&&(e=g.tileInfo.lods.length);return e}})})},"esri/layers/MapImageLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style ../kernel ../config ../sniff ../domUtils ../geometry/Point ../geometry/webMercatorUtils ./layer".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f){var m=D([f],{declaredClass:"esri.layers.MapImageLayer","-chains-":{constructor:"manual"},constructor:function(r){this.inherited(arguments,[null,r]);this._mapImages=[];var p=a.hitch;this._panStart=p(this,this._panStart);this._pan=p(this,this._pan);this._extentChange=p(this,this._extentChange);this._zoom=p(this,this._zoom);this._zoomStart=p(this,this._zoomStart);this._scale=p(this,this._scale);this._resize=p(this,this._resize);w.connect(this,"onSuspend",this,this._onSuspend);
w.connect(this,"onResume",this,this._onResume);this.loaded=!0;this.onLoad(this)},opacity:1,addImage:function(r){var p=this._mapImages.push(r);--p;r._idx=p;r._layer=this;this._div&&this._createImage(r,p)},removeImage:function(r){if(r){var p=r._idx,u=this._mapImages;if(u[p]===r){delete u[p];if(p=r._node)this._clearEvents(p),p.e_idx=p.e_bl=p.e_tr=p.e_l=p.e_t=p.e_w=p.e_h=null,p.parentNode&&(p.parentNode.removeChild(p),l.destroy(p));r._node=r._idx=r._layer=null}}},removeAllImages:function(){var r=this._mapImages,
p,u=r.length;for(p=0;p<u;p++){var y=r[p];y&&this.removeImage(y)}this._mapImages=[]},getImages:function(){var r=this._mapImages,p=[],u,y=r.length;for(u=0;u<y;u++)r[u]&&p.push(r[u]);return p},setOpacity:function(r){this.opacity!=r&&(this._opacityChanged(this.opacity=r),this.onOpacityChange())},onOpacityChange:function(){},_opacityChanged:function(r){var p=this._div;if(p)if(!e("ie")||8<e("ie"))n.set(p,"opacity",r);else{var u=p.childNodes;var y=u.length;for(p=0;p<y;p++)n.set(u[p],"opacity",r)}},_createImage:function(r,
p){var u=l.create("img");n.set(u,{position:"absolute"});1>r.opacity?n.set(u,"opacity",r.opacity):8>=e("ie")&&n.set(u,"opacity",this.opacity);!r.rotation||9>e("ie")||n.set(u,h._css.names.transform,h._css.rotate(360-r.rotation));r._node=u;u.e_idx=p;u.e_layer=this;u.e_load=w.connect(u,"onload",m.prototype._imageLoaded);u.e_error=w.connect(u,"onerror",m.prototype._imageError);u.e_abort=w.connect(u,"onabort",m.prototype._imageError);u.src=r.href},_imageLoaded:function(r,p){r=p||r.target||r.currentTarget;
p=r.e_layer;var u=p._mapImages[r.e_idx],y=p._map;y&&(y.__zooming||y.__panning||!p._sr)?p._standby.push(r):(p._clearEvents(r),u&&u._node===r&&y&&p._attach(u))},_imageError:function(r){r=r.target||r.currentTarget;var p=r.e_layer,u=p._mapImages[r.e_idx];p._clearEvents(r);u&&(u._node=null)},_clearEvents:function(r){var p=w.disconnect;p(r.e_load);p(r.e_error);p(r.e_abort);r.e_load=r.e_error=r.e_abort=r.e_layer=null},_attach:function(r){var p=r.extent,u=p.spatialReference,y=this._sr,x=this._div,z=r._node,
q=new b({x:p.xmin,y:p.ymin,spatialReference:u});p=new b({x:p.xmax,y:p.ymax,spatialReference:u});y.equals(u)||(y.isWebMercator()&&4326===u.wkid?(q=c.geographicToWebMercator(q),p=c.geographicToWebMercator(p)):u.isWebMercator()&&4326===y.wkid&&(q=c.webMercatorToGeographic(q),p=c.webMercatorToGeographic(p)));z.e_bl=q;z.e_tr=p;r.visible&&(this._setPos(z,x._left,x._top),(this._active||x).appendChild(z))},_setPos:function(r,p,u){var y=r.e_bl,x=r.e_tr,z=this._map;y=z.toScreen(y);x=z.toScreen(x);p=y.x-p;u=
x.y-u;var q=Math.abs(x.x-y.x);y=Math.abs(y.y-x.y);x={width:q+"px",height:y+"px"};var k=this._mapImages[r.e_idx];"css-transforms"===z.navigationMode?x[h._css.names.transform]=h._css.translate(p,u)+(k.rotation?" "+h._css.rotate(360-k.rotation):""):(x.left=p+"px",x.top=u+"px");n.set(r,x);r.e_l=p;r.e_t=u;r.e_w=q;r.e_h=y},managedSuspension:!0,_setMap:function(r,p){this.inherited(arguments);var u=this._div=l.create("div",null,p),y=h._css.names,x={position:"absolute"},z=r.__visibleDelta;if(!e("ie")||8<e("ie"))x.opacity=
this.opacity;"css-transforms"===r.navigationMode?(x[y.transform]=h._css.translate(z.x,z.y),n.set(u,x),u._left=z.x,u._top=z.y,x={position:"absolute",width:r.width+"px",height:r.height+"px",overflow:"visible"},this._active=l.create("div",null,u),n.set(this._active,x),this._passive=l.create("div",null,u),n.set(this._passive,x)):(u._left=0,u._top=0,n.set(u,x));this._standby=[];y=this._mapImages;z=y.length;for(x=0;x<z;x++){var q=y[x];q._node||this._createImage(q,q._idx)}d.hide(u);return u},_unsetMap:function(r,
p){this._disconnect();var u=this._div;if(u){var y=this._mapImages,x,z=y.length;for(x=0;x<z;x++){var q=y[x];if(q){var k=q._node;k&&(this._clearEvents(k),k.e_idx=k.e_bl=k.e_tr=k.e_l=k.e_t=k.e_w=k.e_h=null);q._node=null}}p.removeChild(u);l.destroy(u)}this._map=this._div=this._sr=this._active=this._passive=this._standby=null;this.inherited(arguments)},_onSuspend:function(){this._disconnect();d.hide(this._div)},_onResume:function(r){r.firstOccurrence&&(this._sr=this._map.spatialReference,this._processStandbyList());
r=this._map;var p=this._div,u=r.__visibleDelta;"css-transforms"===r.navigationMode&&(p._left=u.x,p._top=u.y,n.set(p,h._css.names.transform,h._css.translate(p._left,p._top)));this._redraw("css-transforms"===r.navigationMode);this._connect(r);d.show(p)},_connect:function(r){if(!this._connections){var p=w.connect,u="css-transforms"===r.navigationMode;this._connections=[p(r,"onPanStart",this._panStart),p(r,"onPan",this._pan),p(r,"onExtentChange",this._extentChange),u&&p(r,"onZoomStart",this._zoomStart),
u?p(r,"onScale",this._scale):p(r,"onZoom",this._zoom),u&&p(r,"onResize",this._resize)];u&&this._resize(r.extent,r.width,r.height)}},_disconnect:function(){this._connections&&(t.forEach(this._connections,w.disconnect),this._connections=null)},_panStart:function(){this._panL=this._div._left;this._panT=this._div._top},_pan:function(r,p){r=this._div;r._left=this._panL+p.x;r._top=this._panT+p.y;"css-transforms"===this._map.navigationMode?n.set(r,h._css.names.transform,h._css.translate(r._left,r._top)):
n.set(r,{left:r._left+"px",top:r._top+"px"})},_extentChange:function(r,p,u){u?this._redraw("css-transforms"===this._map.navigationMode):p&&this._pan(r,p);this._processStandbyList()},_processStandbyList:function(){var r,p=this._standby;if(p&&p.length)for(r=p.length-1;0<=r;r--)this._imageLoaded(null,p[r]),p.splice(r,1)},_redraw:function(r){if(r){r=this._passive;var p=h._css.names;n.set(r,p.transition,"none");this._moveImages(r,this._active);n.set(r,p.transform,"none")}r=this._active||this._div;p=this._div._left;
var u=this._div._top,y,x=r.childNodes.length;for(y=0;y<x;y++){var z=r.childNodes[y];this._setPos(z,p,u)}},_zoom:function(r,p,u){r=this._div;var y=r._left,x=r._top,z,q=r.childNodes.length;for(z=0;z<q;z++){var k=r.childNodes[z];var v=k.e_w*p,B=k.e_h*p,E=(u.x-y-k.e_l)*(v-k.e_w)/k.e_w,N=(u.y-x-k.e_t)*(B-k.e_h)/k.e_h;E=isNaN(E)?0:E;N=isNaN(N)?0:N;n.set(k,{left:k.e_l-E+"px",top:k.e_t-N+"px",width:v+"px",height:B+"px"})}},_zoomStart:function(){this._moveImages(this._active,this._passive)},_moveImages:function(r,
p){r=r.childNodes;var u=r.length;if(0<u)for(--u;0<=u;u--)p.appendChild(r[u])},_scale:function(r,p){var u=h._css.names,y=this._passive;n.set(y,u.transition,p?"none":u.transformName+" "+g.defaults.map.zoomDuration+"ms ease");({})[u.transform]=h._css.matrix(r);n.set(y,u.transform,h._css.matrix(r))},_resize:function(r,p,u){n.set(this._active,{width:p+"px",height:u+"px"});n.set(this._passive,{width:p+"px",height:u+"px"})}});e("extend-esri")&&a.setObject("layers.MapImageLayer",m,h);return m})},"esri/layers/OpenStreetMapLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
function(D,w,a,t,l,n,h,g,e){D=D(g,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(d){this.spatialReference=new n({wkid:102100});this.tileInfo=new e({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},
{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,
resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:.597164283559817},{level:19,scale:1128.497176,resolution:.298582141647617}]});this.fullExtent=
new h({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.initialExtent=new h({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileServers=d&&d.tileServers||["//a.tile.openstreetmap.org","//b.tile.openstreetmap.org","//c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=d?d.displayLevels:null;this.copyright=d&&d.copyright||"Map data \u00a9 OpenStreetMap contributors, CC-BY-SA";
this.loaded=!0;this.onLoad(this);(d=d&&d.loadCallback)&&d(this)},getTileUrl:function(d,b,c){d=this.tileServers[b%this.serversLength]+"/"+d+"/"+c+"/"+b+".png";d=l.normalize(d);d=this.addTimestampToURL(d);return l.addProxy(d)}});a("extend-esri")&&w.setObject("layers.OpenStreetMapLayer",D,t);return D})},"esri/dijit/Popup":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/window dojo/Stateful dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry ../kernel ../lang ../domUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/normalizeUtils ../InfoWindowBase ../PopupBase dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B,E,N){D=D([B,E,g],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:!0,pagingControls:!0,pagingInfo:!0,keepHighlightOnHide:!1,popupWindow:!0,titleInBody:!0,anchor:"auto",visibleWhenEmpty:!0,hideDelay:1E3,location:null,constructor:function(G,K){this.initialize();w.mixin(this,G);this.domNode=d.byId(K);K=this._nls=w.mixin({},N.widgets.popup);G=this.domNode;c.add(G,"esriPopup");(this._isRTL=!m.isBodyLtr())&&
r.set(G,"direction","rtl");b.set(G,"innerHTML","\x3cdiv class\x3d'esriPopupWrapper' style\x3d'position: absolute;'\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'titlePane'\x3e\x3cdiv class\x3d'spinner hidden' title\x3d'"+K.NLS_searching+"...'\x3e\x3c/div\x3e\x3cdiv class\x3d'title'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton prev hidden' title\x3d'"+K.NLS_prevFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton next hidden' title\x3d'"+K.NLS_nextFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton maximize' title\x3d'"+
K.NLS_maximize+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton close' title\x3d'"+K.NLS_close+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer content'\x3e\x3cdiv class\x3d'contentPane'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'actionsPane'\x3e\x3cdiv class\x3d'actionList hidden'\x3e\x3ca title\x3d'"+K.NLS_zoomTo+"' class\x3d'action zoomTo' href\x3d'javascript:void(0);'\x3e\x3cspan\x3e"+K.NLS_zoomTo+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'pointer hidden'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'outerPointer hidden'\x3e\x3c/div\x3e");
this._sizers=l.query(".sizer",G);K=l.query(".titlePane",G)[0];this._title=l.query(".title",K)[0];this._prevFeatureButton=l.query(".prev",K)[0];this._nextFeatureButton=l.query(".next",K)[0];this._maxButton=l.query(".maximize",K)[0];this._spinner=l.query(".spinner",K)[0];this._contentPane=l.query(".contentPane",G)[0];this._positioner=l.query(".esriPopupWrapper",G)[0];this._pointer=l.query(".pointer",G)[0];this._outerPointer=l.query(".outerPointer",G)[0];this._actionList=l.query(".actionsPane .actionList",
G)[0];this._contentUpdateHandles={};this._eventConnections=[t.connect(l.query(".close",K)[0],"onclick",this,this.hide),t.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),t.connect(this._nextFeatureButton,"onclick",this,this.selectNext),t.connect(this._maxButton,"onclick",this,this._toggleSize),t.connect(l.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),t.connect(this,"onClearFeatures",this,this._featuresCleared),t.connect(this,"onSelectionChange",this,this._featureSelected),
t.connect(this,"onDfdComplete",this,this._updateUI)];n("esri-touch")&&(G=x.setScrollable(this._contentPane),this._eventConnections.push(G[0],G[1]));this._toggleVisibility(!1)},onMaximize:function(){},onRestore:function(){},setMap:function(G){this.inherited(arguments);f.place(this.domNode,G.root);this.highlight&&this.enableHighlight(G);this._maxHeight=r.get(this._contentPane,"maxHeight")},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments)},setTitle:function(G){this.popupWindow&&
(y.isDefined(G)&&""!==G||(G="\x26nbsp;"),this.destroyDijits(this._title),this.place(G,this._title),this.isShowing&&(this.startupDijits(this._title),this.reposition()))},setContent:function(G){this.popupWindow&&(y.isDefined(G)&&""!==G||(G="\x26nbsp;"),this._destroyContent(),this.place(G,this._contentPane),this.isShowing&&(this._startupContent(),this.reposition()))},show:function(G,K){if(this.popupWindow)if(this._delayHide=!1,G){var I=this.map;G.spatialReference?(this.location=G,G=I.toScreen(G)):this.location=
I.toMap(G);var O=I._getFrameWidth();if(-1!==O&&(G.x%=O,0>G.x&&(G.x+=O),I.width>O))for(I=(I.width-O)/2;G.x<I;)G.x+=O;this._maximized?this.restore():this._setPosition(G);K&&K.closestFirst&&this.showClosestFirst(this.location);this.isShowing||(this._toggleVisibility(!0),this._followMap(),this.startupDijits(this._title),this._startupContent(),this.reposition(),this.showHighlight(),this.onShow())}else this._toggleVisibility(!0)},hide:function(){this.isShowing&&(this._toggleVisibility(!1),this._unfollowMap(),
this.keepHighlightOnHide||this.hideHighlight(),this.onHide())},resize:function(G,K){this.popupWindow&&(this._sizers.style({width:G+"px"}),r.set(this._contentPane,"maxHeight",K+"px"),this._maxHeight=K,this.isShowing&&this.reposition())},reposition:function(){this.popupWindow&&this.map&&this.location&&!this._maximized&&this.isShowing&&this._setPosition(this.map.toScreen(this.location))},addActions:function(G){return a.map(G,function(K){var I=f.create("a",{href:"javascript:void(0);",className:"action "+
K.className,title:K.title,innerHTML:K.title},this._actionList);t.connect(I,"onclick",K.callback);return{action:K,node:I}},this)},removeActions:function(G){a.forEach(G,function(K){f.destroy(K.node)})},getCurrentAnchor:function(){return this._anchor},maximize:function(){var G=this.map;if(G&&!this._maximized&&this.popupWindow){this._maximized=!0;var K=this._maxButton;c.remove(K,"maximize");c.add(K,"restore");b.set(K,"title",this._nls.NLS_restore);K=this.marginLeft;var I=this.marginTop,O=G.width-2*K;
G=G.height-2*I;r.set(this.domNode,{left:this._isRTL?null:K+"px",right:this._isRTL?K+"px":null,top:I+"px",bottom:null});r.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=r.get(this._sizers[0],"width");this._savedHeight=r.get(this._contentPane,"maxHeight");this._sizers.style({width:O+"px"});r.set(this._contentPane,{maxHeight:G-65+"px",height:G-65+"px"});this._showPointer("");this._unfollowMap();c.add(this.domNode,"esriPopupMaximized");this.onMaximize()}},restore:function(){if(this.map&&
this._maximized&&this.popupWindow){this._maximized=!1;var G=this._maxButton;c.remove(G,"restore");c.add(G,"maximize");b.set(G,"title",this._nls.NLS_maximize);r.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this.location);this._followMap();c.remove(this.domNode,"esriPopupMaximized");this.onRestore()}},startup:function(){},destroy:function(){this.map&&this.unsetMap();this.cleanup();this.isShowing&&this.hide();this.destroyDijits(this._title);
this._destroyContent();a.forEach(this._eventConnections,t.disconnect);f.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=this._pagerScope=this._targetLocation=this._nls=this._maxButton=null},selectNext:function(){this.select(this.selectedIndex+1)},selectPrevious:function(){this.select(this.selectedIndex-1)},setFeatures:function(G,K){this._transientAnchor=
K&&K.anchor;this.inherited(arguments);this._updateUI()},clearFeatures:function(G){G||(this._transientAnchor=null);this.inherited(arguments)},postscript:null,_highlightSetter:function(G){var K=this.highlight,I=this.map;this.highlight=G;if(I&&G!==K)if(G){if(this.enableHighlight(I),G=this.features&&this.features[this.selectedIndex])this.updateHighlight(I,G),this.showHighlight()}else this.disableHighlight(I)},_pagingControlsSetter:function(G){var K=this.pagingControls,I=this.map;this.pagingControls=G;
I&&G!==K&&this._updatePagingControls()},_pagingInfoSetter:function(G){var K=this.pagingInfo,I=this.map;this.pagingInfo=G;I&&G!==K&&this.features&&this.features.length&&this._updatePagingInfo()},_popupWindowSetter:function(G){var K=this.popupWindow,I=this.map;this.popupWindow=G;I&&G!==K&&(G?(this._updateUI(),this._updateWindow()):(this.hide(),this.showHighlight()))},_anchorSetter:function(G){var K=this.anchor;this.anchor=G;this.map&&G!==K&&this.reposition()},_startupContent:function(){var G=this._contentPane;
this.startupDijits(G);a.forEach(this._getPopupRendererDijits(G),function(K){if(!this._contentUpdateHandles[K.id]){var I=K.on("content-update",w.hitch(this,function(){this.reposition()}));this._contentUpdateHandles[K.id]=I}},this)},_destroyContent:function(){var G=this._contentPane;a.forEach(this._getPopupRendererDijits(G),function(K){var I=this._contentUpdateHandles[K.id];I&&(I.remove(),delete this._contentUpdateHandles[K.id])},this);this.destroyDijits(G)},_getPopupRendererDijits:function(G){G=this.getDijits(G);
return G=a.filter(G,function(K){return K&&K.set&&/_PopupRenderer/.test(K.declaredClass)})},_featuresCleared:function(){this.setTitle("\x26nbsp;");this.setContent("\x26nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight()},_featureSelected:function(){this._updateUI();this._updateWindow()},_updateWindow:function(){var G=this.selectedIndex;if(0<=G){var K=this.features[G].getContent();if(!this.titleInBody&&K&&w.isString(K.id)){var I=p.byId(K.id);I&&I.set&&/_PopupRenderer/.test(I.declaredClass)&&
I.set("showTitle",!1)}this.setContent(K);this.updateHighlight(this.map,this.features[G]);this.showHighlight()}},_toggleVisibility:function(G){this._setVisibility(G);this.isShowing=G},_setVisibility:function(G){c.toggle(this.domNode,"esriPopupVisible",G);c.toggle(this.domNode,"esriPopupHidden",!G)},_waitAndHide:function(G){var K=this;this._delayHide=!0;setTimeout(function(){K._delayHide&&(K._delayHide=!1,K.hide())},G)},_followMap:function(){this._unfollowMap();var G=this.map;this._handles=[t.connect(G,
"onPanStart",this,this._onPanStart),t.connect(G,"onPan",this,this._onPan),t.connect(G,"onZoomStart",this,this._onZoomStart),t.connect(G,"onExtentChange",this,this._onExtentChange)]},_unfollowMap:function(){var G=this._handles;G&&(a.forEach(G,t.disconnect),this._handles=null)},_onPanStart:function(){var G=this.domNode.style;this._panOrigin={left:G.left,top:G.top,right:G.right,bottom:G.bottom}},_onPan:function(G,K){var I=this._panOrigin;G=K.x;K=K.y;var O=I.left,V=I.top,na=I.right;I=I.bottom;O&&(O=parseFloat(O)+
G+"px");V&&(V=parseFloat(V)+K+"px");na&&(na=parseFloat(na)-G+"px");I&&(I=parseFloat(I)-K+"px");r.set(this.domNode,{left:O,top:V,right:na,bottom:I})},_onZoomStart:function(){this._setVisibility(!1)},_onExtentChange:function(G,K,I){I&&(this._setVisibility(!0),this.show(this._targetLocation||this.location));this._targetLocation=null},_toggleSize:function(){this._maximized?this.restore():this.maximize()},_getTargetAnchor:function(){return this._transientAnchor||this.anchor},_setPosition:function(G){var K=
G.x,I=G.y;G=this.offsetX||0;var O=this.offsetY||0,V=0,na=0,ja=this.map,la=ja.position.x,ca=ja.position.y,ea=ja.width,oa=ja.height;ja="Left";var sa="bottom",za="right",Z="top",ka=m.getContentBox(this._positioner),ua=ka.w/2,A=ka.h/2,F=r.get(this._sizers[0],"height")+this._maxHeight+r.get(this._sizers[2],"height"),Q=F/2,X=0,aa=0,pa=ea,ra=oa,T=K,U=I,ba=this._getTargetAnchor().toLowerCase();if("auto"===ba){if(ba=h.getBox)ba=ba(),X=Math.max(ba.l,la),pa=Math.min(ba.l+ba.w,la+ea),aa=Math.max(ba.t,ca),ra=
Math.min(ba.t+ba.h,ca+oa),T+=la,U+=ca;la=U-aa>=F;ca=ra-U>=F;ea=pa-T>=ka.w;ka=T-X>=ka.w;U-aa>Q&&ra-U>=Q&&(ea?(sa="",ja="Left",Z="",za="right"):ka&&(sa="",ja="Right",Z="",za="left"));ja&&sa&&T-X>ua&&pa-T>=ua&&(la?(ja="",sa="bottom",za="",Z="top"):ca&&(ja="",sa="top",za="",Z="bottom"));ja&&sa&&(ea&&la?(ja="Left",sa="bottom",za="right",Z="top"):ea&&ca?(ja="Left",sa="top",za="right",Z="bottom"):ka&&ca?(ja="Right",sa="top",za="left",Z="bottom"):ka&&la&&(ja="Right",sa="bottom",za="left",Z="top"));this._anchor=
Z&&za?Z+"-"+za:Z||za}else sa=ja="",-1!==ba.indexOf("top")?sa="bottom":-1!==ba.indexOf("bottom")&&(sa="top"),-1!==ba.indexOf("left")?ja="Right":-1!==ba.indexOf("right")&&(ja="Left"),this._anchor=this._getTargetAnchor();za=sa+ja;switch(za){case "top":case "bottom":na=14;break;case "Left":case "Right":V=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":na=14,V=-16}r.set(this.domNode,{left:K+"px",top:I+"px",right:null,bottom:null});K={left:null,right:null,top:null,bottom:null};
ja?K[ja.toLowerCase()]=V+G+"px":K.left=-ua+"px";sa?K[sa]=na+O+"px":K.top=-A+"px";r.set(this._positioner,K);this._showPointer(za)},_showPointer:function(G){c.remove(this._pointer,"top bottom right left topLeft topRight bottomRight bottomLeft hidden".split(" "));c.remove(this._outerPointer,["right","left","hidden"]);"Right"===G||"Left"===G?(G=G.toLowerCase(),c.add(this._outerPointer,G)):c.add(this._pointer,G)},_setPagerCallbacks:function(G,K,I){if(this.pagingControls&&(G!==this||this._pagerScope&&this._pagerScope!==
this)&&G!==this._pagerScope){this._pagerScope=G;G===this&&(K=this.selectPrevious,I=this.selectNext);var O=this._eventConnections;t.disconnect(O[1]);t.disconnect(O[2]);K&&(O[1]=t.connect(this._prevFeatureButton,"onclick",G,K));I&&(O[2]=t.connect(this._nextFeatureButton,"onclick",G,I))}},_getLocation:function(G){var K=G&&G.geometry;if(K)switch(K.type){case "point":var I=K;if(G.isAggregate()){G=G.getChildGraphics();var O=G[0];G=(O=O.geometry&&O.geometry.spatialReference)&&new k({points:a.map(G,function(V){V=
V.geometry;return[V.x,V.y]}),spatialReference:O.toJson()});O=v.getDenormalizedExtent(G)}break;case "multipoint":I=K.getPoint(0);O=v.getDenormalizedExtent(K);break;case "polyline":case "polygon":I=K.getPoint(0,0),O=v.getDenormalizedExtent(K)}return[I,O]},_zoomToFeature:function(G){G.preventDefault();var K=this.features,I=this.selectedIndex;G=this.map;if(K)if(I=this._getLocation(K[I]),K=I[0],I=I[1],K||(K=this.location),I&&I.intersects(this.location)||(this.location=K),I&&I.getWidth()&&I.getHeight())G.setExtent(I,
!0);else{var O=G.getNumLevels();I=G.getLevel();var V=G.getMaxZoom(),na=this.zoomFactor||1;0<O?I!==V&&(O=I+na,O>V&&(O=V),G.navigationManager._wheelZoom({value:O-I,mapPoint:K},!0)):G.navigationManager._wheelZoom({value:1/Math.pow(2,na)*2,mapPoint:K},!0)}},_updatePagingControls:function(){var G=this._prevFeatureButton,K=this._nextFeatureButton,I=this.selectedIndex,O=this.features?this.features.length:0;this.pagingControls&&1<O?(0===I?c.add(G,"hidden"):c.remove(G,"hidden"),I===O-1?c.add(K,"hidden"):c.remove(K,
"hidden")):(c.add(G,"hidden"),c.add(K,"hidden"))},_updatePagingInfo:function(){var G=this.features?this.features.length:0,K=this._nls,I="\x26nbsp;";this.pagingInfo&&1<G&&K.NLS_pagingInfo&&(I=y.substitute({index:this.selectedIndex+1,total:G},K.NLS_pagingInfo));G&&(K=this.getSelectedFeature(),G=K.getInfoTemplate(),K=K.getTitle(),G&&!/esri\.InfoTemplate/.test(G.declaredClass)&&this.titleInBody||!K||(I=K+("\x26nbsp;"===I?"":" "+I)));this.setTitle(I)},_updateUI:function(){if(this.popupWindow){var G=this.features,
K=this.deferreds,I=G?G.length:0,O=this._spinner,V=this._actionList,na=this._nls;this._updatePagingControls();this._updatePagingInfo();I?c.remove(V,"hidden"):c.add(V,"hidden");K&&K.length?G?c.remove(O,"hidden"):this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+na.NLS_searching+"...\x3c/div\x3e"):c.add(O,"hidden");I||K&&K.length?this._delayHide=!1:(this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+na.NLS_noInfo+".\x3c/div\x3e"),this.visibleWhenEmpty||this._waitAndHide(this.hideDelay))}}});
n("extend-esri")&&w.setObject("dijit.Popup",D,u);return D})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(D,w,a,t,l,n,h){w.add("rtl-adjust-position-for-verticalScrollBar",function(e,d){e=a.body(d);d=h.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},e,"last");var b=h.create("div",{style:{overflow:"hidden",
direction:"ltr"}},d,"last"),c=0!=l.position(b).x;d.removeChild(b);e.removeChild(d);return c});w.add("position-fixed-support",function(e,d){e=a.body(d);d=h.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},e,"last");var b=h.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),c=l.position(b).x!=l.position(d).x;d.removeChild(b);e.removeChild(d);return c});var g={getBox:function(e){e=e||a.doc;var d="BackCompat"==e.compatMode?a.body(e):e.documentElement,
b=l.docScroll(e);if(w("touch")){var c=g.get(e);e=c.innerWidth||d.clientWidth;d=c.innerHeight||d.clientHeight}else e=d.clientWidth,d=d.clientHeight;return{l:b.x,t:b.y,w:e,h:d}},get:function(e){if(w("ie")&&g!==document.parentWindow){e.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var d=e._parentWindow;e._parentWindow=null;return d}return e.parentWindow||e.defaultView},scrollIntoView:function(e,d){try{e=t.byId(e);var b=e.ownerDocument||a.doc,c=a.body(b),f=b.documentElement||
c.parentNode,m=w("ie")||w("trident"),r=w("webkit");if(e!=c&&e!=f)if(!(w("mozilla")||m||r||w("opera")||w("trident")||w("edge"))&&"scrollIntoView"in e)e.scrollIntoView(!1);else{var p="BackCompat"==b.compatMode,u=Math.min(c.clientWidth||f.clientWidth,f.clientWidth||c.clientWidth),y=Math.min(c.clientHeight||f.clientHeight,f.clientHeight||c.clientHeight);b=r||p?c:f;var x=d||l.position(e),z=e.parentNode;d=function(la){return 6>=m||7==m&&p?!1:w("position-fixed-support")&&"fixed"==n.get(la,"position").toLowerCase()};
var q=this;r=function(la,ca,ea){"BODY"==la.tagName||"HTML"==la.tagName?q.get(la.ownerDocument).scrollBy(ca,ea):(ca&&(la.scrollLeft+=ca),ea&&(la.scrollTop+=ea))};if(!d(e))for(;z;){z==c&&(z=b);var k=l.position(z),v=d(z),B="rtl"==n.getComputedStyle(z).direction.toLowerCase();if(z==b)k.w=u,k.h=y,b==f&&(m||w("trident"))&&B&&(k.x+=b.offsetWidth-k.w),k.x=0,k.y=0;else{var E=l.getPadBorderExtents(z);k.w-=E.w;k.h-=E.h;k.x+=E.l;k.y+=E.t;var N=z.clientWidth,G=k.w-N;0<N&&0<G&&(B&&w("rtl-adjust-position-for-verticalScrollBar")&&
(k.x+=G),k.w=N);N=z.clientHeight;G=k.h-N;0<N&&0<G&&(k.h=N)}v&&(0>k.y&&(k.h+=k.y,k.y=0),0>k.x&&(k.w+=k.x,k.x=0),k.y+k.h>y&&(k.h=y-k.y),k.x+k.w>u&&(k.w=u-k.x));var K=x.x-k.x,I=x.y-k.y,O=K+x.w-k.w,V=I+x.h-k.h;if(0<O*K&&(z.scrollLeft||z==b||z.scrollWidth>z.offsetHeight)){var na=Math[0>K?"max":"min"](K,O);B&&(8==m&&!p||5<=w("trident"))&&(na=-na);var ja=z.scrollLeft;r(z,na,0);na=z.scrollLeft-ja;x.x-=na}0<V*I&&(z.scrollTop||z==b||z.scrollHeight>z.offsetHeight)&&(na=Math.ceil(Math[0>I?"max":"min"](I,V)),
ja=z.scrollTop,r(z,0,na),na=z.scrollTop-ja,x.y-=na);z=z!=b&&!v&&z.parentNode}}}catch(la){console.error("scrollIntoView: "+la),e.scrollIntoView(!1)}}};D.setObject("dojo.window",g);return g})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(D,w,a,t){return D("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(l){var n=this._attrPairNames;return n[l]?n[l]:n[l]={s:"_"+l+"Setter",g:"_"+l+"Getter"}},postscript:function(l){l&&this.set(l)},
_get:function(l,n){return"function"===typeof this[n.g]?this[n.g]():this[l]},get:function(l){return this._get(l,this._getAttrNames(l))},set:function(l,n){if("object"===typeof l){for(var h in l)l.hasOwnProperty(h)&&"_watchCallbacks"!=h&&this.set(h,l[h]);return this}h=this._getAttrNames(l);var g=this._get(l,h);h=this[h.s];var e;"function"===typeof h?e=h.apply(this,Array.prototype.slice.call(arguments,1)):this[l]=n;if(this._watchCallbacks){var d=this;t(e,function(){d._watchCallbacks(l,g,n)})}return this},
_changeAttrValue:function(l,n){var h=this.get(l);this[l]=n;this._watchCallbacks&&this._watchCallbacks(l,h,n);return this},watch:function(l,n){var h=this._watchCallbacks;if(!h){var g=this;h=this._watchCallbacks=function(d,b,c,f){var m=function(r){if(r){r=r.slice();for(var p=0,u=r.length;p<u;p++)r[p].call(g,d,b,c)}};m(h["_"+d]);f||m(h["*"])}}n||"function"!==typeof l?l="_"+l:(n=l,l="*");var e=h[l];"object"!==typeof e&&(e=h[l]=[]);e.push(n);l={};l.unwatch=l.remove=function(){var d=a.indexOf(e,n);-1<d&&
e.splice(d,1)};return l}})})},"esri/geometry/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/has ../kernel ../config ../deferredUtils ./Extent ./Polyline ./Polygon ./webMercatorUtils ./jsonUtils".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c){function f(E,N){return Math.ceil((E-N)/(2*N))}function m(E,N){var G=E.paths||E.rings,K,I,O=G.length;for(K=0;K<O;K++){var V=G[K].length;for(I=0;I<V;I++){var na=E.getPoint(K,I);E.setPoint(K,I,na.offset(N,0))}}return E}
function r(E,N){if(!(E instanceof e||E instanceof d))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var G=E instanceof e,K=[],I;D.forEach(G?E.paths:E.rings,function(O){K.push(I=[]);I.push([O[0][0],O[0][1]]);var V,na;for(V=0;V<O.length-1;V++){var ja=O[V][0];var la=O[V][1];var ca=O[V+1][0];var ea=O[V+1][1];var oa=Math.sqrt((ca-ja)*(ca-ja)+(ea-la)*(ea-la));var sa=(ea-la)/
oa;var za=(ca-ja)/oa;var Z=oa/N;if(1<Z){for(na=1;na<=Z-1;na++){var ka=na*N;var ua=za*ka+ja;ka=sa*ka+la;I.push([ua,ka])}na=(oa+Math.floor(Z-1)*N)/2;ua=za*na+ja;ka=sa*na+la;I.push([ua,ka])}I.push([ca,ea])}});return G?new e({paths:K,spatialReference:E.spatialReference}):new d({rings:K,spatialReference:E.spatialReference})}function p(E,N,G){N&&(E=r(E,1E6),E=b.webMercatorToGeographic(E,!0));G&&(E=m(E,G));return E}function u(E,N,G){var K=E.x||E[0];if(K>N){var I=f(K,N);E.x?E=E.offset(-2*I*N,0):E[0]=K+-2*
I*N}else K<G&&(I=f(K,G),E.x?E=E.offset(-2*I*G,0):E[0]=K+-2*I*G);return E}function y(E,N){var G=-1;D.forEach(N.cutIndexes,function(K,I){var O=N.geometries[I];D.forEach(O.rings||O.paths,function(V,na){D.some(V,function(ja){if(!(180>ja[0])){ja=0;var la,ca=V.length;for(la=0;la<ca;la++){var ea=V[la][0];ja=ea>ja?ea:ja}ja=Number(ja.toFixed(9));ja=-360*f(ja,180);ca=V.length;for(la=0;la<ca;la++)ea=O.getPoint(na,la),O.setPoint(na,la,ea.offset(ja,0))}return!0})});K===G?O.rings?D.forEach(O.rings,function(V){E[K]=
E[K].addRing(V)}):D.forEach(O.paths,function(V){E[K]=E[K].addPath(V)}):(G=K,E[K]=O)});return E}function x(E,N,G,K){var I=new a;I.addCallbacks(G,K);N=N||n.defaults.geometryService;var O=[],V=[],na,ja,la,ca,ea,oa,sa,za,Z=0;D.forEach(E,function(F){if(F)if(na||(na=F.spatialReference,ja=na._getInfo(),ca=(la=na._isWebMercator())?2.0037508342788905E7:180,ea=la?-2.0037508342788905E7:-180,oa=la?102100:4326,sa=new e({paths:[[[ca,ea],[ca,ca]]],spatialReference:{wkid:oa}}),za=new e({paths:[[[ea,ea],[ea,ca]]],
spatialReference:{wkid:oa}})),ja){var Q=c.fromJson(F.toJson()),X=F.getExtent();"point"===F.type?O.push(u(Q,ca,ea)):"multipoint"===F.type?(Q.points=D.map(Q.points,function(aa){return u(aa,ca,ea)}),O.push(Q)):"extent"===F.type?(Q=X._normalize(null,null,ja),O.push(Q.rings?new d(Q):Q)):X?(F=2*f(X.xmin,ea)*ca,Q=0===F?Q:m(Q,F),X=X.offset(F,0),X.intersects(sa)&&X.xmax!==ca?(Z=X.xmax>Z?X.xmax:Z,Q=p(Q,la),V.push(Q),O.push("cut")):X.intersects(za)&&X.xmin!==ea?(Z=2*X.xmax*ca>Z?2*X.xmax*ca:Z,Q=p(Q,la,360),V.push(Q),
O.push("cut")):O.push(Q)):O.push(Q)}else O.push(F);else O.push(F)});G=new e;K=f(Z,ca);for(var ka=-90,ua=K;0<K;){var A=-180+360*K;G.addPath([[A,ka],[A,-1*ka]]);ka*=-1;K--}0<V.length&&0<ua?N?N.cut(V,G,function(F){V=y(V,F);var Q=[];D.forEach(O,function(X,aa){"cut"===X&&(X=V.shift(),E[aa].rings&&1<E[aa].rings.length&&X.rings.length>=E[aa].rings.length?(O[aa]="simplify",Q.push(X)):O[aa]=!0===la?b.geographicToWebMercator(X):X)});0<Q.length?N.simplify(Q,function(X){D.forEach(O,function(aa,pa){"simplify"===
aa&&(O[pa]=!0===la?b.geographicToWebMercator(X.shift()):X.shift())});I.callback(O)},function(X){I.errback(X)}):I.callback(O)},function(F){I.errback(F)}):I.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(D.forEach(O,function(F,Q){"cut"===F&&(F=V.shift(),O[Q]=!0===la?b.geographicToWebMercator(F):F)}),I.callback(O));return I}function z(E,N,G,K){var I=!1,O;w.isObject(E)&&E&&(w.isArray(E)?E.length&&((O=E[0]&&E[0].declaredClass)&&-1!==O.indexOf("Graphic")?
(E=D.map(E,function(V){return V.geometry}),I=E.length?!0:!1):O&&-1!==O.indexOf("esri.geometry.")&&(I=!0)):(O=E.declaredClass)&&-1!==O.indexOf("FeatureSet")?(E=D.map(E.features||[],function(V){return V.geometry}),I=E.length?!0:!1):O&&-1!==O.indexOf("esri.geometry.")&&(I=!0));I&&N.push({index:G,property:K,value:E})}function q(E,N){var G=[];D.forEach(N,function(K){var I=K.i,O=E[I];K=K.p;var V;if(w.isObject(O)&&O)if(K)if("*"===K[0])for(V in O)O.hasOwnProperty(V)&&z(O[V],G,I,V);else D.forEach(K,function(na){z(w.getObject(na,
!1,O),G,I,na)});else z(O,G,I)});return G}function k(E,N){var G=0,K={};D.forEach(N,function(I){var O=I.index,V=I.property,na=I.value,ja=na.length||1,la=E.slice(G,G+ja);w.isArray(na)||(la=la[0]);G+=ja;delete I.value;V?(K[O]=K[O]||{},K[O][V]=la):K[O]=la});return K}function v(E){for(var N=[],G=0,K=0,I=Math.min,O=Math.max,V=0;V<E.length;V++){for(var na=E[V],ja=null,la=0;la<na.length;la++)ja=na[la],N.push(ja),0===la?K=G=ja[0]:(G=I(G,ja[0]),K=O(K,ja[0]));ja&&N.push([(G+K)/2,0])}return N}var B={normalizeCentralMeridian:x,
_foldCutResults:y,_prepareGeometryForCut:p,_offsetMagnitude:f,_pointNormalization:u,_updatePolyGeometry:m,_straightLineDensify:r,_createWrappers:function(E){var N=w.isObject(E)?E.prototype:w.getObject(E+".prototype");D.forEach(N.__msigns,function(G){var K=N[G.n];N[G.n]=function(){var I=this,O=[],V,na=new a(h._dfdCanceller);G.f&&h._fixDfd(na);for(V=0;V<G.c;V++)O[V]=arguments[V];var ja={dfd:na};O.push(ja);var la=[],ca;if(I.normalization&&!I._isTable){var ea=q(O,G.a);D.forEach(ea,function(oa){la=la.concat(oa.value)});
la.length&&(ca=x(la))}ca?(na._pendingDfd=ca,ca.addCallbacks(function(oa){na.canceled||(ja.assembly=k(oa,ea),na._pendingDfd=K.apply(I,O))},function(oa){var sa=I.declaredClass;sa&&-1!==sa.indexOf("FeatureLayer")?I._resolve([oa],null,O[G.e],na,!0):I._errorHandler(oa,O[G.e],na)})):na._pendingDfd=K.apply(I,O);return na}})},_disassemble:q,_addToBucket:z,_reassemble:k,getDenormalizedExtent:function(E){if(!E)return null;var N=E.getExtent();if(!N)return null;var G=E.spatialReference&&E.spatialReference._getInfo();
if(!G)return N;var K=G.valid[0];G=G.valid[1];var I=2*G,O=N.getWidth(),V=N.xmax,na=N.xmin;if("extent"===E.type||0===O||O<=G||O>I||V<K||na>G)return N;switch(E.type){case "polygon":if(1<E.rings.length)var ja=v(E.rings);else return N;break;case "polyline":if(1<E.paths.length)ja=v(E.paths);else return N;break;case "multipoint":ja=E.points}E=Math.min;K=Math.max;I=new g(N.toJson());for(var la=0;la<ja.length;la++){var ca=ja[la][0];0>ca?(ca+=G,na=K(ca,na)):(ca-=G,V=E(ca,V))}I.xmin=V;I.xmax=na;return I.getWidth()<
O?(I.xmin-=G,I.xmax-=G,I):N}};t("extend-esri")&&w.mixin(w.getObject("geometry",!0,l),B);return B})},"esri/geometry/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ../lang ./Point ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(D,w,a,t,l,n,h,g,e){function d(m,r,p){var u=m.rings||m.paths,y,x;var z=0;for(y=u.length;z<y;z++){var q=u[z];var k=0;for(x=q.length;k<x;k++){var v=q[k];if(0<k)B+=v[0],E+=v[1];else{var B=v[0];var E=v[1]}v[0]=r(B);v[1]=p(E)}}return m}var b={esriGeometryPoint:function(m,
r,p){m.x=r(m.x);m.y=p(m.y);return m},esriGeometryPolyline:d,esriGeometryPolygon:d,esriGeometryEnvelope:function(m,r,p){m.xmin=r(m.xmin);m.ymin=p(m.ymin);m.xmax=r(m.xmax);m.ymax=p(m.ymax);return m},esriGeometryMultipoint:function(m,r,p){var u=m.points,y;var x=0;for(y=u.length;x<y;x++){var z=u[x];if(0<x)q+=z[0],k+=z[1];else{var q=z[0];var k=z[1]}z[0]=r(q);z[1]=p(k)}return m}},c={esriGeometryPoint:function(m,r,p){m.x=r(m.x);m.y=p(m.y);return m}},f={createInstance:function(m,r){m=new m;r&&t.mixin(m,r);
return m},fromJson:function(m){if(void 0!==m.x&&void 0!==m.y)return new l(m);if(void 0!==m.paths)return new n(m);if(void 0!==m.rings)return new h(m);if(void 0!==m.points)return new g(m);if(void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax)return new e(m)},getJsonType:function(m){return m instanceof l?"esriGeometryPoint":m instanceof n?"esriGeometryPolyline":m instanceof h?"esriGeometryPolygon":m instanceof e?"esriGeometryEnvelope":m instanceof g?"esriGeometryMultipoint":null},getGeometryType:function(m){return"esriGeometryPoint"===
m?l:"esriGeometryPolyline"===m?n:"esriGeometryPolygon"===m?h:"esriGeometryEnvelope"===m?e:"esriGeometryMultipoint"===m?g:null},supportsLazyUnquantization:function(m){return"esriGeometryPoint"===m||"esriGeometryPolyline"===m||"esriGeometryPolygon"===m||"esriGeometryMultipoint"===m},unquantizeFunction:function(m,r){if(m&&r){var p=r.translate[0],u=r.translate[1],y=r.scale[0],x=r.scale[1],z=function(v){return v*y+p},q=function(v){return u-v*x},k=b[m];return function(v){return v?k(v,z,q):null}}},unquantize:function(m,
r,p){if(r=f.unquantizeFunction(r,p)){var u=m.length;for(p=0;p<u;p++)r(m[p].geometry)}},quantizeFunction:function(m,r){if(m&&"esriGeometryPoint"===m&&r){var p=r.translate[0],u=r.translate[1],y=r.scale[0],x=r.scale[1],z=function(v){return Math.round((v-p)/y)},q=function(v){return Math.round((u-v)/x)},k=c[m];return function(v){return v?k(v,z,q):null}}},quantize:function(m,r,p){if(r=f.quantizeFunction(r,p)){var u=m.length;for(p=0;p<u;p++)r(m[p].geometry)}}};w("extend-esri")&&D.mixin(D.getObject("geometry",
!0,a),f);return f})},"esri/InfoWindowBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/dom-construct dojo/has dijit/registry ./kernel ./lang ./geometry/ScreenPoint".split(" "),function(D,w,a,t,l,n,h,g,e,d,b){D=D(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var c=w.hitch;this.__set_title=c(this,this.__set_title);this.__err_title=c(this,this.__err_title);this.__set_content=c(this,this.__set_content);this.__err_content=
c(this,this.__err_content)},setMap:function(c){this.map=c},unsetMap:function(c){delete this.map},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},place:function(c,f){d.isDefined(c)?w.isObject(c)?n.place(c,f,"only"):f.innerHTML=c:f.innerHTML=""},startupDijits:function(c){this._processDijits(c)},destroyDijits:function(c){this._processDijits(c,!0)},getDijits:function(c){var f=[];c&&1===c.children.length&&(c=
c.children[0])&&(f=(f=g.byNode(c))?[f]:g.findWidgets(c));return f},_processDijits:function(c,f){c=this.getDijits(c);a.forEach(c,function(m){if(f){if(m._started&&!m._destroyed)try{m.destroyRecursive?m.destroyRecursive():m.destroy&&m.destroy()}catch(r){console.debug("An error occurred when destroying a widget embedded within InfoWindow: "+r.message)}}else if(!m._started)try{m.startup()}catch(r){console.debug("An error occurred when starting a widget embedded within InfoWindow: "+r.message)}})},__registerMapListeners:function(){this.__unregisterMapListeners();
var c=this.map;this.__handles=[t.connect(c,"onPan",this,this.__onMapPan),t.connect(c,"onZoomStart",this,this.__onMapZmStart),t.connect(c,"onExtentChange",this,this.__onMapExtChg)]},__unregisterMapListeners:function(){var c=this.__handles;c&&(a.forEach(c,t.disconnect,t),this.__handles=null)},__onMapPan:function(c,f){this.move(f,!0)},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new b(this.coords));this.hide(null,!0)},__onMapExtChg:function(c,f,m){c=this.map;var r=this.mapCoords;
r?this.show(r,null,!0):(f=m?c.toScreen(this.__mcoords):this.coords.offset(f&&f.x||0,f&&f.y||0),this.show(f,null,!0))},__setValue:function(c,f){this[c].innerHTML="";var m="_dfd"+c,r=this[m];r&&-1===r.fired&&(r.cancel(),this[m]=null);d.isDefined(f)&&(f instanceof l?(this[m]=f,f.addCallbacks(this["__set"+c],this["__err"+c])):this.__render(c,f))},__set_title:function(c){this._dfd_title=null;this.__render("_title",c)},__err_title:function(c){this._dfd_title=null},__set_content:function(c){this._dfd_content=
null;this.__render("_content",c)},__err_content:function(c){this._dfd_content=null},__render:function(c,f){var m=this[c];this.place(f,m);this.isShowing&&(this.startupDijits(m),"_title"===c&&this._adjustContentArea&&this._adjustContentArea())}});h("extend-esri")&&(e.InfoWindowBase=D);return D})},"esri/PopupBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has ./kernel ./graphic ./geometry/Point ./geometry/jsonUtils ./geometry/mathUtils ./geometry/webMercatorUtils ./symbols/SimpleMarkerSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/SimpleFillSymbol ./tasks/query ./Evented".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y){function x(z){return"sizeInfo"===z.type}D=D(y,{declaredClass:"esri.PopupBase",_featureLayers:{},_updateEndHandles:[],_mapLevelChangeHandle:null,_evtMap:{"set-features":!0,"clear-features":!0,"selection-change":!0,"dfd-complete":!0},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1;this.on("clear-features",w.hitch(this,this._resetUpdateEndListeners));
this.on("dfd-complete",w.hitch(this,this._processFeatures));this.on("set-features",w.hitch(this,this._processFeatures));this.on("selection-change",w.hitch(this,this._checkFeatureResolution))},cleanup:function(){this.features=this.deferreds=null;this._resetUpdateEndListeners();this._untrackMapLevelChange()},setFeatures:function(z){if(z&&z.length){this.clearFeatures(!0);var q,k;z[0]instanceof l?k=z:q=z;q?this._updateFeatures(null,q):(this.deferreds=k,k=k.slice(0),a.forEach(k,function(v){v.addBoth(w.hitch(this,
this._updateFeatures,v))},this))}},clearFeatures:function(z){this.features=this.deferreds=this._marked=null;this.count=0;var q=this.selectedIndex;this.selectedIndex=-1;if(-1<q)this.onSelectionChange();this.onClearFeatures({isIntermediate:!!z})},getSelectedFeature:function(){var z=this.features;if(z)return z[this.selectedIndex]},select:function(z){0>z||z>=this.count||(this.selectedIndex=z,this.onSelectionChange())},enableHighlight:function(z){this._highlighted=z.graphics.add(new g(new e(0,0,z.spatialReference)));
this._highlighted.attr("data-popup-highlight","");this._highlighted.hide();this._trackMapLevelChange(z);this.markerSymbol||(z=this.markerSymbol=new f,z.setStyle(f.STYLE_TARGET),z._setDim(16,16,0),z.setOutline(new r(m.STYLE_SOLID,new t([0,255,255]),2,r.CAP_ROUND,r.JOIN_ROUND)),z.setColor(new t([0,0,0,0])));this.lineSymbol||(this.lineSymbol=new m(m.STYLE_SOLID,new t([0,255,255]),2));this.fillSymbol||(this.fillSymbol=new p(p.STYLE_NULL,new m(m.STYLE_SOLID,new t([0,255,255]),2),new t([0,0,0,0])));this.clusterFillSymbol||
(this.clusterFillSymbol=new p(p.STYLE_SOLID,new m(m.STYLE_SOLID,new t([0,255,255]),1.33),null))},disableHighlight:function(z){var q=this._highlighted;q&&(q.hide(),z.graphics.remove(q),delete this._highlighted);this._untrackMapLevelChange();this.markerSymbol=this.lineSymbol=this.fillSymbol=null},showHighlight:function(){var z=this.features&&this.features[this.selectedIndex];this._highlighted&&z&&z.geometry&&this._highlighted.show()},hideHighlight:function(){this._highlighted&&this._highlighted.hide()},
updateHighlight:function(z,q){var k=q.geometry,v=this._highlighted;if(k&&v){v.hide();!v._graphicsLayer&&z&&z.graphics.add(v);v.setGeometry(d.fromJson(k.toJson()));switch(k.type){case "point":case "multipoint":var B=q.getLayer(),E=q.symbol||B&&B._getSymbol(q);if(B&&E){var N;k=E.xoffset||0;var G=E.yoffset||0,K=E.angle||0;switch(E.type){case "simplemarkersymbol":var I=N=E.size||0;break;case "picturemarkersymbol":I=E.width||0;N=E.height||0;break;case "textsymbol":I=N=E.font&&E.font.size||0}var O=q.symbol?
null:B._getRenderer(q);(B=this._getSizeInfo(O))?z=q=O.getSize(q,{sizeInfo:B,shape:E.style,resolution:z&&z.getResolutionInMeters&&z.getResolutionInMeters()}):null!=q.size?z=q=q.size:(z=I,q=N);O=this.markerSymbol;z&&q&&(k&&(k=k/I*z),G&&(G=G/N*q),O._setDim(z+4,q+4,0));O.setOffset(k,G);O.setAngle(K)}break;case "polyline":O=this.lineSymbol;break;case "polygon":O=this.fillSymbol}v.setSymbol(O)}else v&&v.hide()},showClosestFirst:function(z){var q=this.features;if(q&&q.length){if(1<q.length){var k,v=Infinity,
B=-1,E,N=b.getLength,G=z.spatialReference;z=z.normalize();for(k=q.length-1;0<=k;k--)if(E=q[k].geometry){var K=E.spatialReference;var I=0;try{var O="point"===E.type?E:E.getExtent().getCenter();O=O.normalize();G&&K&&!G.equals(K)&&G._canProject(K)&&(O=G.isWebMercator()?c.geographicToWebMercator(O):c.webMercatorToGeographic(O));I=N(z,O)}catch(V){}0<I&&I<v&&(v=I,B=k)}0<B&&(q.splice(0,0,q.splice(B,1)[0]),this.select(0))}}else this.deferreds&&(this._marked=z)},_trackMapLevelChange:function(z){this._untrackMapLevelChange();
this._mapLevelChangeHandle=z.on("extent-change",w.hitch(this,function(q){q.levelChange&&this._checkFeatureResolution()}))},_untrackMapLevelChange:function(){this._mapLevelChangeHandle&&(this._mapLevelChangeHandle.remove(),this._mapLevelChangeHandle=null)},_unbind:function(z){z=a.indexOf(this.deferreds,z);if(-1!==z)return this.deferreds.splice(z,1),this.deferreds.length?1:(this.deferreds=null,2)},_fireComplete:function(z){var q=this._marked;q&&(this._marked=null,this.showClosestFirst(q));this.onDfdComplete(z)},
_updateFeatures:function(z,q){if(z){if(this.deferreds&&(z=this._unbind(z)))if(q&&q instanceof Error){if(this._fireComplete(q),2===z)this.onSetFeatures()}else if(q&&q.length)if(this.features){if(q=a.filter(q,function(k){return-1===a.indexOf(this.features,k)},this),this.features=this.features.concat(q),this.count=this.features.length,this._fireComplete(),2===z)this.onSetFeatures()}else{this.features=q;this.count=q.length;this.selectedIndex=0;this._fireComplete();if(2===z)this.onSetFeatures();this.select(0)}else if(this._fireComplete(),
2===z)this.onSetFeatures()}else this.features=q,this.count=q.length,this.selectedIndex=0,this.onSetFeatures(),this.select(0)},_getSizeInfo:function(z){return z?z.sizeInfo||a.filter(z.visualVariables,x)[0]:null},_resetUpdateEndListeners:function(){this._featureLayers={};a.forEach(this._updateEndHandles,function(z){z.remove()});this._updateEndHandles=[]},_processFeatures:function(){a.forEach(this.features,function(z){(z=z.getLayer())&&!this._featureLayers[z.id]&&(1===z.currentMode||0===z.currentMode&&
6===z.mode)&&z.objectIdField&&z.hasXYFootprint&&z.queryFeatures&&(this._featureLayers[z.id]=z,z=z.on("update-end",w.hitch(this,this._fLyrUpdateEndHandler)),this._updateEndHandles.push(z))},this)},_fLyrUpdateEndHandler:function(z){if(!z.error){var q=this,k=z.target,v=k.getSelectedFeatures(),B=0===k.currentMode&&6===k.mode,E={},N=[];a.forEach(this.features,function(G){if(G.getLayer()===k){var K=G.attributes[k.objectIdField];E[K]=G;N.push(K)}});N.length&&(z=new u,z.objectIds=N,k.queryFeatures(z,function(G){a.forEach(G.features,
function(K){var I=E[K.attributes[k.objectIdField]],O=!1;I.geometry!==K.geometry||k.hasWebGLSurface()?(I.setGeometry(K.geometry),O=!0):B&&v&&-1!==a.indexOf(v,K)&&(O=!0);O&&this._highlighted&&I===this.getSelectedFeature()&&this._highlighted.setGeometry(K.geometry)},q)}))}},_checkFeatureResolution:function(){var z=this.getSelectedFeature(),q=this.map;if(z&&q){var k=z.getLayer();if(k){var v=z.getResolution();2===k.currentMode&&z.geometry&&v&&v>q.getResolution()&&(q=q.getResolutionForPopup(),(k=this._refetchFeature(z,
q,k))&&k.then(w.hitch(this,this._updateFeatureResolution,z,q)))}}},_refetchFeature:function(z,q,k){if(z=this._createQueryForCustomResolution(z,q,k))return k.queryFeatures(z).then(function(v){return v&&v.features[0]})},_createQueryForCustomResolution:function(z,q,k){k=k.objectIdField;var v=z.attributes;v=v&&k&&v[k];if(null==v)return null;var B=new u;B.objectIds=[v];B.maxAllowableOffset=q;B.outFields=[k];B.outSpatialReference=z.geometry.spatialReference;return B},_updateFeatureResolution:function(z,
q,k){z.getResolution()!==q&&(z.setResolution(q),z.setGeometry(k.geometry),this._highlighted&&z===this.getSelectedFeature()&&this._highlighted.setGeometry(z.geometry))}});n("extend-esri")&&(h.PopupBase=D);return D})},"esri/graphic":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./domUtils ./lang ./InfoTemplate ./geometry/jsonUtils ./symbols/jsonUtils".split(" "),function(D,w,a,t,l,n,h,g,e){function d(){}D=D(null,{declaredClass:"esri.Graphic",constructor:function(b,c,f,m){this._construct();
b&&!b.declaredClass?(this.geometry=b.geometry?g.fromJson(b.geometry):null,this.symbol=b.symbol?e.fromJson(b.symbol):null,this.attributes=b.attributes||null,this.infoTemplate=b.infoTemplate?new h(b.infoTemplate):null):(this.geometry=b,this.symbol=c,this.attributes=f,this.infoTemplate=m)},_geomVersion:0,_resolution:null,_shape:null,_bgShape:null,_dataAttrs:null,_layer:null,_sourceLayer:null,_graphicsLayer:null,_parentGraphic:null,_suspended:!1,size:null,visible:!0,_aggregationSourceLayer:null,_aggregationInfo:null,
_computedAttributes:null,_computedVersion:null,_computedGeomVersion:null,_isSnapTarget:!0,getParentGraphic:function(){return this._parentGraphic},setParentGraphic:function(b){this._parentGraphic=b},setSize:function(b){this.size=b;return this},getAggregationSourceLayer:function(){return this._aggregationSourceLayer},setAggregationSourceLayer:function(b){this._aggregationSourceLayer=b;return this},isAggregate:function(){return!!this._aggregationInfo},getAggregationInfo:function(){return this._aggregationInfo},
setAggregationInfo:function(b){this._aggregationInfo=b;return this},getChildGraphics:function(){var b=this.getAggregationSourceLayer();return b?b.getChildGraphics(this):[]},getDojoShape:function(){return this._shape},getShapes:function(){var b=[];this._shape&&b.push(this._shape);this._bgShape&&b.push(this._bgShape);return b},getNode:function(){var b=this._shape&&this._shape.getNode();return b&&b.nodeType?b:null},getNodes:function(){var b=this.getShapes(),c,f,m=b.length,r=[];for(f=0;f<m;f++)(c=b[f]&&
b[f].getNode())&&c.nodeType&&r.push(c);return r},getLayer:function(){return this._layer},getSourceLayer:function(){return this._sourceLayer||this._layer},clone:function(){var b=new this.constructor(this.toJson());b.visible=this.visible;b._layer=this._layer;b._sourceLayer=this._sourceLayer;b._aggregationSourceLayer=this._aggregationSourceLayer;b._aggregationInfo=this._aggregationInfo;b._resolution=this._resolution;return b},draw:function(){var b=this._graphicsLayer;b&&b._draw(this,!0);return this},
setGeometry:function(b){this.geometry=b;this._geomVersion++;var c=this._graphicsLayer;c&&(c._updateExtent(this),this.draw(),b&&"polyline"===b.type&&c._updateSVGMarkers());return this},setResolution:function(b){this._resolution=b;return this},getResolution:function(){return this._resolution},setSymbol:function(b,c){var f=this._graphicsLayer,m=this._shape;this.symbol=b;f&&(c&&m&&f._removeShape(this),this.draw());return this},setAttributes:function(b){this.attributes=b;this.clearCache();return this},
setInfoTemplate:function(b){this.infoTemplate=b;return this},getInfoTemplate:function(){return this._getEffInfoTemplate()},_getEffInfoTemplate:function(){var b=this.getLayer();return this.infoTemplate||b&&b.infoTemplate},getTitle:function(){var b=this.getInfoTemplate(),c=b&&b.title;if(w.isFunction(c))c=c.call(b,this);else if(w.isString(c)){var f=(b=this.getLayer())&&b._getDateOpts;c=n.substitute(this.attributes,c,{first:!0,dateFormat:f&&f.call(b)})}return c},getContent:function(){var b=this.getInfoTemplate(),
c=b&&b.content;if(w.isFunction(c))c=c.call(b,this);else if(w.isString(c)){var f=(b=this.getLayer())&&b._getDateOpts;c=n.substitute(this.attributes,c,{dateFormat:f&&f.call(b)})}return c},attr:function(b,c){null==c||this._dataAttrs||(this._dataAttrs={});this._dataAttrs&&(this._dataAttrs[b]=c,this._setDataAttr(b,c));return this},_isSuspended:function(){return this._suspended},_suspend:function(){this._suspended=!0;this.draw()},_resume:function(){this._suspended=!1;this.draw()},show:function(){this.visible=
!0;this.attr("data-hidden");var b;if(this.getShapes().length){var c=this.getNodes();var f=c.length;for(b=0;b<f;b++)l.show(c[b])}else this.draw();(c=this._graphicsLayer)&&c._graphicVisibilityChanged(this);return this},hide:function(){this.visible=!1;this.attr("data-hidden","");var b=this._graphicsLayer,c,f;if(b){if("canvas-2d"===b.surfaceType)b._removeShape(this);else{var m=this.getNodes();if(f=m.length)for(c=0;c<f;c++)l.hide(m[c])}b._graphicVisibilityChanged(this)}return this},toJson:function(){var b=
{};this.geometry&&(b.geometry=this.geometry.toJson());this.attributes&&(b.attributes=w.mixin({},this.attributes));this.symbol&&(b.symbol=this.symbol.toJson());this.infoTemplate&&(b.infoTemplate=this.infoTemplate.toJson());return b},_setDataAttr:function(b,c){var f=this.getNodes(),m,r=f.length;for(m=0;m<r;m++)this._setDOMDataAttr(f[m],b,c)},_setDOMDataAttr:function(b,c,f){null==f?b.removeAttribute(c):b.setAttribute(c,f)},_applyDataAttrs:function(){var b=this._dataAttrs;if(b){var c=this.getNodes(),
f,m=c.length;for(f=0;f<m;f++)for(var r in b)this._setDOMDataAttr(c[f],r,b[r])}},_getViewInfo:function(b){return(b=(b=b||this.getLayer())&&b.getMap())&&b.getViewInfo()},evaluateExpression:function(b,c){return this._getDataValue(b._attributeDef,b._attributeCache,null,null,b,c)},_getDataValue:function(b,c,f,m,r,p){var u=c.id,y=this.attributes,x=b.field,z=c.isNumeric,q=null;if(u){var k=this._computedAttributes,v=this._computedVersion,B=this._computedGeomVersion;m=this._getViewInfo(m);var E=!(!r||!r.async),
N=p&&p.skipCache||E,G=!p||!1!==p.strictReturnType,K=c.dependsOnView||c.isJSFunc,I=c.dependsOnGeometry;k||(k=this._computedAttributes={});K&&!v&&(v=this._computedVersion={});I&&!B&&(B=this._computedGeomVersion={});var O=K&&v[u]!==m.version||I&&B[u]!==this._geomVersion;q=k[u];if(void 0===q||O||N)q=null,c.hasExpr?q=r?r.evaluate(p&&p.context):f.executeFunction(c.compiledFunc,f.createExecContext(this,m)):c.isJSFunc?q=x(this,b):y&&(q=y[x],z&&this._isValidNumber(q)&&(c=b.normalizationType||"field",f=q,q=
null,r=b.normalizationTotal,b=y[b.normalizationField],"log"===c&&0!==f?q=Math.log(f)*Math.LOG10E:"percent-of-total"===c&&this._isValidNumber(r)&&0!==r?q=f/r*100:"field"===c&&this._isValidNumber(b)&&0!==b&&(q=f/b))),G&&(E?z&&(this._construct(),q=q.then(this._sanitizeNumericValue)):q=this._sanitizeValue(q,z)),N||(k[u]=q,K&&(v[u]=m.version),I&&(B[u]=this._geomVersion))}else y&&(q=this._sanitizeValue(y[x],z));return q},_sanitizeValue:function(b,c){c&&!this._isValidNumber(b)&&(b=null);return b},_sanitizeNumericValue:function(b){return this._sanitizeValue(b,
!0)},_construct:function(){this._constructed||(this._sanitizeNumericValue=w.hitch(this,this._sanitizeNumericValue),this._constructed=!0)},_isValidNumber:function(b){return"number"===typeof b&&!isNaN(b)&&Infinity!==b&&-Infinity!==b},clearCache:function(b){if(null!=b){var c=this._computedAttributes,f=this._computedVersion,m=this._computedGeomVersion;c&&(c[b]=void 0);f&&(f[b]=void 0);m&&(m[b]=void 0)}else this._computedAttributes=this._computedVersion=this._computedGeomVersion=null}});D.prototype.getShape=
D.prototype.getDojoShape;d.prototype=D.prototype;D.simpleConstructor=d;a("extend-esri")&&(t.Graphic=D);return D})},"esri/InfoTemplate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel","./lang"],function(D,w,a,t,l){D=D(null,{declaredClass:"esri.InfoTemplate",constructor:function(n,h){n&&w.isObject(n)&&!w.isFunction(n)?w.mixin(this,n):(this.title=n||"${*}",this.content=h||"${*}")},setTitle:function(n){this.title=n;return this},setContent:function(n){this.content=n;return this},
toJson:function(){return l.fixJson({title:this.title,content:this.content})}});a("extend-esri")&&(t.InfoTemplate=D);return D})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has ../kernel ./SimpleMarkerSymbol ./PictureMarkerSymbol ./SimpleLineSymbol ./CartographicLineSymbol ./SimpleFillSymbol ./PictureFillSymbol ./TextSymbol".split(" "),function(D,w,a,t,l,n,h,g,e,d,b){var c={createDefaultSymbol:function(f){switch(f){case "esriGeometryPoint":case "esriGeometryMultipoint":var m=
c.createDefaultMarkerSymbol();break;case "esriGeometryPolyline":m=c.createDefaultLineSymbol();break;case "esriGeometryPolygon":case "esriGeometryEnvelope":case "esriGeometryMultiPatch":m=c.createDefaultFillSymbol()}return m},createDefaultMarkerSymbol:function(){return new l},createDefaultLineSymbol:function(){return new h},createDefaultFillSymbol:function(){return new e},getFirstSupportedSymbol:function(f){var m;w.some(f,function(r){r&&-1<c.supportedSymbolTypes.indexOf(r.type)&&(m=r);return!!m});
return m},isPointSymbol:function(f){return f?-1<c.supportedPointSymbolTypes.indexOf(f.type):!1},supportedPointSymbolTypes:["esriSMS","esriPMS","esriTS"],supportedSymbolTypes:"esriSMS esriPMS esriTS esriSLS esriCLS esriSFS esriPFS".split(" "),fromJson:function(f,m){var r=null;switch(f.type){case "esriSMS":r=new l(f);break;case "esriPMS":r=new n(f);break;case "esriTS":r=new b(f);break;case "esriSLS":r=void 0!==f.cap?new g(f):new h(f);break;case "esriCLS":r=new g(f);break;case "esriSFS":r=new e(f);break;
case "esriPFS":r=new d(f);break;default:r=(f=m&&m.geometryType)?c.createDefaultSymbol(f):null}return r},getShapeDescriptors:function(f){return f&&f.getShapeDescriptors?f.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}};a("extend-esri")&&D.mixin(D.getObject("symbol",!0,t),c);return c})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(D,w,a,t,l,n,h,g){var e=
{url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};D=D(g,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(d,b,c){d?w.isString(d)?(this.url=d,b&&(this.width=b),c&&(this.height=c)):(this.width=t.pt2px(null==d.width?e.width:d.width),this.height=t.pt2px(null==d.height?e.height:d.height),b=d.imageData,9>a("ie")||!b||(c=this.url,this.url="data:"+(d.contentType||"image")+";base64,"+b,this.imageData=c)):(w.mixin(this,e),this.width=t.pt2px(this.width),this.height=
t.pt2px(this.height))},getStroke:function(){return null},getFill:function(){return null},setWidth:function(d){this.width=d;return this},setHeight:function(d){this.height=d;return this},setUrl:function(d){d!==this.url&&(delete this.imageData,delete this.contentType);this.url=d;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var d=
this.url,b=this.imageData;if(0===d.indexOf("data:")){var c=d;d=b;b=c.indexOf(";base64,")+8;b=c.substr(b)}!w.isString(d)||0!==d.indexOf("/")&&0!==d.indexOf("//")&&0!==d.indexOf("./")&&0!==d.indexOf("../")||(d=h.getAbsoluteUrl(d));c=t.px2pt(this.width);c=isNaN(c)?void 0:c;var f=t.px2pt(this.height);f=isNaN(f)?void 0:f;d=n.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:d,imageData:b,contentType:this.contentType,width:c,height:f}));delete d.color;delete d.size;d.imageData||delete d.imageData;
return d}});D.defaultProps=e;a("extend-esri")&&(w.setObject("symbol.PictureMarkerSymbol",D,l),l.symbol.defaultPictureMarkerSymbol=e);return D})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./SimpleLineSymbol".split(" "),function(D,w,a,t,l,n,h,g){var e={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",
STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},d={color:[0,0,0,1],style:e.STYLE_SOLID,width:1,cap:e.CAP_BUTT,join:e.JOIN_MITER,miterLimit:10};D=D(g,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",
round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(b,c,f,m,r,p){b?w.isString(b)?(this.style=b,c&&(this.color=c),void 0!==f&&(this.width=f),m&&(this.cap=m),r&&(this.join=r),void 0!==p&&(this.miterLimit=p)):(this.cap=h.valueOf(this._caps,b.cap),this.join=h.valueOf(this._joins,b.join),this.width=l.pt2px(b.width),this.miterLimit=l.pt2px(b.miterLimit)):(w.mixin(this,d),this.color=new a(this.color),this.width=l.pt2px(this.width),
this.miterLimit=l.pt2px(this.miterLimit))},setCap:function(b){this.cap=b;return this},setJoin:function(b){this.join=b;return this},setMiterLimit:function(b){this.miterLimit=b;return this},getStroke:function(){return w.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===e.JOIN_MITER?this.miterLimit:this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){var b=
l.px2pt(this.miterLimit);b=isNaN(b)?void 0:b;return h.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:b}))}});w.mixin(D,e);D.defaultProps=d;t("extend-esri")&&(w.setObject("symbol.CartographicLineSymbol",D,n),n.symbol.defaultCartographicLineSymbol=d);return D})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./FillSymbol ./SimpleLineSymbol require".split(" "),
function(D,w,a,t,l,n,h,g,e,d){var b={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},c={style:b.STYLE_SOLID,color:[0,0,0,.25]};D=D(g,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",
_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(f,m,r){f?w.isString(f)?(this.style=f,void 0!==m&&(this.outline=m),void 0!==r&&(this.color=r)):this.style=h.valueOf(this._styles,f.style):(w.mixin(this,c),this.outline=new e(this.outline),this.color=new a(this.color))},setStyle:function(f){this.style=
f;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var f=this.style;return f===b.STYLE_NULL?null:f===b.STYLE_SOLID?this.color:w.mixin({},l.defaultPattern,{src:d.toUrl("../images/symbol/sfs/"+f+".png"),width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return h.fixJson(w.mixin(this.inherited("toJson",
arguments),{type:"esriSFS",style:this._styles[this.style]}))}});w.mixin(D,b);D.defaultProps=c;t("extend-esri")&&(w.setObject("symbol.SimpleFillSymbol",D,n),n.symbol.defaultSimpleFillSymbol=c);return D})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./Symbol ./SimpleLineSymbol".split(" "),function(D,w,a,t,l,n){D=D(l,{declaredClass:"esri.symbol.FillSymbol",constructor:function(h){h&&w.isObject(h)&&h.outline&&(this.outline=new n(h.outline))},setOutline:function(h){this.outline=
h;return this},toJson:function(){var h=this.inherited("toJson",arguments);this.outline&&(h.outline=this.outline.toJson());return h}});a("extend-esri")&&w.setObject("symbol.FillSymbol",D,t);return D})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./FillSymbol".split(" "),function(D,w,a,t,l,n,h,g){var e={xoffset:0,yoffset:0,width:12,height:12};D=D(g,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",
xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(d,b,c,f){d?w.isString(d)?(this.url=d,void 0!==b&&(this.outline=b),void 0!==c&&(this.width=c),void 0!==f&&(this.height=f)):(this.xoffset=t.pt2px(d.xoffset),this.yoffset=t.pt2px(d.yoffset),this.width=t.pt2px(d.width),this.height=t.pt2px(d.height),b=d.imageData,9>a("ie")||!b||(c=this.url,this.url="data:"+(d.contentType||"image")+";base64,"+b,this.imageData=c)):(w.mixin(this,e),this.width=t.pt2px(this.width),this.height=t.pt2px(this.height))},
setWidth:function(d){this.width=d;return this},setHeight:function(d){this.height=d;return this},setOffset:function(d,b){this.xoffset=d;this.yoffset=b;return this},setUrl:function(d){d!==this.url&&(delete this.imageData,delete this.contentType);this.url=d;return this},setXScale:function(d){this.xscale=d;return this},setYScale:function(d){this.yscale=d;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return w.mixin({},t.defaultPattern,{src:this.url,
width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var d=this.url,b=this.imageData;if(0===d.indexOf("data:")){var c=d;d=b;b=c.indexOf(";base64,")+8;b=c.substr(b)}!w.isString(d)||0!==d.indexOf("/")&&0!==d.indexOf("//")&&0!==d.indexOf("./")&&0!==d.indexOf("../")||(d=h.getAbsoluteUrl(d));
c=t.px2pt(this.width);c=isNaN(c)?void 0:c;var f=t.px2pt(this.height);f=isNaN(f)?void 0:f;var m=t.px2pt(this.xoffset);m=isNaN(m)?void 0:m;var r=t.px2pt(this.yoffset);r=isNaN(r)?void 0:r;d=n.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:d,imageData:b,contentType:this.contentType,width:c,height:f,xoffset:m,yoffset:r,xscale:this.xscale,yscale:this.yscale}));d.imageData||delete d.imageData;return d}});D.defaultProps=e;a("extend-esri")&&(w.setObject("symbol.PictureFillSymbol",D,
l),l.symbol.defaultPictureFillSymbol=e);return D})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Symbol ./Font".split(" "),function(D,w,a,t,l,n,h,g,e){var d={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:t.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},b={start:"left",middle:"center",end:"right"},c={left:"start",center:"middle",right:"end",justify:"start"},
f={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},m=document.createElement("canvas");D=D(g,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(r,p,u){w.mixin(this,d);this.font=new e(this.font);this.color=new h(this.color);r&&(w.isObject(r)?(w.mixin(this,r),this.color&&n.isDefined(this.color[0])&&(this.color=h.toDojoColor(this.color)),this.type="textsymbol",this.font=new e(this.font),this.xoffset=t.pt2px(this.xoffset),this.yoffset=
t.pt2px(this.yoffset),this.angle&&(this.angle*=-1),this.haloSize&&(this.haloSize=t.pt2px(this.haloSize)),this.haloColor&&(this.haloColor=h.toDojoColor(this.haloColor))):(this.text=r,p&&(this.font=p),u&&(this.color=u)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(r){this.font=r;return this},setSize:function(r){this.font.size=r;return this},setAngle:function(r){this.angle=r;return this},setOffset:function(r,p){this.xoffset=r;this.yoffset=p;return this},setHaloColor:function(r){this.haloColor=
r;return this},setHaloSize:function(r){this.haloSize=r;return this},setAlign:function(r){this.align=r;this.setHorizontalAlignment(r&&b[r.toLowerCase()]||"center");return this},setHorizontalAlignment:function(r){this.horizontalAlignment=r;return this},getSVGAlign:function(){var r=this.horizontalAlignment;return r=r&&c[r.toLowerCase()]||"middle"},setVerticalAlignment:function(r){this.verticalAlignment=r;return this},getSVGBaseline:function(){var r=this.verticalAlignment;return r&&f[r.toLowerCase()]||
"alphabetic"},getSVGBaselineShift:function(){return"bottom"===this.verticalAlignment?"super":null},setDecoration:function(r){this.decoration=r;this.font||this.setFont(new e);this.font.setDecoration(r);return this},setRotated:function(r){this.rotated=r;return this},setKerning:function(r){this.kerning=r;return this},setText:function(r){this.text=r;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var r=m&&m.getContext&&m.getContext("2d");if(r){var p=
this.font;r.font=(p.style?p.style:t.defaultFont.style)+" "+(p.weight?p.weight:t.defaultFont.weight)+" "+(p.size?p.size:t.defaultFont.size)+"px "+(p.family?p.family:t.defaultFont.family);return r.measureText(this.text).width}r=this.getHeight();p=0;var u;for(u=0;u<this.text.length;u++){var y=this.text.charAt(u);p=y==y.toUpperCase()?p+.7*r:p+.5*r}return p},getHeight:function(){return t.normalizedLength(this.font.size)},getShapeDescriptors:function(){var r=this.font;if(r){var p={};r.size&&(p.size=r.size);
r.style&&(p.style=r.style);r.variant&&(p.variant=r.variant);r.decoration&&(p.decoration=r.decoration);r.weight&&(p.weight=r.weight);r.family&&(p.family=r.family)}return{defaultShape:{type:"text",text:this.text,x:0,y:this.getHeight()/4,align:"middle",decoration:this.decoration||r&&r.decoration,rotated:this.rotated,kerning:this.kerning},font:p,fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var r=t.px2pt(this.xoffset),p=t.px2pt(this.yoffset),u=t.px2pt(this.haloSize);r=isNaN(r)?void 0:
r;p=isNaN(p)?void 0:p;u=isNaN(u)?void 0:u;return n.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:u,haloColor:this.haloColor&&h.toJsonColor(this.haloColor),verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:r,yoffset:p,text:this.text,rotated:this.rotated,
kerning:this.kerning,font:this.font.toJson()}))}});w.mixin(D,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});D.defaultProps=d;a("extend-esri")&&(w.setObject("symbol.TextSymbol",D,l),l.symbol.defaultTextSymbol=d);return D})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang".split(" "),function(D,
w,a,t,l,n){D=D(null,{declaredClass:"esri.symbol.Font",constructor:function(h,g,e,d,b){h?w.isObject(h)?w.mixin(this,h):(this.size=h,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==g&&(this.style=g),void 0!==e&&(this.variant=e),void 0!==d&&(this.weight=d),void 0!==b&&(this.family=b)):w.mixin(this,t.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>a("ie")&&this.size&&w.isString(this.size)&&-1<this.size.indexOf("em")&&(this.size=t.pt2px(12*parseFloat(this.size))+"px");this.size=
this._convert2PxSize(this.size)},setSize:function(h){this.size=this._convert2PxSize(h);return this},_convert2PxSize:function(h){var g;parseFloat(h)==h?g=h:w.isString(h)&&(-1<h.indexOf("pt")?g=t.pt2px(parseFloat(h)):-1<h.indexOf("px")?g=parseFloat(h):-1<h.indexOf("em")?g=t.pt2px(12*parseFloat(h)):-1<h.indexOf("%")&&(g=t.pt2px(.12*parseFloat(h))));return g},setStyle:function(h){this.style=h;return this},setVariant:function(h){this.variant=h;return this},setWeight:function(h){this.weight=h;return this},
setFamily:function(h){this.family=h;return this},setDecoration:function(h){this.decoration=h;return this},toJson:function(){return n.fixJson({size:t.px2pt(this.size),style:this.style,decoration:this.decoration,weight:this.weight,family:this.family})}});w.mixin(D,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});a("extend-esri")&&w.setObject("symbol.Font",
D,l);return D})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/jsonUtils ./SpatialRelationship dojo/has!extend-esri?./QueryTask dojo/has!extend-esri?./RelationshipQuery dojo/has!extend-esri?./StatisticDefinition".split(" "),function(D,w,a,t,l,n,h,g){var e=D(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=e.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,
objectIds:null,returnGeometry:!1,returnCentroid:null,returnDistinctValues:!1,returnExceededLimitFeatures:null,maxRecordCountFactor:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,resultType:null,cacheHint:null,sqlFormat:null,quantizationParameters:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile",
"nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(d){var b={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision,sqlFormat:this.sqlFormat},c=d&&d.geometry||this.geometry,f=this.objectIds,m=this.outFields,r=this.outSpatialReference,p=this.groupByFieldsForStatistics,u=this.orderByFields,y=this.outStatistics;d=
this.distance;c&&(b.geometry=c,b.geometryType=h.getJsonType(c),b.inSR=c.spatialReference.wkid||t.toJson(c.spatialReference.toJson()));f&&(b.objectIds=f.join(","));m&&(b.outFields=m.join(","));null!=this.returnCentroid&&(b.returnCentroid=this.returnCentroid);this.returnDistinctValues&&(b.returnDistinctValues=!0);null!=this.returnExceededLimitFeatures&&(b.returnExceededLimitFeatures=this.returnExceededLimitFeatures);null!=this.maxRecordCountFactor&&(b.maxRecordCountFactor=this.maxRecordCountFactor);
p&&(b.groupByFieldsForStatistics=p.join(","));u&&(b.orderByFields=u.join(","));if(y){var x=[];a.forEach(y,function(z){x.push(z.toJson())});b.outStatistics=t.toJson(x)}r?b.outSR=r.wkid||t.toJson(r.toJson()):c&&(b.outSR=c.spatialReference.wkid||t.toJson(c.spatialReference.toJson()));c=this.timeExtent;b.time=c?c.toJson().join(","):null;(c=this.relationParam)&&this.spatialRelationship===e.SPATIAL_REL_RELATION&&(b.relationParam=c);d&&(b.distance=this.distance,this.hasOwnProperty("units")?b.units=this._units[this.units]||
this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),b.units=this._units.meters));this.hasOwnProperty("start")&&(b.resultOffset=this.start,b.resultRecordCount=10,""===b.where&&(b.where="1\x3d1"));this.hasOwnProperty("num")&&(b.resultRecordCount=this.num);b.resultType=this.resultType;null!=this.cacheHint&&(b.cacheHint=this.cacheHint);b.pixelSize=this.pixelSize?t.toJson(this.pixelSize.toJson()):null;b.multipatchOption=this.multipatchOption;this.quantizationParameters&&
(b.quantizationParameters=t.toJson(this.quantizationParameters));b._ts=this._ts;return b}});w.mixin(e,g);l("extend-esri")&&w.setObject("tasks.Query",e,n);return e})},"esri/tasks/SpatialRelationship":function(){define(["dojo/_base/lang","dojo/has","../kernel"],function(D,w,a){var t={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",
SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};w("extend-esri")&&D.setObject("tasks._SpatialRelationship",t,a);return t})},"esri/plugins/popupManager":function(){define(["../PopupManager"],function(D){return{add:function(w,a){w.popupManager||(w.popupManager=new D(a),w.popupManager.setMap(w))},remove:function(w){var a=w.popupManager;a&&(a.unsetMap(),w.popupManager=void 0)}}})},
"esri/PopupManager":function(){define("./geometry/Extent ./geometry/ScreenPoint ./kernel ./layerUtils ./tasks/query dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang esri/sniff dojo/on dojo/promise/all dojo/Stateful require".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r){var p;g=g(m,{declaredClass:"esri.PopupManager",enabled:!1,map:null,_mapClickHandle:null,_featureLayersCache:{},constructor:function(u){this._mapClickHandler=d.hitch(this,this._mapClickHandler)},
setMap:function(u){if(this.map)if(u!==this.map)this.unsetMap();else return;this.map=u;this._setupClickHandler()},unsetMap:function(){this.map&&(this.map=null);this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null)},getMapLayer:function(u){var y;if(u&&(y=u.getLayer())&&(u=y.id,this._featureLayersCache[u])){var x=u.lastIndexOf("_");-1<x&&(u=u.substring(0,x),y=this.map.getLayer(u))}return y},_enabledSetter:function(u){this.enabled=u;this._setupClickHandler()},_setupClickHandler:function(){this._mapClickHandle&&
(this._mapClickHandle.remove(),this._mapClickHandle=null);this.enabled&&this.map&&(this._mapClickHandle=this.map.on("click",this._mapClickHandler))},_mapClickHandler:function(u){var y=this.map.infoWindow,x=u.graphic;y&&this.map.loaded&&(y.clearFeatures&&y.setFeatures?this._showPopup(u):x&&x.getInfoTemplate()&&this._showInfoWindow(x,u.mapPoint))},_showPopup:function(u){var y=this.map,x=y.infoWindow,z=this,q=[],k=[y.graphics].concat(h.map(y.graphicsLayerIds,y.getLayer,y));h.forEach(k,function(E){var N=
E.getFeatureReduction&&E.getFeatureReduction();E&&E.loaded&&E.infoTemplate&&!E.suspended&&(!N||!z._isReductionEnabled(E)||N.infoTemplate&&!N.disablePopup)&&q.push(E)});var v=[];h.forEach(y.layerIds,function(E){(E=y.getLayer(E))&&E.loaded&&!E.suspended&&(z._isImageServiceLayer(E)&&E.infoTemplate?q.push(E):"esri.layers.WMSLayer"===E.declaredClass&&E.getFeatureInfoURL?q.push(E):"esri.layers.ArcGISDynamicMapServiceLayer"!==E.declaredClass&&"esri.layers.ArcGISTiledMapServiceLayer"!==E.declaredClass||!E.infoTemplates||
v.push(E))});var B=y.getResolutionForPopup();this._getSubLayerFeatureLayers(v,B).then(function(E){q=q.concat(E);E=u.graphic&&u.graphic.getParentGraphic()||u.graphic;var N=null;E&&E.getInfoTemplate()&&!z._isImageServiceLayer(E.getLayer())&&(N=E);if(q.length||N){var G=z._calculateClickTolerance(q),K=u.screenPoint;E=y.toMap(new w(K.x-G,K.y+G));G=y.toMap(new w(K.x+G,K.y-G));var I=new D(E.x,E.y,G.x,G.y,y.spatialReference);if(I=I.intersects(y.extent)){var O=new l,V=!!N,na=!0;E=h.map(q,function(ja){O.timeExtent=
ja.useMapTime?y.timeExtent:null;var la=z._isReductionEnabled(ja);ja=la?ja.getFeatureReductionLayer():ja;var ca=z._featureLayersCache[ja.id];if(z._isImageServiceLayer(ja)){O.geometry=u.mapPoint;na=!1;var ea={rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0};z._isTiledImageServiceLayer(ja)?ea=ja.fetchPopupFromTiles(O):(ea=ja.queryVisibleRasters(O,ea),ea.addCallback(function(){var sa=ja.getVisibleRasters();V=V||0<sa.length;return sa}))}else if("esri.layers.WMSLayer"===ja.declaredClass){ea=
new e;var oa=ja._getPopupGraphic(y,u.screenPoint);oa?(ea.resolve([oa]),V=!0):ea.resolve([])}else ca||"function"===typeof ja.queryFeatures&&(0===ja.currentMode||1===ja.currentMode)?(O.geometry=I,ea=ja.queryFeatures(O),ea.addCallback(function(sa){var za=[];h.forEach(sa.features,function(Z){Z.visible&&(za.push(Z),ca&&Z.setResolution(B))});V=V||0<za.length;return za})):(ea=new e,oa=h.filter(ja.graphics,function(sa){return sa&&sa.visible&&I.intersects(sa.geometry)}),la&&z._isParentLayer(ja,N)&&(la=z._findGraphicById(oa,
N,"cluster_id"))&&(N=la),V=V||0<oa.length,ea.resolve(oa));return ea});N&&(G=new e,G.resolve([N]),E.unshift(G));h.some(E,function(ja){return!ja.isFulfilled()})||V?(x.setFeatures(E),x.show(u.mapPoint,{closestFirst:na})):(x.hide(),x.clearFeatures())}}})},_getSubLayerFeatureLayers:function(u,y,x){y=y||null;var z=x||new e,q=[];x=u.length;var k=this.map.getScale(),v=!1,B=this,E=0;a:for(;E<x;E++){var N=u[E],G=N.dynamicLayerInfos||N.layerInfos;if(G){var K=null;N._params&&(N._params.layers||N._params.dynamicLayers)&&
(K=N.visibleLayers);K=t._getVisibleLayers(G,K);for(var I=t._getLayersForScale(k,G),O=G.length,V=0;V<O;V++){var na=G[V],ja=na.id,la=N.infoTemplates[ja];if(!na.subLayerIds&&la&&la.infoTemplate&&-1<h.indexOf(K,ja)&&-1<h.indexOf(I,ja)){if(!p){v=!0;break a}var ca=N.id+"_"+ja,ea=this._featureLayersCache[ca];ea&&ea.loadError||(ea||((ea=la.layerUrl)||(ea=na.source?this._getLayerUrl(N.url,"/dynamicLayer"):this._getLayerUrl(N.url,ja)),ea=new p(ea,{parentLayer:N,id:ca,drawMode:!1,mode:p.MODE_SELECTION,outFields:this._getOutFields(la.infoTemplate),
resourceInfo:la.resourceInfo,source:na.source}),this._featureLayersCache[ca]=ea),ea.setDefinitionExpression(N.layerDefinitions&&N.layerDefinitions[ja]),ea.setGDBVersion(N.gdbVersion),ea.setInfoTemplate(la.infoTemplate),ea.setMaxAllowableOffset(y),ea.setUseMapTime(!!N.useMapTime),N.layerDrawingOptions&&N.layerDrawingOptions[ja]&&N.layerDrawingOptions[ja].renderer&&ea.setRenderer(N.layerDrawingOptions[ja].renderer),q.push(ea))}}}}if(v){var oa=new e;r(["./layers/FeatureLayer"],function(za){p=za;oa.resolve()});
oa.then(function(){B._getSubLayerFeatureLayers(u,y,z)})}else{var sa=[];h.forEach(q,function(za){if(!za.loaded){var Z=new e;c.once(za,"load, error",function(){Z.resolve()});sa.push(Z.promise)}});sa.length?f(sa).then(function(){q=h.filter(q,function(za){return!za.loadError&&za.isVisibleAtScale(k)});z.resolve(q)}):(q=h.filter(q,function(za){return za.isVisibleAtScale(k)}),z.resolve(q))}return z.promise},_getLayerUrl:function(u,y){var x=u.indexOf("?");return-1===x?u+"/"+y:u.substring(0,x)+"/"+y+u.substring(x)},
_getOutFields:function(u){var y=u.info&&u.info.fieldInfos;if(y&&y.length&&"esri.dijit.PopupTemplate"===u.declaredClass){var x=[];h.forEach(y,function(z){var q=z.fieldName&&z.fieldName.toLowerCase();q&&"shape"!==q&&0!==q.indexOf("relationships/")&&x.push(z.fieldName)})}else x=["*"];return x},_calculateClickTolerance:function(u){var y=b("esri-touch")?9:6,x,z;h.forEach(u,function(q){if(x=q.renderer)"esri.renderer.SimpleRenderer"===x.declaredClass?((z=x.symbol)&&z.xoffset&&(y=Math.max(y,Math.abs(z.xoffset))),
z&&z.yoffset&&(y=Math.max(y,Math.abs(z.yoffset)))):"esri.renderer.UniqueValueRenderer"!==x.declaredClass&&"esri.renderer.ClassBreaksRenderer"!==x.declaredClass||h.forEach(x.infos,function(k){(z=k.symbol)&&z.xoffset&&(y=Math.max(y,Math.abs(z.xoffset)));z&&z.yoffset&&(y=Math.max(y,Math.abs(z.yoffset)))})});return y},_showInfoWindow:function(u,y){var x=this.map.infoWindow,z=u.geometry;y=z&&"point"===z.type?z:y;z=u.getContent();x.setTitle(u.getTitle());z&&d.isString(z.id)&&(u=n.byId(z.id))&&u.set&&/_PopupRenderer/.test(u.declaredClass)&&
u.set("showTitle",!1);x.setContent(z);x.show(y)},_findGraphicById:function(u,y,x){var z,q=(y=y.attributes)&&y[x];h.some(u,function(k){var v=k.attributes;v&&v[x]===q&&(z=k);return!!z});return z},_isParentLayer:function(u,y){y=y&&y.getLayer();return u&&y===u},_isReductionEnabled:function(u){return u&&u.isFeatureReductionActive&&u.isFeatureReductionActive()},_isImageServiceLayer:function(u){return"esri.layers.ArcGISImageServiceLayer"===u.declaredClass||"esri.layers.ArcGISImageServiceVectorLayer"===u.declaredClass||
"esri.layers.RasterXLayer"===u.declaredClass},_isTiledImageServiceLayer:function(u){return"esri.layers.RasterXLayer"===u.declaredClass}});b("extend-esri")&&(a.PopupManager=g);return g})},"esri/layerUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","./kernel"],function(D,w,a,t,l){var n={_serializeLayerDefinitions:function(h,g){var e=[],d=/[:;]/;if(h&&(w.forEach(h,function(c,f){c&&(e.push([f,c]),!g&&d.test(c)&&(g=!0))}),0<e.length)){if(g){var b={};w.forEach(e,
function(c){b[c[0]]=c[1]});b=a.toJson(b)}else b=[],w.forEach(e,function(c){b.push(c[0]+":"+c[1])}),b=b.join(";");return b}return null},_serializeTimeOptions:function(h,g){if(h){var e=[];w.forEach(h,function(d,b){d&&(d=d.toJson(),g&&-1!==w.indexOf(g,b)&&(d.useTime=!1),e.push('"'+b+'":'+a.toJson(d)))});if(e.length)return"{"+e.join(",")+"}"}},_getVisibleLayers:function(h,g){var e=[],d;if(!h)return e;if(g)for(e=g.concat(),d=0;d<h.length;d++){g=h[d];var b=w.indexOf(h,g.id);g.subLayerIds&&-1<b&&(e.splice(b,
1),e=e.concat(g.subLayerIds))}else e=this._getDefaultVisibleLayers(h);return e},_getDefaultVisibleLayers:function(h){var g=[],e;if(!h)return g;for(e=0;e<h.length;e++)0<=h[e].parentLayerId&&-1===w.indexOf(g,h[e].parentLayerId)&&w.some(h,function(d){return d.id===h[e].parentLayerId})||h[e].defaultVisibility&&g.push(h[e].id);return g},_getLayersForScale:function(h,g){var e=[];if(0<h&&g){var d;for(d=0;d<g.length;d++)if(!(0<=g[d].parentLayerId&&-1===w.indexOf(e,g[d].parentLayerId)&&w.some(g,function(m){return m.id===
g[d].parentLayerId}))&&0<=g[d].id){var b=!0,c=g[d].maxScale,f=g[d].minScale;if(0<c||0<f)0<c&&0<f?b=c<=h&&h<=f:0<c?b=c<=h:0<f&&(b=h<=f);b&&e.push(g[d].id)}}return e}};t("extend-esri")&&D.mixin(l,n);return n})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(D,w,a,t,l){var n=l.doc.documentElement;l=t("ie");var h=t("trident"),g=t("opera"),e=Math.floor,d=t("ff"),b=D.boxModel.replace(/-/,"");g={dj_quirks:t("quirks"),dj_opera:g,dj_khtml:t("khtml"),
dj_webkit:t("webkit"),dj_safari:t("safari"),dj_chrome:t("chrome"),dj_edge:t("edge"),dj_gecko:t("mozilla"),dj_ios:t("ios"),dj_android:t("android")};l&&(g.dj_ie=!0,g["dj_ie"+e(l)]=!0,g.dj_iequirks=t("quirks"));h&&(g.dj_trident=!0,g["dj_trident"+e(h)]=!0);d&&(g["dj_ff"+e(d)]=!0);g["dj_"+b]=!0;var c="",f;for(f in g)g[f]&&(c+=f+" ");n.className=w.trim(n.className+" "+c);a(function(){if(!D.isBodyLtr()){var m="dj_rtl dijitRtl "+c.replace(/ /g,"-rtl ");n.className=w.trim(n.className+" "+m+"dj_rtl dijitRtl "+
c.replace(/ /g,"-rtl "))}});return t})},"esri/MapNavigationManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/mouse dojo/keys dijit/focus ./kernel ./MouseEvents ./TouchEvents ./PointerEvents ./config ./sniff ./lang ./fx ./graphic ./tileUtils ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./symbols/SimpleFillSymbol".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v){var B=t.connect,
E=t.disconnect,N=m("chrome"),G=m("safari"),K=[h.NUMPAD_PLUS,61,187,h.NUMPAD_MINUS,173,189,h.UP_ARROW,h.NUMPAD_8,h.RIGHT_ARROW,h.NUMPAD_6,h.DOWN_ARROW,h.NUMPAD_2,h.LEFT_ARROW,h.NUMPAD_4,h.PAGE_UP,h.NUMPAD_9,h.PAGE_DOWN,h.NUMPAD_3,h.END,h.NUMPAD_1,h.HOME,h.NUMPAD_7];D=D(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(I,O){this.map=I;w.mixin(this,O);O=I.__container;m("esri-pointer")?(this.pointerEvents=new c(O,{map:I}),this.eventModel="pointer"):m("esri-touch")?(m("ios")||
(this.mouseEvents=new d(O,{map:I})),this.touchEvents=new b(O,{map:I,mouseEvents:this.mouseEvents}),this.eventModel="touch"):(this.mouseEvents=new d(O,{map:I}),this.eventModel="mouse");this._zoomRect=new u(null,new v(f.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=w.hitch(this,this._adjustPinch);this._adjustPinchEnd=w.hitch(this,this._adjustPinchEnd)},_panInit:function(I){var O=this.mouseEvents;n.isLeft(I)&&this.map.isPan&&!I.shiftKey&&(this._dragOrigin=new x(0,0),w.mixin(this._dragOrigin,
I.screenPoint),E(this._panStartHandle),E(this._panHandle),E(this._panEndHandle),this._panStartHandle=B(O,"onMouseDragStart",this,this._panStart),this._panHandle=B(O,"onMouseDrag",this,this._pan),this._panEndHandle=B(O,"onMouseUp",this,this._panEnd),N||G)&&(I.preventDefault(),g.curNode&&g.curNode.blur())},_panStart:function(I){this.map.setCursor("move");this.map.__panStart(I.screenPoint.x,I.screenPoint.y)},_pan:function(I){this.map.__pan(I.screenPoint.x-this._dragOrigin.x,I.screenPoint.y-this._dragOrigin.y)},
_panEnd:function(I){E(this._panStartHandle);E(this._panHandle);E(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var O=this.map;O.__panning&&(O.__panEnd(I.screenPoint.x-this._dragOrigin.x,I.screenPoint.y-this._dragOrigin.y),O.resetMapCursor())},_zoomInit:function(I){var O=this.map,V=this.pointerEvents||this.mouseEvents;(n.isLeft(I)||I.pointerType)&&O.isRubberBandZoom&&I.shiftKey&&(O.setCursor("crosshair"),this._dragOrigin=w.mixin({},I.screenPoint),this._zoomDir=I.ctrlKey||
I.metaKey?-1:1,this.pointerEvents?(this._zoomHandle=B(V,"onSwipeMove",this,this._zoom),this._zoomEndHandle=B(V,"onSwipeEnd",this,this._zoomEnd)):(this._zoomHandle=B(V,"onMouseDrag",this,this._zoom),this._zoomEndHandle=B(V,"onMouseUp",this,this._zoomEnd)),N&&I.preventDefault())},_zoom:function(I){var O=this.map,V=this._normalizeRect(I).offset(O.__visibleRect.x,O.__visibleRect.y);I=O.graphics;var na=this._zoomRect;na.geometry||O.setCursor("crosshair");na.geometry&&I.remove(na,!0);var ja=O.toMap(new x(V.x,
V.y));V=O.toMap(new x(V.x+V.width,V.y+V.height));V=new q(ja.x,ja.y,V.x-ja.x,ja.y-V.y,O.spatialReference);V._originOnly=!0;na.setGeometry(V);I.add(na,!0)},_zoomEnd:function(I){var O=this._zoomRect,V=this.map,na=V.extent,ja=V.spatialReference;E(this._zoomHandle);E(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(V._canZoom(this._zoomDir)&&O.getDojoShape()){V.graphics.remove(O);O.geometry=null;I=this._normalizeRect(I);I.x+=V.__visibleRect.x;I.y+=V.__visibleRect.y;if(-1===this._zoomDir){var la=
na.getWidth();I=(la*V.width/I.width-la)/2;ja=new z(na.xmin-I,na.ymin-I,na.xmax+I,na.ymax+I,ja)}else na=V.toMap({x:I.x,y:I.y+I.height}),I=V.toMap({x:I.x+I.width,y:I.y}),ja=new z(na.x,na.y,I.x,I.y,ja);V._extentUtil(null,null,ja)}O.getDojoShape()&&V.graphics.remove(O,!0);this._zoomDir=0;V.resetMapCursor()},_wheelZoom:function(I,O){var V=this.map;if(!O){if(V.smartNavigation&&!I.shiftKey&&!V._isPanningOrZooming()){V.disableScrollWheelZoom();this._setScrollWheelPan(!0);this._wheelPan(I);return}O=I.timeStamp;
if(!r.isDefined(O)||0>=O)O=(new Date).getTime();if(100>(this._mwts?O-this._mwts:O))return;this._mwts=O}V._canZoom(I.value)&&V._extentUtil({numLevels:I.value,mapAnchor:I.mapPoint,screenAnchor:I.screenPoint})},_wheelPan:function(I){var O=this.map;if(I.shiftKey&&!O._isPanningOrZooming())this._setScrollWheelPan(!1),O.enableScrollWheelZoom(),this._wheelZoom(I);else{var V=0,na=0;m("ff")?I.axis===I.HORIZONTAL_AXIS?V=-I.detail:na=-I.detail:(V=I.wheelDeltaX,na=I.wheelDeltaY);O.translate(V,na)}},_setScrollWheelPan:function(I){this.map.isScrollWheelPan=
I;this.mouseEvents&&this.mouseEvents.enableMouseWheel(I);E(this._mwMacHandle);this._mwMacHandle=null;I&&(this._mwMacHandle=B(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelPan))},_recenter:function(I){I.shiftKey&&!this.map._isPanningOrZooming()&&this.map.centerAt(I.mapPoint)},_recenterZoom:function(I){I.shiftKey&&!this.map._isPanningOrZooming()&&(I.value=I.ctrlKey||I.metaKey?-1:1,this._wheelZoom(I,!0))},_dblClickZoom:function(I){this.map._isPanningOrZooming()||(I.value=1,this._wheelZoom(I,
!0))},_twoFingerTap:function(I){this.map._isPanningOrZooming()||(I.value=-1,this._wheelZoom(I,!0))},_keyDown:function(I){var O=I.keyCode,V=this.map;if(-1!==a.indexOf(K,O)){if(O===h.NUMPAD_PLUS||61===O||187===O)V._extentUtil({numLevels:1});else if(O===h.NUMPAD_MINUS||173===O||189===O)V._extentUtil({numLevels:-1});else{V.__panning||V.__panStart(0,0);switch(O){case h.UP_ARROW:case h.NUMPAD_8:this._keyDy+=10;break;case h.RIGHT_ARROW:case h.NUMPAD_6:this._keyDx-=10;break;case h.DOWN_ARROW:case h.NUMPAD_2:this._keyDy-=
10;break;case h.LEFT_ARROW:case h.NUMPAD_4:this._keyDx+=10;break;case h.PAGE_UP:case h.NUMPAD_9:this._keyDx-=10;this._keyDy+=10;break;case h.PAGE_DOWN:case h.NUMPAD_3:this._keyDx-=10;this._keyDy-=10;break;case h.END:case h.NUMPAD_1:this._keyDx+=10;this._keyDy-=10;break;case h.HOME:case h.NUMPAD_7:this._keyDx+=10;this._keyDy+=10;break;default:return}V.__pan(this._keyDx,this._keyDy)}l.stop(I)}},_keyEnd:function(I){var O=this.map;O.__panning&&I.keyCode!==h.SHIFT&&(O.__panEnd(this._keyDx,this._keyDy),
this._keyDx=this._keyDy=0)},_swipeInit:function(I){var O=this.map;O=O._zoomAnim||O._panAnim;if(I.shiftKey)return!1;O&&O._active&&(O.stop(),O._fire("onEnd",[O.node]));this._dragOrigin=new x(0,0);w.mixin(this._dragOrigin,I.screenPoint);E(this._swipeHandle);E(this._swipeEndHandle);this._swipeHandle=B(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=B(this.touchEvents||this.pointerEvents,"onSwipeEnd",this,this._swipeEnd)},_swipe:function(I){var O=this.map;O.__panning?
(this._panX=I.screenPoint.x,this._panY=I.screenPoint.y,O.__pan(I.screenPoint.x-this._dragOrigin.x,I.screenPoint.y-this._dragOrigin.y)):(O.setCursor("move"),O.__panStart(I.screenPoint.x,I.screenPoint.y))},_swipeEnd:function(I){E(this._swipeHandle);E(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var O=this.map;O.__panning&&(O.resetMapCursor(),O.__panEnd(I.screenPoint.x-this._dragOrigin.x,I.screenPoint.y-this._dragOrigin.y))},_pinchInit:function(I){var O=this.map,V=O._zoomAnim||O._panAnim;
V&&V._active?(V.stop(),V._fire("onEnd",[V.node])):O.__panning&&(I.screenPoint=new x(this._panX,this._panY),I.mapPoint=O.toMap(I.screenPoint),this._swipeEnd(I));E(this._pinchHandle);E(this._pinchEndHandle);this._pinchHandle=B(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=B(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd)},_pinch:function(I){var O=this.map;if(I.screenPoints){this.currLength=k.getLength(I.screenPoints[0],I.screenPoints[1]);
if(O.__zooming){var V=this.currLength/this._length;this._zoomStartExtent=this.__scaleExtent(O.extent,V,this._dragOrigin);O.__zoom(this._zoomStartExtent,V,this._dragOrigin)}else this._dragOrigin=new x((I.screenPoints[0].x+I.screenPoints[1].x)/2,(I.screenPoints[0].y+I.screenPoints[1].y)/2),this._length=this.currLength,O.__zoomStart(O.extent,this._dragOrigin);this._pinchScale=V;O._fireOnScale(this.currLength/this._length,this._dragOrigin,!0)}},_pinchEnd:function(I){I=this.map;E(this._pinchHandle);E(this._pinchEndHandle);
this._pinchHandle=this._pinchEndHandle=null;this._pinchScale=0;if(I.__zooming&&null===I._zoomAnim){var O=this.currLength/this._length,V=I.extent.getWidth();this._zoomAnimAnchor=I.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(I.extent,1/O,this._zoomAnimAnchor);if(I.__tileInfo){var na=y.getCandidateTileInfo(I,I.__tileInfo,this._zoomStartExtent),ja=I.__getExtentForLevel(na.lod.level,this._zoomAnimAnchor),la=I.getMinZoom(),ca=I.getMaxZoom(),ea=ja.extent;ja=ja.lod;var oa=V/ea.getWidth(),
sa=na.lod.level;1>O?oa>O&&sa--:oa<O&&sa++;sa<la?sa=la:sa>ca&&(sa=ca);sa!==na.lod.level&&(ja=I.__getExtentForLevel(sa,this._zoomAnimAnchor),ea=ja.extent,ja=ja.lod);this._zoomEndExtent=ea;this._zoomEndLod=ja;I._zoomAnim=p.animateRange({range:{start:V/this._zoomStartExtent.getWidth(),end:oa},duration:f.defaults.map.zoomDuration,rate:f.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});I._zoomAnim.play();I._fireOnScale(I.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin)}else this._zoomEndExtent=
this._zoomStartExtent,I._fireOnScale(I.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin),this._adjustPinchEnd()}},_adjustPinch:function(I){var O=this.__scaleExtent(this.map.extent,I,this._zoomAnimAnchor);this.map.__zoom(O,I,this._dragOrigin)},_adjustPinchEnd:function(){var I=this.map,O=I.extent.getWidth()/this._zoomEndExtent.getWidth(),V=this.__scaleExtent(I.extent,1/O,this._zoomAnimAnchor),na=this._dragOrigin,ja=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=
this._dragOrigin=I._zoomAnim=this._zoomAnimAnchor=null;I.__zoomEnd(V,O,na,ja,!0)},__scaleExtent:function(I,O,V){V=V||I.getCenter();O=I.expand(O);var na=I.xmin-(O.getWidth()-I.getWidth())*(V.x-I.xmin)/I.getWidth();V=I.ymax-(O.getHeight()-I.getHeight())*(V.y-I.ymax)/I.getHeight();return new z(na,V-O.getHeight(),na+O.getWidth(),V,I.spatialReference)},_normalizeRect:function(I){I=I.screenPoint;var O=this._dragOrigin.x,V=this._dragOrigin.y;I=new q((I.x<O?I.x:O)-this.map.__visibleRect.x,(I.y<V?I.y:V)-this.map.__visibleRect.y,
Math.abs(I.x-O),Math.abs(I.y-V));delete I.spatialReference;0===I.width&&(I.width=1);0===I.height&&(I.height=1);return I},setImmediateClick:function(I){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(I);break;case "touch":this.touchEvents.setImmediateTap(I);this.mouseEvents&&this.mouseEvents.setImmediateClick(I);break;case "pointer":this.pointerEvents.setImmediateTap(I)}},enablePan:function(){this.disablePan();switch(this.eventModel){case "mouse":this._panInitHandle=B(this.mouseEvents,
"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=B(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=B(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=B(this.pointerEvents,"onSwipeStart",this,this._swipeInit)}},disablePan:function(){E(this._panInitHandle);this._panInitHandle=null;E(this._swipeInitHandle);this._swipeInitHandle=null},enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=
this.pointerEvents?B(this.pointerEvents,"onSwipeStart",this,this._zoomInit):B(this.mouseEvents,"onMouseDown",this,this._zoomInit)},disableRubberBandZoom:function(){E(this._zoomInitHandle);this._zoomInitHandle=null},enablePinchZoom:function(){this.disablePinchZoom();if("touch"===this.eventModel||"pointer"===this.eventModel)this._pinchInitHandle=B(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit)},disablePinchZoom:function(){E(this._pinchInitHandle);this._pinchInitHandle=null},
enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=B(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom)},disableScrollWheelZoom:function(){E(this._wheelHandle);this._wheelHandle=null},enableScrollWheelPan:function(){var I=this.map;I&&I.loaded&&I.smartNavigation&&(this.disableScrollWheelPan(),this._setScrollWheelPan(!0))},disableScrollWheelPan:function(){var I=this.map;I&&I.loaded&&I.smartNavigation&&this._setScrollWheelPan(!1)},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();
switch(this.eventModel){case "mouse":this._dblClickHandle=B(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=B(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=B(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=B(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=B(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom),this._zoomOutHandle=B(this.pointerEvents,
"onTwoFingerTap",this,this._twoFingerTap)}},disableDoubleClickZoom:function(){E(this._dblClickHandle);E(this._zoomOutHandle);this._dblTapHandle&&E(this._dblTapHandle);this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=B(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom)},disableShiftDoubleClickZoom:function(){E(this._sDblClickHandle);this._sDblClickHandle=null},enableClickRecenter:function(){this.disableClickRecenter();
this._recenterHandle=B(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter)},disableClickRecenter:function(){E(this._recenterHandle);this._recenterHandle=null},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=B(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=B(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd)},disableKeyboardNavigation:function(){E(this._keyHandle);E(this._keyEndHandle);this._keyHandle=
this._keyEndHandle=null},enableScrollWheel:function(){var I=this.map;I&&(I.smartNavigation?this.enableScrollWheelPan():I.enableScrollWheelZoom())},disableScrollWheel:function(){var I=this.map;I&&(I.disableScrollWheelZoom(),I.smartNavigation&&this.disableScrollWheelPan())},enableNavigation:function(){var I=this.map;I&&I.loaded&&(I._evalNavigationFeature("DoubleClickZoom"),I._evalNavigationFeature("ClickRecenter"),I._evalNavigationFeature("Pan"),I._evalNavigationFeature("RubberBandZoom"),I._evalNavigationFeature("PinchZoom"),
I._evalNavigationFeature("KeyboardNavigation"),I._evalNavigationFeature("ScrollWheel"))},disableNavigation:function(){var I=this.map;I&&I.loaded&&(I._evalNavigationFeature("DoubleClickZoom"),I._evalNavigationFeature("ClickRecenter"),I._evalNavigationFeature("Pan"),I._evalNavigationFeature("RubberBandZoom"),I._evalNavigationFeature("PinchZoom"),I._evalNavigationFeature("KeyboardNavigation"),I._evalNavigationFeature("ScrollWheel"))},destroy:function(){this.touchEvents&&this.touchEvents.destroy();this.mouseEvents&&
this.mouseEvents.destroy();this.pointerEvents&&this.pointerEvents.destroy();var I,O=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,this._dblTapHandle,this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];
for(I=0;I<O.length;I++)E(O[I]);this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=this._zoomOutHandle=this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=
this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null}});m("extend-esri")&&(e.MapNavigationManager=D);return D})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u){var y,x,z=new (w([c,h],{curNode:null,activeStack:[],constructor:function(){var k=
g.hitch(this,function(v){a.isDescendant(this.curNode,v)&&this.set("curNode",null);a.isDescendant(this.prevNode,v)&&this.set("prevNode",null)});D.before(n,"empty",k);D.before(n,"destroy",k)},registerIframe:function(k){return this.registerWin(k.contentWindow,k)},registerWin:function(k,v){var B=this,E=k.document&&k.document.body;if(E){var N=b("pointer-events")?"pointerdown":b("MSPointer")?"MSPointerDown":b("touch-events")?"mousedown, touchstart":"mousedown",G=e(k.document,N,function(O){O&&O.target&&
null==O.target.parentNode||B._onTouchNode(v||O.target,"mouse")}),K=e(E,"focusin",function(O){if(O.target.tagName){var V=O.target.tagName.toLowerCase();"#document"!=V&&"body"!=V&&(r.isFocusable(O.target)?B._onFocusNode(v||O.target):B._onTouchNode(v||O.target))}}),I=e(E,"focusout",function(O){B._onBlurNode(v||O.target)});return{remove:function(){G.remove();K.remove();I.remove();E=G=K=I=null}}}},_onBlurNode:function(k){k=(new Date).getTime();k<y+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),
this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),k<x+100||(this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(k,v){x=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);l.contains(k,
"dijitPopup")&&(k=k.firstChild);var B=[];try{for(;k;){var E=t.get(k,"dijitPopupParent");if(E)k=p.byId(E).domNode;else if(k.tagName&&"body"==k.tagName.toLowerCase()){if(k===f.body())break;k=m.get(k.ownerDocument).frameElement}else{var N=k.getAttribute&&k.getAttribute("widgetId"),G=N&&p.byId(N);!G||"mouse"==v&&G.get("disabled")||B.unshift(N);k=k.parentNode}}}catch(K){}this._setStack(B,v)},_onFocusNode:function(k){k&&9!=k.nodeType&&(y=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(k),k!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",k)))},_setStack:function(k,v){var B=this.activeStack,E=B.length-1,N=k.length-1;if(k[N]!=B[E]){this.set("activeStack",k);var G;for(G=E;0<=G&&B[G]!=k[G];G--)if(E=p.byId(B[G]))E._hasBeenBlurred=!0,E.set("focused",!1),E._focusManager==this&&E._onBlur(v),this.emit("widget-blur",E,v);for(G++;G<=N;G++)if(E=p.byId(k[G]))E.set("focused",!0),E._focusManager==this&&E._onFocus(v),this.emit("widget-focus",
E,v)}},focus:function(k){if(k)try{k.focus()}catch(v){}}}));d(function(){var k=z.registerWin(m.get(document));b("ie")&&e(window,"unload",function(){k&&(k.remove(),k=null)})});u.focus=function(k){z.focus(k)};for(var q in z)/^_/.test(q)||(u.focus[q]="function"==typeof z[q]?g.hitch(z,q):z[q]);z.watch(function(k,v,B){u.focus[k]=B});return z})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(D,w,a,t,l,n,h){var g=
{_isElementShown:function(e){var d=t.get(e);return"hidden"!=d.visibility&&"collapsed"!=d.visibility&&"none"!=d.display&&"hidden"!=a.get(e,"type")},hasDefaultTabStop:function(e){switch(e.nodeName.toLowerCase()){case "a":return a.has(e,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":try{var d=e.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;var b=d.body}catch(c){try{b=e.contentWindow.document.body}catch(f){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==e.contentEditable}},effectiveTabIndex:function(e){if(!a.get(e,"disabled"))return a.has(e,"tabIndex")?+a.get(e,"tabIndex"):g.hasDefaultTabStop(e)?0:void 0},isTabNavigable:function(e){return 0<=g.effectiveTabIndex(e)},isFocusable:function(e){return-1<=g.effectiveTabIndex(e)},_getTabNavigable:function(e){function d(k){return k&&"input"==k.tagName.toLowerCase()&&k.type&&"radio"==k.type.toLowerCase()&&
k.name&&k.name.toLowerCase()}function b(k){return y[d(k)]||k}var c,f,m,r,p,u,y={},x=g._isElementShown,z=g.effectiveTabIndex,q=function(k){for(k=k.firstChild;k;k=k.nextSibling)if(!(1!=k.nodeType||9>=n("ie")&&"HTML"!==k.scopeName)&&x(k)){var v=z(k);if(0<=v){if(0==v)c||(c=k),f=k;else if(0<v){if(!m||v<r)r=v,m=k;if(!p||v>=u)u=v,p=k}v=d(k);a.get(k,"checked")&&v&&(y[v]=k)}"SELECT"!=k.nodeName.toUpperCase()&&q(k)}};x(e)&&q(e);return{first:b(c),last:b(f),lowest:b(m),highest:b(p)}},getFirstInTabbingOrder:function(e,
d){e=g._getTabNavigable(w.byId(e,d));return e.lowest?e.lowest:e.first},getLastInTabbingOrder:function(e,d){e=g._getTabNavigable(w.byId(e,d));return e.last?e.last:e.highest}};l.mixin(h,g);return g})},"esri/MouseEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/_base/connect dojo/_base/event ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(D,w,a,t,l,n,h,g,e,d){var b=l.connect,c=l.disconnect;D=D([g],{declaredClass:"esri.MouseEvents",
doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==t("mac")?1:3,wheelDivisor:2>t("chrome")?360:120,preventPageScroll:!0,map:null,constructor:function(f,m){this.node=f;a.mixin(this,m);m=function(r){n.stop(r);return!1};t("mozilla")&&w.style(f,"MozUserSelect","none");this._handles=[b(f,"onselectstart",m),b(f,"ondragstart",m),b(f,"onmouseenter",this,this._onMouseEnterHandler),b(f,"onmouseleave",this,this._onMouseLeaveHandler),b(f,"onmousedown",this,this._onMouseDownHandler),
b(f,"onclick",this,this._onClickHandler),b(f,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=b(f,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=b(f,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=a.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;this.preventPageScroll=(f=this.map)?f.isScrollWheelZoom||f.isScrollWheelPan:this.preventPageScroll;this.enableMouseWheel(!1)},_fire:function(f,m){if(!this._preventClick||
"onClick"!==f&&"onDblClick"!==f){if(this[f])this[f](m);if(this.map&&this.map[f])this.map[f](m)}},_processEvent:function(f){f=n.fix(f,f.target);var m=this.map,r=m&&m.position;r&&("DOMMouseScroll"===f.type&&3>t("ff")?f.screenPoint=new d(window.scrollX+f.screenX-r.x,window.scrollY+f.screenY-r.y):f.screenPoint=new d(f.pageX-r.x,f.pageY-r.y),f.mapPoint=m.extent?m.toMap(f.screenPoint):new e);f.numPoints=0;return f},_onMouseEnterHandler:function(f){c(this._onKeyDown_connect);c(this._onKeyUp_connect);this._onKeyDown_connect=
b(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=b(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(f))},_onMouseLeaveHandler:function(f){c(this._onKeyDown_connect);c(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(f))},_onMouseMoveHandler:function(f){this._dragEnd?this._dragEnd=!1:this._fire("onMouseMove",this._processEvent(f))},_onMouseDownHandler:function(f){c(this._onMouseMoveHandler_connect);
this._onMouseMoveHandler_connect=null;this.node.setCapture&&this.node.setCapture(!1);c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=b(document,"onmousemove",this,this._onMouseDragHandler);this._startX=f.pageX;this._startY=f.pageY;this._fire("onMouseDown",this._processEvent(f))},_onMouseUpHandler:function(f){var m=this.node;m.releaseCapture&&m.releaseCapture();c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;c(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=
b(m,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(f))},_onMouseDragHandler:function(f){c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=b(document,"onmousemove",this,this._onMouseDraggingHandler);c(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=b(document,"onmouseup",this,this._onDragMouseUpHandler);this._docLeaveConnect=b(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",this._processEvent(f))},
_onMouseDraggingHandler:function(f){n.stop(f);this._fire("onMouseDrag",this._processEvent(f))},_onDragMouseUpHandler:function(f){var m=this.node;m.releaseCapture&&m.releaseCapture();this._dragEnd=!0;c(this._docLeaveConnect);c(this._onMouseDragHandler_connect);c(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=b(m,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=b(m,"onmouseup",this,this._onMouseUpHandler);
f=this._processEvent(f);this._fire("onMouseDragEnd",f);this._fire("onMouseUp",f)},_onDocMouseOut:function(f){var m=9>t("ie")?f.toElement:f.relatedTarget,r=m&&m.nodeName.toLowerCase();(!m||(t("chrome")||t("safari"))&&"html"===r)&&this._onDragMouseUpHandler(f)},_onClickHandler:function(f){f=this._processEvent(f);if(f.pageX===this._startX&&f.pageY===this._startY){clearTimeout(this._clickTimer);var m={},r="movementX"in f,p;for(p in f)"mozInputSource"===p||"mozPressure"===p||r&&("webkitMovementX"===p||
"webkitMovementY"===p)||(m[p]=f[p]);this._clickEvent=m;this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration)}},_fireClickEvent:function(){clearTimeout(this._clickTimer);9>t("ie")&&(this._clickEvent.graphic=h._ieGraphic,delete h._ieGraphic);this._fire("onClick",this._clickEvent)},_onDblClickHandler:function(f){clearTimeout(this._clickTimer);this._fire("onDblClick",this._processEvent(f))},_onMouseWheelHandler:function(f){var m=this.map;(m?m.isScrollWheelZoom||m.isScrollWheelPan:
this.preventPageScroll)&&n.stop(f);m=t("ff")||t("mozilla")?-f.detail/this.mozWheelDivisor:f.wheelDelta/this.wheelDivisor;var r=Math.abs(m);r=r<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;f.value=0>m?-r:r;this._fire("onMouseWheel",this._processEvent(f))},_onKeyDownHandler:function(f){this._fire("onKeyDown",f)},_onKeyUpHandler:function(f){this._fire("onKeyUp",f)},enableMouseWheel:function(f){c(this._scrollHandle);this._scrollHandle=b(this.node,t("ff")||t("mozilla")?f?"MozMousePixelScroll":
"DOMMouseScroll":"onmousewheel",this,this._onMouseWheelHandler)},setImmediateClick:function(f){this.doubleClickDuration=f?0:this._initialDuration},preventClickEvents:function(f){this._preventClick=f},destroy:function(){var f=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,this._onKeyUp_connect,this._docLeaveConnect]),m;for(m=0;m<f.length;m++)c(f[m]);clearTimeout(this._clickTimer);this.node=
this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=this._docLeaveConnect=null}});t("extend-esri")&&(h.MouseEvents=D);return D})},"esri/TouchEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/dom ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(D,w,a,t,l,n,h,g,e){D=D([h],
{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(d,b){this.node=d;a.mixin(this,b);w.setSelectable(d,!1);this._touchStart=a.hitch(this,this._touchStart);this._touchMove=a.hitch(this,this._touchMove);this._touchEnd=a.hitch(this,this._touchEnd);this._touchCancel=a.hitch(this,this._touchCancel);this._fireClickEvent=a.hitch(this,this._fireClickEvent);d.addEventListener("touchstart",this._touchStart,!1);d.addEventListener("touchmove",
this._touchMove,!1);d.addEventListener("touchend",this._touchEnd,!1);d.addEventListener("touchcancel",this._touchCancel,!1);this.map&&t("ios")&&(this._mouseOver=a.hitch(this,this._mouseOver),this._mouseOut=a.hitch(this,this._mouseOut),this._mouseDown=a.hitch(this,this._mouseDown),this._mouseUp=a.hitch(this,this._mouseUp),this._mouseClick=a.hitch(this,this._mouseClick),d.addEventListener("mouseover",this._mouseOver,!1),d.addEventListener("mouseout",this._mouseOut,!1),d.addEventListener("mousedown",
this._mouseDown,!1),d.addEventListener("mouseup",this._mouseUp,!1),d.addEventListener("click",this._mouseClick,!1));this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_touchStart:function(d){var b=this._touches,c,f=d.changedTouches.length,m,r,p=(new Date).getTime();this._touchStartTS=p;if(!(t("android")&&t("safari")&&1===d.targetTouches.length&&d.touches.length===d.targetTouches.length&&d.targetTouches.length===d.changedTouches.length&&0===
d.changedTouches[0].identifier&&b[d.changedTouches[0].identifier])){this._addTouch(d);for(c=0;c<f;c++){var u=d.changedTouches[c];var y=b[u.identifier]={};y.startX=u.pageX;y.startY=u.pageY;y.startTS=p;-1===this._touchIds.indexOf(u.identifier)&&this._touchIds.push(u.identifier)}this._swipeActive&&(m=this._nodeTouches[0]);this._pinchActive&&(r=this._nodeTouches[1]);1===this._numTouches?this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,m))):this._pinchActive&&(this._pinchActive=
!1,this._fire("onPinchEnd",this._processTouchEvent(d,[m,r]))):2===this._numTouches?this._swipeActive&&(m&&(y=b[this._touchIds[0]],y.startX=m.pageX,y.startY=m.pageY,y.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,m))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,m))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(d,[m,r])))}},_touchMove:function(d){d.preventDefault();this._updateTouch(d);
var b=this._touches,c,f=d.changedTouches.length,m;if(!(t("android")&&t("safari")&&1===d.targetTouches.length&&d.touches.length===d.targetTouches.length&&d.targetTouches.length===d.changedTouches.length&&0===d.changedTouches[0].identifier&&b[d.changedTouches[0].identifier]&&1<this._touchIds.length)){for(c=0;c<f;c++){var r=d.changedTouches[c];if(m=b[r.identifier]){var p=Math.abs(r.pageX-m.startX);r=Math.abs(r.pageY-m.startY);!m.moved&&(p>=this.tapRadius||r>=this.tapRadius)&&(m.moved=m.absMoved=!0);
var u=u?u:m.moved}}1===this._numTouches?(b=d.changedTouches[0],this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(d,b)):u&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(d,b)))):2===this._numTouches&&(c=this._nodeTouches[0],f=this._nodeTouches[1],this._pinchActive?this._fire("onPinchMove",this._processTouchEvent(d,[c,f])):u&&(u=b[c.identifier],m=b[f.identifier],b=Math.abs(u.startX-m.startX),u=Math.abs(u.startY-m.startY),m=Math.abs(c.pageX-f.pageX),p=Math.abs(c.pageY-
f.pageY),Math.abs(Math.sqrt(m*m+p*p)-Math.sqrt(b*b+u*u))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(d,[c,f])))))}},_touchEnd:function(d){this._removeTouch(d);var b=this._touches,c=d.changedTouches,f,m=c.length,r,p,u=(new Date).getTime(),y=this._touchIds;for(f=0;f<m;f++)if(p=b[c[f].identifier])p.absMoved&&(r=!0),p.pageX=c[f].pageX,p.pageY=c[f].pageY,p.endTS=u;if(0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=
!1,this._fire("onSwipeEnd",this._processTouchEvent(d,c[0]));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(d,c));else{if(!r){m=Infinity;r=-Infinity;u=Infinity;var x=-Infinity,z=this.tapStartTolerance,q=[],k=!0;for(f=0;f<y.length;f++)p=b[y[f]],q.push(p),p.startTS<m&&(m=p.startTS),p.startTS>r&&(r=p.startTS),p.endTS<u&&(u=p.endTS),p.endTS>x&&(x=p.endTS),delete b[y[f]];1===q.length&&c[0]&&(b=Math.abs(c[0].pageY-q[0].startY),Math.abs(c[0].pageX-q[0].startX)>=
this.tapRadius||b>=this.tapRadius)&&(k=!1);k&&Math.abs(r-m)<=z&&Math.abs(x-u)<=z&&this._basicTap(d,q)}}else 1===this._numTouches&&this._pinchActive&&(f=this._nodeTouches[0],p=b[f.identifier],p.startX=f.pageX,p.startY=f.pageY,this._pinchActive=p.moved=!1,this._fire("onPinchEnd",this._processTouchEvent(d,[c[0],f])))},_touchCancel:function(d){this._numTouches&&this._touchEnd(d)},_basicTap:function(d,b){var c=(new Date).getTime(),f=this;d=this._processTouchEvent(d,b);this._taps.push({touchInfos:b,ts:c,
event:d});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",d);clearTimeout(this._tapTimer);this._immediate?this._analyzeTap(!0):this._tapTimer=setTimeout(function(){var m=f;f=null;clearTimeout(m._tapTimer);m._analyzeTap()},2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration)},_analyzeTap:function(d){var b=this._taps,c=b[0],f=b[1],m=c.touchInfos,r=f&&f.touchInfos;b.length&&(d||(this._taps=[]),c&&f?m.length===r.length?f.ts-c.ts<=this.doubleTapDuration?(1===m.length?
(d=Math.abs(m[0].startX-r[0].startX),m=Math.abs(m[0].startY-r[0].startY),m=d<=this.doubleTapRadius&&m<=this.doubleTapRadius):m=!0,m?this._processedDoubleTap(b):this._processedTap(f)):this._processedTap(f):this._processedTap(f):this._processedTap(c||f))},_processedTap:function(d){var b=d.event;this._fire("onProcessedTap",b);1===d.touchInfos.length?this._fire("onTap",this._fixEvent(b)):2===d.touchInfos.length&&this._fire("onTwoFingerTap",b)},_processedDoubleTap:function(d){var b=1===d[1].touchInfos.length;
if(b){var c=[this._fixEvent(d[0].event),this._fixEvent(d[1].event)];c[1].relatedEvents=c}d=[d[0].event,d[1].event];d[1].relatedEvents=d;this._fire("onProcessedDoubleTap",d[1]);b&&(this._fire("onDoubleTap",c[1]),this._fire("onDblClick",c[1]))},_addTouch:function(d){var b=d.changedTouches,c=this._nodeTouches,f;this._numTouches+=b.length;for(d=0;d<b.length;d++){var m=c.length;var r=!1;for(f=0;f<m&&!(r=c[f].identifier===b[d].identifier);f++);r?this._numTouches--:c.push(b[d])}for(d=c.length-1;0<=d;d--)l.isDescendant(c[d].target,
document.body)||(c.splice(d,1),this._numTouches--);0>this._numTouches&&(this._numTouches=0)},_removeTouch:function(d){var b=[],c=[],f=d.changedTouches,m=this._nodeTouches;this._numTouches-=f.length;0>this._numTouches&&(this._numTouches=0);for(d=0;d<f.length;d++)b.push(f[d].identifier);for(d=m.length-1;0<=d;d--)-1!==b.indexOf(m[d].identifier)&&c.push(m.splice(d,1)[0]);return c},_updateTouch:function(d){var b=[],c=d.changedTouches,f=this._nodeTouches;for(d=0;d<c.length;d++)b.push(c[d].identifier);for(d=
0;d<f.length;d++){var m=b.indexOf(f[d].identifier);-1!==m&&f.splice(d,1,c[m])}},_mouseOver:function(d){this._fire("onMouseOver",this._processMouseEvent(d))},_mouseOut:function(d){this._fire("onMouseOut",this._processMouseEvent(d))},_mouseDown:function(d){this._fire("onMouseDown",this._processMouseEvent(d))},_mouseUp:function(d){this._fire("onMouseUp",this._processMouseEvent(d))},_mouseClick:function(d){clearTimeout(this._clickTimer);300<(new Date).getTime()-this._touchStartTS?this._fire("onClick",
this._processMouseEvent(d)):(this._clickEvent=d,this._clickTimer=setTimeout(this._fireClickEvent,this.doubleTapDuration))},_fireClickEvent:function(){clearTimeout(this._clickTimer);this._fire("onClick",this._processMouseEvent(this._clickEvent))},_fire:function(d,b){"onDblClick"===d&&clearTimeout(this._clickTimer);if("onDblClick"===d&&this.mouseEvents){this.mouseEvents.preventClickEvents(!0);var c=this;setTimeout(function(){c.mouseEvents.preventClickEvents(!1)},350)}if(this[d])this[d](b);if(this.map&&
this.map[d])this.map[d](b)},_fixEvent:function(d){var b={},c;for(c in d)b[c]=d[c];this.map&&(b.screenPoint=b.screenPoints[0],b.mapPoint=b.mapPoints[0]);return b},_processTouchEvent:function(d,b){var c=this.map,f=c&&c.position,m=0;if(f&&b)if(a.isArray(b)){var r;d.screenPoints=[];d.mapPoints=[];for(r=0;r<b.length;r++)if(b[r]){var p=new e(b[r].pageX-f.x,b[r].pageY-f.y);d.screenPoints.push(p);d.mapPoints.push(c.extent?c.toMap(p):new g)}else m++}else d.screenPoint=new e(b.pageX-f.x,b.pageY-f.y),d.mapPoint=
c.extent?c.toMap(d.screenPoint):new g;d.numPoints=b?a.isArray(b)?b.length-m:1:0;return d},_processMouseEvent:function(d){var b=this.map,c=b&&b.position;c&&(d.screenPoint=new e(d.pageX-c.x,d.pageY-c.y),d.mapPoint=b.extent?b.toMap(d.screenPoint):new g);return d},setImmediateTap:function(d){this._immediate=d},destroy:function(){var d=this.node;d.removeEventListener("touchstart",this._touchStart,!1);d.removeEventListener("touchmove",this._touchMove,!1);d.removeEventListener("touchend",this._touchEnd,
!1);d.removeEventListener("touchcancel",this._touchCancel,!1);this.map&&(d.removeEventListener("mouseover",this._mouseOver,!1),d.removeEventListener("mouseout",this._mouseOut,!1),d.removeEventListener("mousedown",this._mouseDown,!1),d.removeEventListener("mouseup",this._mouseUp,!1),d.removeEventListener("click",this._mouseClick,!1));w.setSelectable(d,!0);clearTimeout(this._tapTimer);clearTimeout(this._clickTimer);this.node=this.map=this._numTouches=this._nodeTouches=this._touches=this._touchIds=this._taps=
null}});t("extend-esri")&&(n.TouchEvents=D);return D})},"esri/PointerEvents":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(D,w,a,t,l,n,h,g){D=D([n],{declaredClass:"esri.PointerEvents",tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==t("mac")?1:3,wheelDivisor:120,preventPageScroll:!0,_dragging:!1,
constructor:function(e,d){this.node=e;w.mixin(this,d);void 0!==e.style.msTouchAction?e.style.msTouchAction="none":void 0!==e.style.touchAction&&(e.style.touchAction="none");d=navigator.msPointerEnabled;var b=function(c){c.preventDefault()};e.addEventListener("selectstart",b,!1);e.addEventListener("dragstart",b,!1);this._pointerDown=w.hitch(this,this._pointerDown);this._pointerMove=w.hitch(this,this._pointerMove);this._pointerUp=w.hitch(this,this._pointerUp);this._pointerCancel=w.hitch(this,this._pointerCancel);
e.addEventListener(d?"MSPointerDown":"pointerdown",this._pointerDown,!1);e.addEventListener(d?"MSPointerMove":"pointermove",this._pointerMove,!1);e.addEventListener(d?"MSPointerUp":"pointerup",this._pointerUp,!1);e.addEventListener(d?"MSPointerCancel":"pointercancel",this._pointerCancel,!1);this.map&&(this._mouseOver=w.hitch(this,this._mouseOver),this._mouseOut=w.hitch(this,this._mouseOut),this._mouseLeave=w.hitch(this,this._mouseLeave),this._mouseDown=w.hitch(this,this._mouseDown),this._mouseUp=
w.hitch(this,this._mouseUp),this._mouseClick=w.hitch(this,this._mouseClick),this._mouseWheel=w.hitch(this,this._mouseWheel),this._mouseMove=w.hitch(this,this._mouseMove),this._mouseEnter=w.hitch(this,this._mouseEnter),this._onKeyDown=w.hitch(this,this._onKeyDown),this._onKeyUp=w.hitch(this,this._onKeyUp),e.addEventListener("mouseover",this._mouseOver,!1),e.addEventListener("mouseout",this._mouseOut,!1),e.addEventListener("mouseleave",this._mouseLeave,!1),e.addEventListener("mousedown",this._mouseDown,
!1),e.addEventListener("mouseup",this._mouseUp,!1),e.addEventListener("click",this._mouseClick,!1),e.addEventListener("mousewheel",this._mouseWheel,!1),e.addEventListener("mousemove",this._mouseMove,!1),e.addEventListener("mouseenter",this._mouseEnter,!1));this._numTouches=0;this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_pointerDown:function(e){if(-1<a.indexOf(this._touchIds,e.pointerId))this._pointerUp(e);else{var d=this._touches,b=e.target,c=e.pointerId,f=this._touchIds,m=
(new Date).getTime();var r=d[c]={};r.pointerId=c;r.startX=r.pageX=e.pageX;r.startY=r.pageY=e.pageY;r.startTS=m;f.push(c);this._numTouches++;b.setPointerCapture?b.setPointerCapture(c):b.msSetPointerCapture&&b.msSetPointerCapture(c);b=d[f[0]];d=d[f[1]];1!==this._numTouches&&(2===this._numTouches?this._swipeActive&&(b&&(b.startX=b.pageX,b.startY=b.pageY,b.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(e,b))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",
this._processTouchEvent(e,b))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(e,[b,d]))))}},_pointerMove:function(e){var d=this._touches,b=this._touchIds,c;if((c=d[e.pointerId])&&(c.pageX!==e.pageX||c.pageY!==e.pageY)){c.pageX=e.pageX;c.pageY=e.pageY;var f=Math.abs(c.pageX-c.startX);var m=Math.abs(c.pageY-c.startY);!c.moved&&(f>=this.tapRadius||m>=this.tapRadius)&&(c.moved=c.absMoved=!0);if(1===this._numTouches)this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(e,
e)):c.moved&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(e,e)));else if(2===this._numTouches)if(c=d[b[0]],d=d[b[1]],this._pinchActive)this._fire("onPinchMove",this._processTouchEvent(e,[c,d]));else if(c.moved||d.moved){b=Math.abs(c.startX-d.startX);f=Math.abs(c.startY-d.startY);m=Math.abs(c.pageX-d.pageX);var r=Math.abs(c.pageY-d.pageY);Math.abs(Math.sqrt(m*m+r*r)-Math.sqrt(b*b+f*f))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(e,
[c,d])))}}},_pointerUp:function(e){var d=this._touches,b,c=this.node,f=e.target,m=e.pointerId,r=this._touchIds,p=r.slice(0),u=a.map(p,function(q){return d[q]}),y=(new Date).getTime();if(b=d[m])if(b.pageX=e.pageX,b.pageY=e.pageY,b.endTS=y,this._numTouches--,f.releasePointerCapture?f.releasePointerCapture(m):f.msReleasePointerCapture&&f.msReleasePointerCapture(m),0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(e,
e));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(e,e));else{if(!b.absMoved){f=Infinity;m=-Infinity;r=Infinity;y=-Infinity;var x=this.tapStartTolerance,z;for(z=0;z<p.length;z++)b=u[z],b.startTS<f&&(f=b.startTS),b.startTS>m&&(m=b.startTS),b.endTS<r&&(r=b.endTS),b.endTS>y&&(y=b.endTS);Math.abs(m-f)<=x&&Math.abs(y-r)<=x&&this._basicTap(e,u)}}else 1===this._numTouches&&this._pinchActive&&(r.splice(a.indexOf(r,e.pointerId),1),delete d[e.pointerId],b=d[r[0]],
b.startX=b.pageX,b.startY=b.pageY,b.moved=!1,document.msElementsFromPoint&&(p=document.msElementsFromPoint(b.pageX,b.pageY),a.some(p,function(q){return q===c})||(this._touches={},this._touchIds=[],this._numTouches=0)),this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(e,[e,b])))},_pointerCancel:function(e){this._numTouches&&this._pointerUp(e)},_basicTap:function(e,d){var b=(new Date).getTime(),c=this,f=this._immediate;e=this._processTouchEvent(e,d);this._taps.push({touchInfos:d,
ts:b,event:e});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",e);clearTimeout(this._tapTimer);e=2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration;this._tapTimer=setTimeout(function(){var m=c;c=null;clearTimeout(m._tapTimer);m._analyzeTap(f)},f?0:e)},_analyzeTap:function(e){var d=this._taps,b=d[0],c=d[1],f=b.touchInfos,m=c&&c.touchInfos;d.length&&(e||(this._taps=[]),b&&c?f.length===m.length?c.ts-b.ts<=this.doubleTapDuration?(1===f.length?(e=Math.abs(f[0].startX-
m[0].startX),f=Math.abs(f[0].startY-m[0].startY),f=e<=this.doubleTapRadius&&f<=this.doubleTapRadius):f=!0,f?this._processedDoubleTap(d):this._processedTap(c)):this._processedTap(c):this._processedTap(c):this._processedTap(b||c))},_processedTap:function(e){var d=e.event;this._fire("onProcessedTap",d);1===e.touchInfos.length?this._fire("onTap",this._fixEvent(d)):2===e.touchInfos.length&&this._fire("onTwoFingerTap",d)},_processedDoubleTap:function(e){var d=1===e[1].touchInfos.length;if(d){var b=[this._fixEvent(e[0].event),
this._fixEvent(e[1].event)];b[1].relatedEvents=b}e=[e[0].event,e[1].event];e[1].relatedEvents=e;this._fire("onProcessedDoubleTap",e[1]);d&&(this._fire("onDoubleTap",b[1]),this._fire("onDblClick",b[1]))},_mouseOver:function(e){this._fire("onMouseOver",this._processMouseEvent(e))},_mouseMove:function(e){this._dragging?this._fire("onMouseDrag",this._processMouseEvent(e)):this._fire("onMouseMove",this._processMouseEvent(e))},_mouseOut:function(e){this._fire("onMouseOut",this._processMouseEvent(e))},_mouseLeave:function(e){document.removeEventListener("keydown",
this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseOut",this._processMouseEvent(e))},_mouseDown:function(e){this._downX=e.pageX;this._downY=e.pageY;this._fire("onMouseDown",this._processMouseEvent(e));0===e.button&&(this._dragging=!0,this._fire("onMouseDragStart",this._processMouseEvent(e)))},_mouseUp:function(e){this._dragging&&(this._dragging=!1,this._fire("onMouseDragEnd",this._processMouseEvent(e)));this._fire("onMouseUp",this._processMouseEvent(e))},
_mouseClick:function(e){Math.abs(e.pageX-this._downX)<=this.clickRadius&&Math.abs(e.pageY-this._downY)<=this.clickRadius&&this._fire("onClick",this._processMouseEvent(e))},_mouseWheel:function(e){var d=this.map;(d?d.isScrollWheelZoom||d.isScrollWheelPan:this.preventPageScroll)&&e.preventDefault();d=e.wheelDelta?e.wheelDelta/this.wheelDivisor:-e.detail/this.mozWheelDivisor;var b=Math.abs(d);b=b<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;e.value=0>d?-b:b;this._fire("onMouseWheel",this._processMouseEvent(e))},
_mouseEnter:function(e){document.removeEventListener("keydown",this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);document.addEventListener("keydown",this._onKeyDown,!1);document.addEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseEnter",this._processMouseEvent(e))},_onKeyDown:function(e){this._fire("onKeyDown",e)},_onKeyUp:function(e){this._fire("onKeyUp",e)},_fire:function(e,d){if(this[e])this[e](d);if(this.map&&this.map[e])this.map[e](d)},_fixEvent:function(e){var d=
{},b;for(b in e)d[b]=e[b];d.preventDefault=function(){e.preventDefault()};d.stopPropagation=function(){e.stopPropagation()};this.map&&(d.screenPoint=d.screenPoints[0],d.mapPoint=d.mapPoints[0]);return d},_processTouchEvent:function(e,d){var b=this.map,c=b&&b.position,f=0;if(c&&d)if(w.isArray(d)){var m;e.screenPoints=[];e.mapPoints=[];for(m=0;m<d.length;m++)if(d[m]){var r=new g(d[m].pageX-c.x,d[m].pageY-c.y);e.screenPoints.push(r);e.mapPoints.push(b.extent?b.toMap(r):new h)}else f++}else e.screenPoint=
new g(d.pageX-c.x,d.pageY-c.y),e.mapPoint=b.extent?b.toMap(e.screenPoint):new h;e.numPoints=d?w.isArray(d)?d.length-f:1:0;return e},_processMouseEvent:function(e){var d=this.map,b=d&&d.position;b&&(e.screenPoint=new g(e.pageX-b.x,e.pageY-b.y),e.mapPoint=d.extent?d.toMap(e.screenPoint):new h);return e},setImmediateTap:function(e){this._immediate=e},destroy:function(){var e=this.node;e.removeEventListener("MSPointerDown",this._pointerDown,!1);e.removeEventListener("MSPointerMove",this._pointerMove,
!1);e.removeEventListener("MSPointerUp",this._pointerUp,!1);e.removeEventListener("MSPointerCancel",this._pointerCancel,!1);this.map&&(e.removeEventListener("mouseover",this._mouseOver,!1),e.removeEventListener("mousemove",this._mouseMove,!1),e.removeEventListener("mouseout",this._mouseOut,!1),e.removeEventListener("mouseleave",this._mouseLeave,!1),e.removeEventListener("mousedown",this._mouseDown,!1),e.removeEventListener("mouseup",this._mouseUp,!1),e.removeEventListener("click",this._mouseClick,
!1),e.removeEventListener("mouseenter",this._mouseEnter,!1));clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null}});t("extend-esri")&&(l.PointerEvents=D);return D})},"esri/geometry":function(){define("./units ./SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/ScreenPoint ./geometry/Multipoint ./geometry/Polyline ./geometry/Polygon ./geometry/Extent ./geometry/Rect ./geometry/geodesicUtils ./geometry/jsonUtils ./geometry/mathUtils ./geometry/normalizeUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u){return{units:D,SpatialReference:w,Geometry:a,Point:t,ScreenPoint:l,Multipoint:n,Polyline:h,Polygon:g,Extent:e,Rect:d,geodesicUtils:b,jsonUtils:c,mathUtils:f,normalizeUtils:m,scaleUtils:r,screenUtils:p,webMercatorUtils:u}})},"esri/units":function(){define(["dojo/has","./kernel"],function(D,w){var a={CENTIMETERS:"esriCentimeters",DECIMAL_DEGREES:"esriDecimalDegrees",DEGREE_MINUTE_SECONDS:"esriDegreeMinuteSeconds",DECIMETERS:"esriDecimeters",FEET:"esriFeet",
FEET_US:"esriFeetUS",INCHES:"esriInches",KILOMETERS:"esriKilometers",METERS:"esriMeters",MILES:"esriMiles",MILES_US:"esriMilesUS",MILLIMETERS:"esriMillimeters",NAUTICAL_MILES:"esriNauticalMiles",POINTS:"esriPoints",UNKNOWN:"esriUnknownUnits",YARDS:"esriYards",YARDS_US:"esriYardsUS",ACRES:"esriAcres",ACRES_US:"esriAcresUS",ARES:"esriAres",SQUARE_KILOMETERS:"esriSquareKilometers",SQUARE_MILES:"esriSquareMiles",SQUARE_MILES_US:"esriSquareMilesUS",SQUARE_FEET:"esriSquareFeet",SQUARE_FEET_US:"esriSquareFeetUS",
SQUARE_METERS:"esriSquareMeters",HECTARES:"esriHectares",SQUARE_YARDS:"esriSquareYards",SQUARE_YARDS_US:"esriSquareYardsUS",SQUARE_INCHES:"esriSquareInches",SQUARE_MILLIMETERS:"esriSquareMillimeters",SQUARE_CENTIMETERS:"esriSquareCentimeters",SQUARE_DECIMETERS:"esriSquareDecimeters",SQUARE_NAUTICAL_MILES:"esriSquareNauticalMiles",METERS_PER_SECOND:"esriMetersPerSecond",KILOMETERS_PER_HOUR:"esriKilometersPerHour",KNOTS:"esriKnots",FEET_PER_SECOND:"esriFeetPerSecond",MILES_PER_HOUR:"esriMilesPerHour",
RADIANS:"esriDURadians"};D("extend-esri")&&(w.Units=a);return a})},"esri/geometry/geodesicUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point ./Polyline ./Polygon".split(" "),function(D,w,a,t,l,n,h,g){function e(y){return!!(y&&y.wkid&&u[y.wkid])}function d(y){return e(y)?u[y.wkid]:u[4326]}function b(y){var x=y.spatialReference,z=d(x),q=z.a;z=z.eSq;var k=Math.sqrt(z),v=Math.sin(y.y*p);return new n(q*y.x*p,0<z?q*(1-z)*(v/(1-z*v*v)-1/(2*k)*Math.log((1-
k*v)/(1+k*v)))*.5:q*v,x)}function c(y,x,z,q,k){var v=d(k),B=v.a,E=v.b;v=v.f;var N=Math.sin(z);z=Math.cos(z);var G=(1-v)*Math.tan(y);y=1/Math.sqrt(1+G*G);var K=G*y,I=Math.atan2(G,z);G=y*N;var O=G*G,V=1-O;B=V*(B*B-E*E)/(E*E);var na=1+B/16384*(4096+B*(-768+B*(320-175*B))),ja=B/1024*(256+B*(-128+B*(74-47*B)));B=q/(E*na);for(var la=2*Math.PI,ca,ea,oa,sa;1E-12<Math.abs(B-la);)oa=Math.cos(2*I+B),ca=Math.sin(B),ea=Math.cos(B),sa=ja*ca*(oa+ja/4*(ea*(-1+2*oa*oa)-ja/6*oa*(-3+4*ca*ca)*(-3+4*oa*oa))),la=B,B=q/
(E*na)+sa;q=K*ca-y*ea*z;E=v/16*V*(4+v*(4-3*V));return new n((x+(Math.atan2(ca*N,y*ea-K*ca*z)-(1-E)*v*G*(B+E*ca*(oa+E*ea*(-1+2*oa*oa)))))/p,Math.atan2(K*ea+y*ca*z,(1-v)*Math.sqrt(O+q*q))/p,k)}function f(y,x,z,q,k){var v=d(k),B=v.a;k=v.b;var E=v.f,N=q-x,G=Math.atan((1-E)*Math.tan(y)),K=Math.atan((1-E)*Math.tan(z)),I=Math.sin(G);G=Math.cos(G);var O=Math.sin(K);K=Math.cos(K);var V=N,na=1E3;do{var ja=Math.sin(V);var la=Math.cos(V);var ca=Math.sqrt(K*ja*K*ja+(G*O-I*K*la)*(G*O-I*K*la));if(0===ca)return 0;
la=I*O+G*K*la;var ea=Math.atan2(ca,la);var oa=G*K*ja/ca;var sa=1-oa*oa;ja=la-2*I*O/sa;isNaN(ja)&&(ja=0);var za=E/16*sa*(4+E*(4-3*sa));var Z=V;V=N+(1-za)*E*oa*(ea+za*ca*(ja+za*la*(-1+2*ja*ja)))}while(1E-12<Math.abs(V-Z)&&0<--na);if(0===na)return k=q-x,{azimuth:Math.atan2(Math.sin(k)*Math.cos(z),Math.cos(y)*Math.sin(z)-Math.sin(y)*Math.cos(z)*Math.cos(k)),geodesicDistance:Math.acos(Math.sin(y)*Math.sin(z)+Math.cos(y)*Math.cos(z)*Math.cos(q-x))*v.radius};y=sa*(B*B-k*k)/(k*k);x=y/1024*(256+y*(-128+y*
(74-47*y)));return{azimuth:Math.atan2(K*Math.sin(V),G*O-I*K*Math.cos(V)),geodesicDistance:k*(1+y/16384*(4096+y*(-768+y*(320-175*y))))*(ea-x*ca*(ja+x/4*(la*(-1+2*ja*ja)-x/6*ja*(-3+4*ca*ca)*(-3+4*ja*ja)))),reverseAzimuth:Math.atan2(G*Math.sin(V),G*O*Math.cos(V)-I*K)}}function m(y,x){if(!(y instanceof h||y instanceof g))throw console.error("_geodesicDensify: the input geometry is neither polyline nor polygon"),Error("_geodesicDensify: the input geometry is neither polyline nor polygon");var z=y.spatialReference,
q=d(z).radius/1E4;x<q&&(x=q);q=y instanceof h;var k=[],v;D.forEach(q?y.paths:y.rings,function(B){k.push(v=[]);v.push([B[0][0],B[0][1]]);var E,N;var G=B[0][0]*p;var K=B[0][1]*p;for(E=0;E<B.length-1;E++){var I=B[E+1][0]*p;var O=B[E+1][1]*p;if(G!==I||K!==O){O=f(K,G,O,I,z);I=O.azimuth;O=O.geodesicDistance;var V=O/x;if(1<V){for(N=1;N<=V-1;N++){var na=c(K,G,I,N*x,z);v.push([na.x,na.y])}N=c(K,G,I,(O+Math.floor(V-1)*x)/2,z);v.push([N.x,N.y])}K=c(K,G,I,O,z);v.push([K.x,K.y]);G=K.x*p;K=K.y*p}}});return q?new h({paths:k,
spatialReference:z}):new g({rings:k,spatialReference:z})}var r={esriMeters:1,esriKilometers:1E3,esriYards:.9144,esriFeet:.3048,esriMiles:1609.344,esriNauticalMiles:1852,esriInches:.0254,esriDecimeters:.1,esriCentimeters:.01,esriMillimeters:.001,esriSquareMeters:1,esriSquareKilometers:1E6,esriSquareYards:.83612736,esriSquareFeet:.09290304,esriSquareMiles:2589988.110336,esriAcres:4046.8564224,esriHectares:1E4,esriAres:100,esriSquareInches:6.4516E-4,esriSquareMillimeters:1E-6,esriSquareCentimeters:1E-4,
esriSquareDecimeters:.01},p=Math.PI/180,u={4326:{a:6378137,b:6356752.31424518,f:1/298.257223563,eSq:.006694379990197414,radius:6371008.771415059},104900:{a:2439700,b:2439700,f:0,eSq:0,radius:2439700},104901:{a:6051E3,b:6051E3,f:0,eSq:0,radius:6051E3},104902:{a:6051800,b:6051800,f:0,eSq:0,radius:6051800},104903:{a:1737400,b:1737400,f:0,eSq:0,radius:1737400},104904:{a:3393400,b:3375730,f:1/192.04301075,eSq:.01038722,radius:3387510},104905:{a:3396190,b:3376200,f:1/169.89444722,eSq:.01173737,radius:3389526.6666666665},
104906:{a:6200,b:6200,f:0,eSq:0,radius:6200},104907:{a:11100,b:11100,f:0,eSq:0,radius:11100},104912:{a:2409300,b:2409300,f:0,eSq:0,radius:2409300},104915:{a:1562090,b:1562090,f:0,eSq:0,radius:1562090},104916:{a:2632345,b:2632345,f:0,eSq:0,radius:2632345},104918:{a:1821460,b:1821460,f:0,eSq:0,radius:1821460},104929:{a:249400,b:249400,f:0,eSq:0,radius:249400},104943:{a:2575E3,b:2575E3,f:0,eSq:0,radius:2575E3},104971:{a:3396190,b:3396190,f:0,eSq:0,radius:3396190},104972:{a:47E4,b:47E4,f:0,eSq:0,radius:47E4},
104973:{a:255E3,b:255E3,f:0,eSq:0,radius:255E3},104974:{a:2439400,b:2439400,f:0,eSq:0,radius:2439400}};l={isSupported:e,getSpheroidInfo:d,geodesicDensify:m,geodesicLengths:function(y,x){var z=[];D.forEach(y,function(q,k){var v=0,B=q.spatialReference;D.forEach(q.paths,function(E,N){N=0;var G;for(G=1;G<E.length;G++){var K=E[G-1][0]*p;var I=E[G][0]*p;var O=E[G-1][1]*p;var V=E[G][1]*p;if(O!==V||K!==I)K=f(O,K,V,I,B),N+=K.geodesicDistance}v+=N});v/=r[x];z.push(v)});return z},geodesicAreas:function(y,x){var z=
[],q=[];D.forEach(y,function(k,v){v=.0015696101447650193*d(k.spatialReference).radius;z.push(m(k,v))});D.forEach(z,function(k,v){var B=0,E=k.spatialReference;D.forEach(k.rings,function(N,G){G=b(new n(N[0][0],N[0][1],E));var K=b(new n(N[N.length-1][0],N[N.length-1][1],E)),I=K.x*G.y-G.x*K.y,O;for(O=0;O<N.length-1;O++)G=b(new n(N[O+1][0],N[O+1][1],E)),K=b(new n(N[O][0],N[O][1],E)),I+=K.x*G.y-G.x*K.y;B+=I});B/=r[x];q.push(B/-2)});return q},_unitsDictionary:r,_toEqualAreaPoint:b,_directGeodeticSolver:c,
_inverseGeodeticSolver:f};a("extend-esri")&&w.mixin(w.getObject("geometry",!0,t),l);return l})},"esri/symbol":function(){define("./symbols/Symbol ./symbols/MarkerSymbol ./symbols/SimpleMarkerSymbol ./symbols/PictureMarkerSymbol ./symbols/LineSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/FillSymbol ./symbols/SimpleFillSymbol ./symbols/PictureFillSymbol ./symbols/Font ./symbols/TextSymbol ./symbols/jsonUtils".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f){return{Symbol:D,
MarkerSymbol:w,SimpleMarkerSymbol:a,PictureMarkerSymbol:t,LineSymbol:l,SimpleLineSymbol:n,CartographicLineSymbol:h,FillSymbol:g,SimpleFillSymbol:e,PictureFillSymbol:d,Font:b,TextSymbol:c,jsonUtils:f}})},"esri/renderer":function(){define("./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/ClassBreaksRenderer ./renderers/TemporalRenderer ./renderers/SymbolAger ./renderers/TimeClassBreaksAger ./renderers/TimeRampAger ./renderers/StretchRenderer ./renderers/jsonUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d){return{Renderer:D,SimpleRenderer:w,UniqueValueRenderer:a,ClassBreaksRenderer:t,TemporalRenderer:l,SymbolAger:n,TimeClassBreaksAger:h,TimeRampAger:g,StretchRenderer:e,jsonUtils:d}})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojox/gfx/_base ../kernel ../Color ../layers/support/attributeUtils ../support/expressionUtils ../arcadeProfiles/visualizationProfile".split(" "),function(D,w,a,t,l,n,h,g,e,d){var b=Math.PI;
D=D(null,{declaredClass:"esri.renderer.Renderer",constructor:function(c){this._cache={};if(c&&!c.declaredClass){this.rotationInfo=c.rotationInfo;if(!this.rotationInfo){var f=c.rotationType,m=c.rotationExpression;if(f||m)this.rotationInfo={type:f,expression:m}}this.setRotationInfo(this.rotationInfo);this.setSizeInfo(this._readSizeInfo(c.sizeInfo));this.setColorInfo(this._readColorInfo(c.colorInfo));this.setOpacityInfo(this._readOpacityInfo(c.transparencyInfo));this.setVisualVariables(this._readVariables(c.visualVariables));
this.setAuthoringInfo(c.authoringInfo)}this.getSymbol=w.hitch(this,this.getSymbol)},getSymbol:function(c){},_readSizeInfo:function(c){if(c){var f=c.minSize,m=c.maxSize;f&&(c.minSize="number"===typeof f?l.pt2px(f):this._readSizeInfo(f));m&&(c.maxSize="number"===typeof m?l.pt2px(m):this._readSizeInfo(m));c.stops&&a.forEach(c.stops,function(r){r.size&&"number"===typeof r.size&&(r.size=l.pt2px(r.size))})}return c},_readColorInfo:function(c){c&&(a.forEach(c.colors,function(f,m){w.isArray(f)&&(c.colors[m]=
h.toDojoColor(f))}),a.forEach(c.stops,function(f,m){f.color&&w.isArray(f.color)&&(c.stops[m].color=h.toDojoColor(f.color))}));return c},_readOpacityInfo:function(c){if(c){var f=w.mixin({},c);f.transparencyValues&&(f.opacityValues=a.map(f.transparencyValues,function(m){return 1-m/100}),delete f.transparencyValues);f.stops&&(f.stops=a.map(f.stops,function(m){m=w.mixin({},m);m.opacity=1-m.transparency/100;delete m.transparency;return m}))}return f},_readVariables:function(c){c&&(c=a.map(c,function(f){"sizeInfo"===
f.type?f=this._readSizeInfo(f):"colorInfo"===f.type?f=this._readColorInfo(f):"transparencyInfo"===f.type&&(f=this._readOpacityInfo(f),f.type="opacityInfo");return f},this));return c},setAuthoringInfo:function(c){this.authoringInfo=c},setRotationInfo:function(c){if(c=this.rotationInfo="string"===typeof c?{field:c}:c){if(c.expression&&!w.isFunction(c.expression)&&!c.field){var f=c.expression.match(this.rotationRE);f&&f[1]&&(c.field=f[1])}c.rotationType=c.type}this._cache.rotationInfo=this._processRotationInfo(c);
return this},rotationRE:/^\[([^\]]+)\]$/i,_processRotationInfo:function(c){c&&!c.rotationType&&(c.rotationType="geographic");return this._createCache(c)},getRotationAngle:function(c,f){var m=this._getVarInfo(f&&f.rotationInfo,"rotationInfo");f=m.variable;m=this._cache[m.cacheKey];var r="arithmetic"===this._getRotationType(f),p=m&&m.hasExpr,u=null;if(f.field||p)u=this._getDataValue(c,f,null,m),null!=u&&(u=(u+(r?-90:0))*(r?-1:1));return u},_getRotationType:function(c){return c&&("rotationInfo"===c.type?
c.rotationType:c.type)},_getDataValue:function(c,f,m,r,p){r||(r=this._getVarInfo(f,m),f=r.variable,r=this._cache[r.cacheKey],"sizeInfo"===m&&(r=r.root));return c._getDataValue(f,r,e,p)},setVisualVariables:function(c){var f=this._cache;a.forEach(this.visualVariables,function(m,r){f.hasOwnProperty(r)&&(f[r]=null)},this);this.visualVariables=c;a.some(c,function(m){return!!m.target})&&c.sort(function(m,r){return m.target===r.target?0:m.target?1:-1});a.forEach(c,function(m,r){"colorInfo"===m.type?f[r]=
this._processColorInfo(m):"opacityInfo"===m.type?f[r]=this._processOpacityInfo(m):"sizeInfo"===m.type?f[r]=this._processSizeInfo(m):"rotationInfo"===m.type&&(f[r]=this._processRotationInfo(m))},this);return this},getVisualVariableValues:function(c){var f=this.visualVariables,m;f&&(m=a.map(f,function(r){switch(r.type){case "sizeInfo":var p=this.getSize(c,{sizeInfo:r});break;case "colorInfo":p=this.getColor(c,{colorInfo:r});break;case "opacityInfo":p=this.getOpacity(c,{opacityInfo:r});break;case "rotationInfo":p=
this.getRotationAngle(c,{rotationInfo:r})}return{variable:r,value:p}},this));return m},getFieldsUsedInExpressions:function(c){var f=[];a.forEach(this._getCacheObjects(),function(m){m.syntaxTree&&(f=f.concat(e.extractFieldNames(m.syntaxTree,c)))});f.sort();return a.filter(f,function(m,r){return 0===r||f[r-1]!==m})},hasGeometryOperations:function(){return a.some(this._getCacheObjects(),function(c){return c.syntaxTree?e.hasGeometryOperations(c.syntaxTree):!1})},initializeArcadeEngine:function(){var c=
[];a.forEach(this._getCacheObjects(),function(f){f.syntaxTree&&c.push(f.syntaxTree)});return d.initialize(c)},hasVisualVariables:function(c,f){return c?!!this.getVisualVariablesForType(c,f):!!(this.getVisualVariablesForType("sizeInfo",f)||this.getVisualVariablesForType("colorInfo",f)||this.getVisualVariablesForType("opacityInfo",f)||this.getVisualVariablesForType("rotationInfo",f))},getVisualVariablesForType:function(c,f){var m=this.visualVariables;if(!f&&this[c]){"rotationInfo"===c&&(this[c].rotationType=
this[c].type);var r=[this[c]]}else m&&(r=a.filter(m,function(p){return p.type===c&&("string"===typeof f?p.target===f:!1===f?!p.target:!0)}))&&0===r.length&&(r=void 0);return r},setSizeInfo:function(c){this.sizeInfo=this.proportionalSymbolInfo=c;this._cache.sizeInfo=this._processSizeInfo(c);return this},_processSizeInfo:function(c){return c&&{root:this._createCache(c),minSize:this._createCache(c.minSize),maxSize:this._createCache(c.maxSize)}},_convertExpressionToArcade:function(c){c&&c.expression&&
(c.valueExpression="$view.scale")},_getVarInfo:function(c,f){if(c&&c.type===f){var m=a.indexOf(this.visualVariables,c);c=this.visualVariables[m]}else m=f,c=this[f];return{variable:c,cacheKey:m}},setProportionalSymbolInfo:function(c){this.setSizeInfo(c);return this},getSize:function(c,f){var m=this._getVarInfo(f&&f.sizeInfo,"sizeInfo"),r=m.variable;m=this._cache[m.cacheKey];var p=null;if(r){var u=r.minSize;p=r.maxSize;u="object"===typeof u&&u?this._getSize(c,u,m&&m.minSize,f):u;p="object"===typeof p&&
p?this._getSize(c,p,m&&m.maxSize,f):p;p=this._getSize(c,r,m&&m.root,f,[u,p])}return p},_getSize:function(c,f,m,r,p){var u=f.stops,y=0,x=m&&m.hasExpr,z=m&&m.ipData,q=m&&m.isScaleDriven,k="object"===typeof c&&!!c,v="number"===typeof c?c:null;if(f.field||q||x){var B=r&&r.scale;x=p?p[0]:f.minSize;p=p?p[1]:f.maxSize;var E=f.minDataValue,N=f.maxDataValue,G=f.valueUnit||"unknown",K=f.valueRepresentation,I=f.scaleBy,O=r&&r.shape;q?v=B:"number"!==typeof v&&k&&(v=this._getDataValue(c,f,null,m));if(!this._isValidNumber(v))return null;
if(u)x=this._lookupData(v,z),v=x[0],p=x[1],v===p?y=u[v].size:(v=u[v].size,u=u[p].size,y=v+(u-v)*x[2]);else if(null!=x&&null!=p&&null!=E&&null!=N)v<=E?y=x:v>=N?y=p:(u=(v-E)/(N-E),"area"===I&&O?(x=(v="circle"===O)?b*Math.pow(x/2,2):x*x,u=x+u*((v?b*Math.pow(p/2,2):p*p)-x),y=v?2*Math.sqrt(u/b):Math.sqrt(u)):y=x+u*(p-x));else if("unknown"===G)null!=x&&null!=E&&(x&&E?(u=v/E,y="circle"===O?2*Math.sqrt(u*Math.pow(x/2,2)):"square"===O||"diamond"===O||"image"===O?Math.sqrt(u*Math.pow(x,2)):u*x):y=v+(x||E),
y=y<x?x:y,null!=p&&y>p&&(y=p));else{u=(r&&r.resolution?r.resolution:1)*this._meterIn[G];if("area"===K)y=Math.sqrt(v/b)/u,y*=2;else if(y=v/u,"radius"===K||"distance"===K)y*=2;null!=x&&y<x&&(y=x);null!=p&&y>p&&(y=p)}}else y=u&&u[0]&&u[0].size,null==y&&(y=f.minSize);return y=isNaN(y)?0:y},getSizeRangeAtScale:function(c,f){c=this._getVarInfo(c,"sizeInfo");var m=this._cache[c.cacheKey],r={scale:f};if((c=c.variable)&&f){var p=c.minSize;f=c.maxSize;var u=c.stops;u&&u.length?(c=u[0].size,m=u[u.length-1].size):
(c="object"===typeof p&&p?this._getSize({},p,m&&m.minSize,r):p,m="object"===typeof f&&f?this._getSize({},f,m&&m.maxSize,r):f);if(null!=c||null!=m){if(c>m){var y=m;m=c;c=y}y={minSize:c,maxSize:m}}}return y},setColorInfo:function(c){this.colorInfo=c;this._cache.colorInfo=this._processColorInfo(c);return this},_createCache:function(c,f){if(f=g.createAttributeCache(c,f))f.ipData=this._interpolateData(c);return f},_getCacheObjects:function(c){var f;c=c||this._cache;var m=[];for(f in c){var r=c[f];c.hasOwnProperty(f)&&
r&&"object"===typeof r&&(r.hasOwnProperty("idSource")?m.push(r):m=m.concat(this._getCacheObjects(r)))}return m},_processColorInfo:function(c){c&&(a.forEach(c.colors,function(f,m){w.isArray(f)&&(c.colors[m]=new h(f))}),a.forEach(c.stops,function(f,m){f.color&&w.isArray(f.color)&&(c.stops[m].color=new h(f.color))}));return this._createCache(c)},getColor:function(c,f){f=this._getVarInfo(f&&f.colorInfo,"colorInfo");return this._getColorComponent(c,f.variable,this._cache[f.cacheKey])},setOpacityInfo:function(c){this.opacityInfo=
c;this._cache.opacityInfo=this._processOpacityInfo(c);return this},_processOpacityInfo:function(c){return this._createCache(c)},getOpacity:function(c,f){f=this._getVarInfo(f&&f.opacityInfo,"opacityInfo");return this._getColorComponent(c,f.variable,this._cache[f.cacheKey],!0)},_getColorComponent:function(c,f,m,r,p){var u="number"===typeof c?c:null,y=m&&m.hasExpr,x=m&&m.ipData,z;f&&f.field||y?("number"!==typeof u&&"object"===typeof c&&c&&(u=this._getDataValue(c,f,null,m)),this._isValidNumber(u)||(u=
null),null!=u&&(z=r?this._getOpacity(u,f,x):this._getColor(u,f,x))):f&&(c=f.stops,r?(z=c&&c[0]&&c[0].opacity,null==z&&(z=f.opacityValues&&f.opacityValues[0])):z=c&&c[0]&&c[0].color||f.colors&&f.colors[0]);p&&(p.data=u,p.value=z);return p||z},_isValidNumber:function(c){return"number"===typeof c&&!isNaN(c)&&Infinity!==c&&-Infinity!==c},_interpolateData:function(c){if(c)if(c.colors||c.opacityValues){var f=(c.colors||c.opacityValues).length,m=c.minDataValue,r=(c.maxDataValue-m)/(f-1);var p=[];for(c=0;c<
f;c++)p[c]=m+c*r}else c.stops&&(p=a.map(c.stops,function(u){return u.value}));return p},_getOpacity:function(c,f,m){c=this._lookupData(c,m);f=f||this.opacityInfo;if(c){m=c[0];var r=c[1];m===r?r=this._getOpacValue(f,m):(m=this._getOpacValue(f,m),f=this._getOpacValue(f,r),r=m+(f-m)*c[2])}return r},_getOpacValue:function(c,f){return c.opacityValues?c.opacityValues[f]:c.stops[f].opacity},_getColor:function(c,f,m){c=this._lookupData(c,m);f=f||this.colorInfo;if(c){var r=c[0];m=c[1];r=r===m?this._getColorObj(f,
r):h.blendColors(this._getColorObj(f,r),this._getColorObj(f,m),c[2])}return r},_getColorObj:function(c,f){return c.colors?c.colors[f]:c.stops[f].color},_lookupData:function(c,f){if(f){var m=0,r=f.length-1;a.some(f,function(u,y){if(c<u)return r=y,!0;m=y;return!1});var p=[m,r,(c-f[m])/(f[r]-f[m])]}return p},_meterIn:{inches:1/.0254,feet:1/.3048,yards:1/.9144,miles:1/1609.344,"nautical-miles":1/1852,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:.001,"decimal-degrees":180/20015077},
_writeSizeInfo:function(c){if(c){c=w.mixin({},c);this._convertExpressionToArcade(c);var f=c.minSize,m=c.maxSize;f&&(c.minSize="number"===typeof f?l.px2pt(f):this._writeSizeInfo(f));m&&(c.maxSize="number"===typeof m?l.px2pt(m):this._writeSizeInfo(m));if(f=c.legendOptions)if(c.legendOptions=w.mixin({},f),f=f.customValues)c.legendOptions.customValues=f.slice(0);c.stops&&(c.stops=a.map(c.stops,function(r){r=w.mixin({},r);r.size&&"number"===typeof r.size&&(r.size=l.px2pt(r.size));return r}))}return c},
_writeColorInfo:function(c){c&&(c=w.mixin({},c),c.colors&&(c.colors=a.map(c.colors,function(f){return h.toJsonColor(f)})),c.stops&&(c.stops=a.map(c.stops,function(f){f=w.mixin({},f);f.color&&(f.color=h.toJsonColor(f.color));return f})),c.legendOptions&&(c.legendOptions=w.mixin({},c.legendOptions)));return c},_writeOpacityInfo:function(c){if(c){var f=w.mixin({},c);f.opacityValues&&(f.transparencyValues=a.map(f.opacityValues,function(m){return 100*(1-m)}),delete f.opacityValues);f.stops&&(f.stops=a.map(f.stops,
function(m){m=w.mixin({},m);m.transparency=100*(1-m.opacity);delete m.opacity;return m}));f.legendOptions&&(f.legendOptions=w.mixin({},f.legendOptions))}return f},toJson:function(c){var f=this.visualVariables,m=w.clone(this.authoringInfo),r=c&&c.useLegacyRotationProperties,p=(c=(c=this.getVisualVariablesForType("rotationInfo",!1))&&c[0])&&c.field,u;c&&(c===this.rotationInfo||r)&&(u=c.expression||p&&(w.isFunction(p)?p:"["+p+"]"));f&&(f=a.map(f,function(y){"sizeInfo"===y.type?y=this._writeSizeInfo(y):
"colorInfo"===y.type?y=this._writeColorInfo(y):"opacityInfo"===y.type?(y=this._writeOpacityInfo(y),y.type="transparencyInfo"):"rotationInfo"===y.type&&(y=r?null:w.mixin({},y));return y},this),f=a.filter(f,function(y){return null!=y}));m&&a.forEach(m.visualVariables,function(y){"opacityInfo"===y.type&&(y.type="transparencyInfo")});return{rotationType:u&&(this._getRotationType(c)||"geographic"),rotationExpression:u,colorInfo:this._writeColorInfo(this.colorInfo),transparencyInfo:this._writeOpacityInfo(this.opacityInfo),
sizeInfo:this._writeSizeInfo(this.sizeInfo),visualVariables:f,authoringInfo:m}}});t("extend-esri")&&w.setObject("renderer.Renderer",D,n);return D})},"esri/layers/support/attributeUtils":function(){define("dojo/_base/lang dojo/has dojox/encoding/digests/_base dojox/encoding/digests/MD5 ../../kernel ../../support/expressionUtils".split(" "),function(D,w,a,t,l,n){var h={viewScaleRE:/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,getAttributeId:function(g){return"string"===typeof g?t(g,a.outputTypes.Hex):
null},getAttributeIdSource:function(g){if(!g)return null;var e=g.field,d=g.valueExpression,b=null;if(d)b=d;else if(D.isFunction(e))b=e.toString();else if(e){var c=(d=g.normalizationField)?"field":g.normalizationType;g=parseFloat(g.normalizationTotal);c&&(c=c.toLowerCase(),b=e.toLowerCase()+",norm:"+c,d?b+=","+d.toLowerCase():"percent-of-total"===c&&(e=g,"number"===typeof e&&!isNaN(e)&&Infinity!==e&&-Infinity!==e&&0!==g||(g=null),b+=","+g))}return b},createAttributeCache:function(g,e){if(!g)return null;
var d=g.valueExpression,b=n.createSyntaxTree(d),c=h.getAttributeIdSource(g);return{attributeInfo:g,isNumeric:!e,idSource:c,id:h.getAttributeId(c),hasExpr:!!d,compiledFunc:n.createFunction(b),syntaxTree:b,isScaleDriven:!!g.expression||h.viewScaleRE.test(d),dependsOnView:b?n.dependsOnView(b):!1,dependsOnGeometry:b?n.hasGeometryOperations(b):!1,isJSFunc:D.isFunction(g.field)}}};w("extend-esri")&&D.setObject("layers.support.attributeUtils",h,l);return h})},"dojox/encoding/digests/_base":function(){define(["dojo/_base/lang"],
function(D){D=D.getObject("dojox.encoding.digests",!0);D.outputTypes={Base64:0,Hex:1,String:2,Raw:3};D.addWords=function(w,a){var t=(w&65535)+(a&65535);return(w>>16)+(a>>16)+(t>>16)<<16|t&65535};D.stringToWord=function(w){for(var a=[],t=0,l=8*w.length;t<l;t+=8)a[t>>5]|=(w.charCodeAt(t/8)&255)<<t%32;return a};D.wordToString=function(w){for(var a=[],t=0,l=32*w.length;t<l;t+=8)a.push(String.fromCharCode(w[t>>5]>>>t%32&255));return a.join("")};D.wordToHex=function(w){for(var a=[],t=0,l=4*w.length;t<l;t++)a.push("0123456789abcdef".charAt(w[t>>
2]>>t%4*8+4&15)+"0123456789abcdef".charAt(w[t>>2]>>t%4*8&15));return a.join("")};D.wordToBase64=function(w){for(var a=[],t=0,l=4*w.length;t<l;t+=3)for(var n=(w[t>>2]>>t%4*8&255)<<16|(w[t+1>>2]>>(t+1)%4*8&255)<<8|w[t+2>>2]>>(t+2)%4*8&255,h=0;4>h;h++)8*t+6*h>32*w.length?a.push("\x3d"):a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-h)&63));return a.join("")};D.stringToUtf8=function(w){for(var a="",t=-1,l,n;++t<w.length;)l=w.charCodeAt(t),n=t+1<w.length?w.charCodeAt(t+
1):0,55296<=l&&56319>=l&&56320<=n&&57343>=n&&(l=65536+((l&1023)<<10)+(n&1023),t++),127>=l?a+=String.fromCharCode(l):2047>=l?a+=String.fromCharCode(192|l>>>6&31,128|l&63):65535>=l?a+=String.fromCharCode(224|l>>>12&15,128|l>>>6&63,128|l&63):2097151>=l&&(a+=String.fromCharCode(240|l>>>18&7,128|l>>>12&63,128|l>>>6&63,128|l&63));return a};return D})},"dojox/encoding/digests/MD5":function(){define(["./_base"],function(D){function w(g,e){return g<<e|g>>>32-e}function a(g,e,d,b,c,f){return D.addWords(w(D.addWords(D.addWords(e,
g),D.addWords(b,f)),c),d)}function t(g,e,d,b,c,f,m){return a(e&d|~e&b,g,e,c,f,m)}function l(g,e,d,b,c,f,m){return a(e&b|d&~b,g,e,c,f,m)}function n(g,e,d,b,c,f,m){return a(d^(e|~b),g,e,c,f,m)}function h(g,e){g[e>>5]|=128<<e%32;g[(e+64>>>9<<4)+14]=e;e=1732584193;for(var d=-271733879,b=-1732584194,c=271733878,f=0;f<g.length;f+=16){var m=e,r=d,p=b,u=c;e=t(e,d,b,c,g[f+0],7,-680876936);c=t(c,e,d,b,g[f+1],12,-389564586);b=t(b,c,e,d,g[f+2],17,606105819);d=t(d,b,c,e,g[f+3],22,-1044525330);e=t(e,d,b,c,g[f+
4],7,-176418897);c=t(c,e,d,b,g[f+5],12,1200080426);b=t(b,c,e,d,g[f+6],17,-1473231341);d=t(d,b,c,e,g[f+7],22,-45705983);e=t(e,d,b,c,g[f+8],7,1770035416);c=t(c,e,d,b,g[f+9],12,-1958414417);b=t(b,c,e,d,g[f+10],17,-42063);d=t(d,b,c,e,g[f+11],22,-1990404162);e=t(e,d,b,c,g[f+12],7,1804603682);c=t(c,e,d,b,g[f+13],12,-40341101);b=t(b,c,e,d,g[f+14],17,-1502002290);d=t(d,b,c,e,g[f+15],22,1236535329);e=l(e,d,b,c,g[f+1],5,-165796510);c=l(c,e,d,b,g[f+6],9,-1069501632);b=l(b,c,e,d,g[f+11],14,643717713);d=l(d,b,
c,e,g[f+0],20,-373897302);e=l(e,d,b,c,g[f+5],5,-701558691);c=l(c,e,d,b,g[f+10],9,38016083);b=l(b,c,e,d,g[f+15],14,-660478335);d=l(d,b,c,e,g[f+4],20,-405537848);e=l(e,d,b,c,g[f+9],5,568446438);c=l(c,e,d,b,g[f+14],9,-1019803690);b=l(b,c,e,d,g[f+3],14,-187363961);d=l(d,b,c,e,g[f+8],20,1163531501);e=l(e,d,b,c,g[f+13],5,-1444681467);c=l(c,e,d,b,g[f+2],9,-51403784);b=l(b,c,e,d,g[f+7],14,1735328473);d=l(d,b,c,e,g[f+12],20,-1926607734);e=a(d^b^c,e,d,g[f+5],4,-378558);c=a(e^d^b,c,e,g[f+8],11,-2022574463);
b=a(c^e^d,b,c,g[f+11],16,1839030562);d=a(b^c^e,d,b,g[f+14],23,-35309556);e=a(d^b^c,e,d,g[f+1],4,-1530992060);c=a(e^d^b,c,e,g[f+4],11,1272893353);b=a(c^e^d,b,c,g[f+7],16,-155497632);d=a(b^c^e,d,b,g[f+10],23,-1094730640);e=a(d^b^c,e,d,g[f+13],4,681279174);c=a(e^d^b,c,e,g[f+0],11,-358537222);b=a(c^e^d,b,c,g[f+3],16,-722521979);d=a(b^c^e,d,b,g[f+6],23,76029189);e=a(d^b^c,e,d,g[f+9],4,-640364487);c=a(e^d^b,c,e,g[f+12],11,-421815835);b=a(c^e^d,b,c,g[f+15],16,530742520);d=a(b^c^e,d,b,g[f+2],23,-995338651);
e=n(e,d,b,c,g[f+0],6,-198630844);c=n(c,e,d,b,g[f+7],10,1126891415);b=n(b,c,e,d,g[f+14],15,-1416354905);d=n(d,b,c,e,g[f+5],21,-57434055);e=n(e,d,b,c,g[f+12],6,1700485571);c=n(c,e,d,b,g[f+3],10,-1894986606);b=n(b,c,e,d,g[f+10],15,-1051523);d=n(d,b,c,e,g[f+1],21,-2054922799);e=n(e,d,b,c,g[f+8],6,1873313359);c=n(c,e,d,b,g[f+15],10,-30611744);b=n(b,c,e,d,g[f+6],15,-1560198380);d=n(d,b,c,e,g[f+13],21,1309151649);e=n(e,d,b,c,g[f+4],6,-145523070);c=n(c,e,d,b,g[f+11],10,-1120210379);b=n(b,c,e,d,g[f+2],15,
718787259);d=n(d,b,c,e,g[f+9],21,-343485551);e=D.addWords(e,m);d=D.addWords(d,r);b=D.addWords(b,p);c=D.addWords(c,u)}return[e,d,b,c]}D.MD5=function(g,e){e=e||D.outputTypes.Base64;g=h(D.stringToWord(g),8*g.length);switch(e){case D.outputTypes.Raw:return g;case D.outputTypes.Hex:return D.wordToHex(g);case D.outputTypes.String:return D.wordToString(g);default:return D.wordToBase64(g)}};D.MD5._hmac=function(g,e,d){d=d||D.outputTypes.Base64;var b=D.stringToWord(e);16<b.length&&(b=h(b,8*e.length));var c=
[];e=[];for(var f=0;16>f;f++)c[f]=b[f]^909522486,e[f]=b[f]^1549556828;g=h(c.concat(D.stringToWord(g)),512+8*g.length);g=h(e.concat(g),640);switch(d){case D.outputTypes.Raw:return g;case D.outputTypes.Hex:return D.wordToHex(g);case D.outputTypes.String:return D.wordToString(g);default:return D.wordToBase64(g)}};return D.MD5})},"esri/support/expressionUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../kernel ../arcade/arcade ../arcade/Feature".split(" "),function(D,
w,a,t,l,n,h){function g(c){return c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}var e={vars:{$feature:"any",$view:"any"}},d=/^\$(feature|aggregatedFeatures)\./i,b={_getSyntaxTree:function(c){return"string"===typeof c?b.createSyntaxTree(c):c},createSyntaxTree:function(c){try{var f=c?n.parseScript(c):null}catch(m){f=null}return f},createFunction:function(c,f){f=f||D.clone(e);c=b._getSyntaxTree(c);try{var m=c?n.compileScript(c,f):null}catch(r){console.log("expressionUtils.createFunction: compilation failed. "+
(r.message||"")),m=null}return m},createExecContext:function(c,f){return{vars:{$feature:c?h.createFromGraphic(c):new h,$view:f&&f.view},spatialReference:f&&f.sr}},evalSyntaxTree:function(c,f){try{var m=n.executeScript(c,f)}catch(r){m=null}return m},executeFunction:function(c,f){try{var m=c?c(f):null}catch(r){m=null}return m},executeAsyncFunction:function(c,f){try{var m=c?c(f):(new t).reject(Error("expressionUtils.executeAsyncFunction: Invalid argument. compiledFunc is missing."))}catch(r){m=(new t).reject(r)}return m},
extractFieldNames:function(c,f){c=b._getSyntaxTree(c);c=n.extractExpectedFieldLiterals(c);var m=[];w.forEach(c,function(p){d.test(p)&&(p=p.replace(d,""),m.push(p))});var r=w.filter(m,function(p){return-1!==p.indexOf("*")});m=w.filter(m,function(p){return-1===r.indexOf(p)});f&&w.forEach(r,function(p){var u=new RegExp("^"+p.split(/\*+/).map(g).join(".*")+"$","i");w.forEach(f,function(y){u.test(y)&&m.push(y)})});m.sort();return w.filter(m,function(p,u){return 0===u||m[u-1]!==p})},dependsOnView:function(c){return b.hasVariable(c,
"$view")},hasGeometryFunctions:function(c){return(c=b._getSyntaxTree(c))?n.scriptTouchesGeometry(c):!1},hasGeometryOperations:function(c){return(c=b._getSyntaxTree(c))?n.scriptUsesGeometryEngine(c):!1},enableGeometryOperations:function(){return n.enableGeometrySupport()},hasVariable:function(c,f){return(c=b._getSyntaxTree(c))?n.referencesMember(c,f):!1},hasFunction:function(c,f){return(c=b._getSyntaxTree(c))?n.referencesFunction(c,f):!1},createFeatureSetFromLayer:function(c,f){f=f||{};var m=n.featureSetUtils();
return m?m.constructFeatureSet(c,f.spatialReference,f.outFields,f.returnGeometry,f.cache):null},createFeatureSetFromLayerUrl:function(c,f){f=f||{};var m=n.featureSetUtils();return m?m.constructFeatureSetFromUrlRaw(c,f.spatialReference,f.outFields,f.returnGeometry,f.cache):null},createFeatureSetCollectionFromMap:function(c,f){var m=n.featureSetUtils();return m?m.createFeatureSetCollectionFromMap(c,c.spatialReference,f&&f.cache):null},createFeatureSetCollectionFromServiceUrl:function(c,f){f=f||{};var m=
n.featureSetUtils();return m?m.createFeatureSetCollectionFromService(c,f.spatialReference,f.cache):null},hasFeatureSetOperations:function(c){return(c=b._getSyntaxTree(c))?n.scriptUsesFeatureSet(c):!1},enableFeatureSetOperations:function(){return n.enableFeatureSetSupport().then(function(){var c=n.featureSetUtils();c&&c.initialiseMetaDataCache()})},enableAsyncOperations:function(){return n.enableAsyncSupport()}};a("extend-esri")&&D.setObject("support.expressionUtils",b,l);return b})},"esri/arcade/arcade":function(){define("require exports ./arcadeCompiler ./arcadeRuntime ./parser ./treeAnalysis dojo/has ./polyfill/promiseUtils".split(" "),
function(D,w,a,t,l,n,h,g){function e(O,V){if(null===B)throw Error("Async Arcade must be enabled for this script");return h("csp-restrictions")||!1===q?function(na){return B.executeScript(O,na)}:a.compileScript(O,V,!0)}function d(O,V){void 0===V&&(V=[]);return l.parseScript(O,V)}function b(O,V){if(!0===V.useAsync||!0===O.isAsync){if(null===B)throw Error("Async Arcade must be enabled for this script");return B.executeScript(O,V)}return t.executeScript(O,V)}function c(O,V){return t.referencesMember(O,
V)}function f(O,V){void 0===V&&(V=[]);void 0===O.usesGeometry&&n.findScriptDependencies(O,V);return!0===O.usesGeometry}function m(){return N?N:N=g.create(function(O,V){D(["../geometry/geometryEngine","./functions/geomsync"],function(na,ja){v=!0;ja.setGeometryEngine(na);O(!0)},function(na){V(na)})})}function r(){return null!==G?G:G=a.enableAsyncSupport().then(function(){return g.create(function(O,V){D(["./arcadeAsyncRuntime"],function(na){try{B=na;na=0;for(var ja=E;na<ja.length;na++){var la=ja[na];
B.extend(la);a.extend(la,"async")}E=null;O(!0)}catch(ca){V(ca)}},V)})})}function p(){return B?!0:!1}function u(){return K?K:K=r().then(function(){return g.create(function(O,V){D(["./featureSetUtils","./functions/featuresetbase","./functions/featuresetgeom","./functions/featuresetstats","./functions/featuresetstring"],function(na,ja,la,ca,ea){try{I=na,B.extend([ja,la,ca,ea]),a.extend([ja,la,ca,ea],"async"),k=!0,O(!0)}catch(oa){V(oa)}},V)})})}function y(O,V){void 0===V&&(V=[]);void 0===O.usesFeatureSet&&
n.findScriptDependencies(O,V);return!0===O.usesFeatureSet}function x(O,V){if(V)for(var na=0;na<V.length;na++)if(c(O,V[na]))return!0;return!1}Object.defineProperty(w,"__esModule",{value:!0});w.featureSetUtils=w.scriptTouchesGeometry=w.loadScriptDependencies=w.scriptIsAsync=w.scriptUsesFeatureSet=w.enableFeatureSetSupport=w.isGeometryEnabled=w.isAsyncEnabled=w.isFeatureSetSupportEnabled=w.enableAsyncSupport=w.enableGeometrySupport=w.scriptUsesGeometryEngine=w.extractExpectedFieldLiterals=w.extractFieldLiterals=
w.referencesFunction=w.referencesMember=w.executeScript=w.parseAndExecuteScript=w.scriptCheck=w.validateScript=w.parseScript=w.extend=w.compileScript=void 0;var z="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" "),q=function(){if(h("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(O){return!1}}(),k=!1,v=!1,B=null,E=[];w.compileScript=function(O,V){return!0===V.useAsync||!0===O.isAsync?e(O,
V):h("csp-restrictions")?function(na){return t.executeScript(O,na)}:a.compileScript(O,V)};w.extend=function(O){t.extend(O);a.extend(O,"sync");null===B?E.push(O):(a.extend(O,"async"),B.extend(O))};w.parseScript=d;w.validateScript=function(O,V,na){void 0===na&&(na="");return l.validateScript(O,V,na)};w.scriptCheck=function(O,V,na,ja){void 0===ja&&(ja="");return l.scriptCheck(O,V,na,ja)};w.parseAndExecuteScript=function(O,V,na){void 0===na&&(na=[]);O=l.parseScript(O,na);return b(O,V)};w.executeScript=
b;w.referencesMember=c;w.referencesFunction=function(O,V){return t.referencesFunction(O,V)};w.extractFieldLiterals=function(O,V){void 0===V&&(V=!1);return l.extractFieldLiterals(O,V)};w.extractExpectedFieldLiterals=function(O){return l.extractExpectedFieldLiterals(O)};w.scriptUsesGeometryEngine=f;var N=null;w.enableGeometrySupport=m;var G=null;w.enableAsyncSupport=r;w.isFeatureSetSupportEnabled=function(){return k};w.isAsyncEnabled=p;w.isGeometryEnabled=function(){return v};var K=null;w.enableFeatureSetSupport=
u;w.scriptUsesFeatureSet=y;w.scriptIsAsync=function(O,V){void 0===V&&(V=[]);void 0===O.isAsync&&n.findScriptDependencies(O,V);return!0===O.isAsync};w.loadScriptDependencies=function(O,V,na,ja){void 0===na&&(na=[]);void 0===ja&&(ja=!1);return g.create(function(la,ca){var ea="string"===typeof O?d(O):O,oa=[];ea&&(!1===v&&(f(ea)||ja)&&oa.push(m()),!1===p()&&(!0===ea.isAsync||V)&&oa.push(r()),!1===k&&(y(ea)||x(ea,na))&&oa.push(u()));oa.length?g.all(oa).then(function(){la(!0)},ca):la(!0)})};w.scriptTouchesGeometry=
function(O){if(f(O))return!0;O=n.findFunctionCalls(O);for(var V=!1,na=0;na<O.length;na++)if(-1<z.indexOf(O[na])){V=!0;break}return V};var I=null;w.featureSetUtils=function(){return I}})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B,E){function N(R,P,Y){try{return Y(R,null,P)}catch(ha){throw ha;}}function G(R){return R instanceof Error?y.reject(R):y.reject(Error(R))}function K(R,P){try{switch(P.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return ja(R,P);case "VariableDeclaration":for(var Y=[],ha=0;ha<P.declarations.length;ha++)Y.push(K(R,P.declarations[ha]));return Y.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return na(R,
P);case "FunctionDeclaration":var ta=P.id.name.toLowerCase(),Da={isAsync:R.isAsync,spatialReference:R.spatialReference,console:R.console,lrucache:R.lrucache,interceptor:R.interceptor,services:R.services,symbols:R.symbols,mangleMap:R.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:R.depthCounter+1,globalScope:R.globalScope};if(64<Da.depthCounter)throw Error("Exceeded maximum function depth");Y="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(ha=0;ha<P.params.length;ha++){var Ga=P.params[ha].name.toLowerCase(),Ma=ua(R);Da.localScope._SymbolsMap[Ga]=Ma;Da.mangleMap[Ga]=Ma;Y+="lscope['"+Ma+"']\x3darguments["+ha.toString()+"];\n"}!0===R.isAsync?(Y=Y+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(na(Da,P.body)+"\n return lastStatement; "),Y+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(Y+=na(Da,P.body)+"\n return lastStatement; }, runtimeCtx))",Y+="\n lastStatement \x3d lc.voidOperation; \n");if(void 0!==
R.globalScope[ta])var Ia="gscope['"+ta+"']\x3d"+Y;else void 0!==R.globalScope._SymbolsMap[ta]?Ia="gscope['"+R.globalScope._SymbolsMap[ta]+"']\x3d"+Y:(Ma=ua(R),R.globalScope._SymbolsMap[ta]=Ma,R.mangleMap[ta]=Ma,Ia="gscope['"+Ma+"']\x3d"+Y);return Ia;case "ReturnStatement":var Fa=null===P.argument?"return lc.voidOperation":"return "+K(R,P.argument);return Fa;case "IfStatement":if("AssignmentExpression"===P.test.type||"UpdateExpression"===P.test.type)throw Error(d.nodeErrorMessage(P.test,"RUNTIME",
"CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var La=K(R,P.test),Ka=A(R),M="var "+Ka+" \x3d "+La+";\n if ("+Ka+" \x3d\x3d\x3d true) {\n"+V(R,P.consequent)+"\n }\n";M=null!==P.alternate?M+("else if ("+Ka+"\x3d\x3d\x3dfalse)   { \n"+V(R,P.alternate)+"}\n"):M+("else if ("+Ka+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return M+="else { lang.error({type: '"+P.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";case "ExpressionStatement":var W="AssignmentExpression"===P.expression.type?
"lastStatement \x3d lc.voidOperation; "+K(R,P.expression)+"; \n ":"lastStatement \x3d "+K(R,P.expression)+"; ";return W;case "AssignmentExpression":return O(R,P);case "UpdateExpression":return I(R,P);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{var fa=[];ta=Ia=0;for(ha=P.quasis;ta<ha.length;ta++){var qa=ha[ta];fa.push(qa.value?JSON.stringify(qa.value.cooked):JSON.stringify(""));!1===qa.tail&&(fa.push(P.expressions[Ia]?"lang.castString(lang.aCheck("+
K(R,P.expressions[Ia])+", 'TemplateLiteral'))":""),Ia++)}Y="(["+fa.join(",")+"]).join('')"}catch(Ya){throw Ya;}return Y;case "TemplateElement":return JSON.stringify(P.value?P.value.cooked:"");case "ForStatement":Y="lastStatement \x3d lc.voidOperation; \n";null!==P.init&&(Y+=K(R,P.init)+"; ");var wa=A(R),ya=A(R);Y+="var "+wa+" \x3d true; \n do { ";null!==P.update&&(Y+=" if ("+wa+"\x3d\x3d\x3dfalse) {\n "+K(R,P.update)+"  \n}\n "+wa+"\x3dfalse; \n");null!==P.test&&(Y+="var "+ya+" \x3d "+K(R,P.test)+
"; ",Y+="if ("+ya+"\x3d\x3d\x3dfalse) { break; } else if ("+ya+"!\x3d\x3dtrue) { lang.error({type: '"+P.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");Y+=K(R,P.body);null!==P.update&&(Y+="\n "+K(R,P.update));return Y+("\n"+wa+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":var Ba=A(R),Ja=A(R),Ha=A(R),Ca="var "+Ba+" \x3d "+K(R,P.right)+";\n";"VariableDeclaration"===P.left.type&&(Ca+=K(R,P.left));var Oa="VariableDeclaration"===P.left.type?
P.left.declarations[0].id.name:P.left.name;Oa=Oa.toLowerCase();Y="";null!==R.localScope&&(void 0!==R.localScope[Oa]?Y="lscope['"+Oa+"']":void 0!==R.localScope._SymbolsMap[Oa]&&(Y="lscope['"+R.localScope._SymbolsMap[Oa]+"']"));""===Y&&(void 0!==R.globalScope[Oa]?Y="gscope['"+Oa+"']":void 0!==R.globalScope._SymbolsMap[Oa]&&(Y="gscope['"+R.globalScope._SymbolsMap[Oa]+"']"));Ca=Ca+("if ("+Ba+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(Ba+") || lc.isString("+
Ba+")) {var ")+(Ja+"\x3d"+Ba+".length; \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ja+"; "+Ha+"++) {\n");Ca+=Y+"\x3d"+Ha+";\n";Ca+=K(R,P.body);Ca+="\n}\n";Ca+=" lastStatement \x3d lc.voidOperation; \n";Ca+=" \n}\n";Ca+="else if (lc.isImmutableArray("+Ba+")) {";Ca=Ca+("var "+Ja+"\x3d"+Ba+".length(); \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ja+"; "+Ha+"++) {\n");Ca+=Y+"\x3d"+Ha+";\n";Ca+=K(R,P.body);Ca+="\n}\n";Ca+=" lastStatement \x3d lc.voidOperation; \n";Ca+=" \n}\n";Ca+="else if (( "+Ba+" instanceof lang.Dictionary) || ( "+
Ba+" instanceof lang.Feature)) {";Ca=Ca+("var "+Ja+"\x3d"+Ba+".keys(); \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ja+".length; "+Ha+"++) {\n");Ca+=Y+"\x3d"+Ja+"["+Ha+"];\n";Ca+=K(R,P.body);Ca+="\n}\n";Ca+=" lastStatement \x3d lc.voidOperation; \n";Ca+=" \n}\n";R.isAsync&&(Ca+="else if (lc.isFeatureSet("+Ba+")) {",Ca=Ca+("var "+Ja+"\x3d"+Ba+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ha+"\x3dlang. graphicToFeature( yield "+Ja+".next(),"+Ba+"); "+Ha+"!\x3dnull; "+Ha+"\x3dlang. graphicToFeature( yield "+
Ja+".next(),"+Ba+")) {\n")+(Y+"\x3d"+Ha+";\n"),Ca+=K(R,P.body),Ca+="\n}\n",Ca+=" lastStatement \x3d lc.voidOperation; \n",Ca+=" \n}\n");return Ca+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return ca(R,P);case "MemberExpression":try{Y=void 0;Y=!0===P.computed?K(R,P.property):"'"+P.property.name+"'";var ab="lang.member("+K(R,P.object)+","+Y+")"}catch(Ya){throw Ya;}return ab;case "Literal":return null===P.value||void 0===P.value?"null":JSON.stringify(P.value);case "ThisExpression":throw Error(d.nodeErrorMessage(P,
"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==P.callee.type)throw Error(d.nodeErrorMessage(P,"RUNTIME","ONLYNODESSUPPORTED"));var Ta=P.callee.name.toLowerCase();Y="";null!==R.localScope&&(void 0!==R.localScope[Ta]?Y="lscope['"+Ta+"']":void 0!==R.localScope._SymbolsMap[Ta]&&(Y="lscope['"+R.localScope._SymbolsMap[Ta]+"']"));""===Y&&(void 0!==R.globalScope[Ta]?Y="gscope['"+Ta+"']":void 0!==R.globalScope._SymbolsMap[Ta]&&(Y="gscope['"+R.globalScope._SymbolsMap[Ta]+"']"));if(""!==
Y){ha="[";for(qa=0;qa<P.arguments.length;qa++)0<qa&&(ha+=", "),ha+=K(R,P.arguments[qa]);ha+="]";fa=R.isAsync?"(yield lang.callfunc("+Y+","+ha+",runtimeCtx) )":"lang.callfunc("+Y+","+ha+",runtimeCtx)"}else throw Error(d.nodeErrorMessage(P,"RUNTIME","NOTFOUND"));}catch(Ya){throw Ya;}return fa;case "UnaryExpression":try{var Wa="lang.unary("+K(R,P.argument)+",'"+P.operator+"')"}catch(Ya){throw Ya;}return Wa;case "BinaryExpression":try{var Sa="lang.binary("+K(R,P.left)+","+K(R,P.right)+",'"+P.operator+
"')"}catch(Ya){throw Ya;}return Sa;case "LogicalExpression":try{if("AssignmentExpression"===P.left.type||"UpdateExpression"===P.left.type)throw Error(d.nodeErrorMessage(P.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===P.right.type||"UpdateExpression"===P.right.type)throw Error(d.nodeErrorMessage(P.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===P.operator||"||"===P.operator)var ob="(lang.logicalCheck("+K(R,P.left)+") "+P.operator+" lang.logicalCheck("+
K(R,P.right)+"))";else throw Error(d.nodeErrorMessage(P,"RUNTIME","ONLYORORAND"));}catch(Ya){throw Ya;}return ob;case "ConditionalExpression":throw Error(d.nodeErrorMessage(P,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{Y=[];for(ha=0;ha<P.elements.length;ha++)"Literal"===P.elements[ha].type?Y.push(K(R,P.elements[ha])):Y.push("lang.aCheck("+K(R,P.elements[ha])+",'ArrayExpression')");var kb="["+Y.join(",")+"]"}catch(Ya){throw Ya;}return kb;case "ObjectExpression":Y="lang.dictionary([";for(ha=
0;ha<P.properties.length;ha++){var eb=P.properties[ha],Qa="Identifier"===eb.key.type?"'"+eb.key.name+"'":K(R,eb.key),Xa=K(R,eb.value);0<ha&&(Y+=",");Y+="lang.strCheck("+Qa+",'ObjectExpression'),lang.aCheck("+Xa+", 'ObjectExpression')"}return Y+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(d.nodeErrorMessage(P,"RUNTIME","NOTSUPPORTED"));default:throw Error(d.nodeErrorMessage(P,"RUNTIME","UNREOGNISED"));}}catch(Ya){throw Ya;}}function I(R,P){var Y=null,ha="";if("MemberExpression"===
P.argument.type)return Y=K(R,P.argument.object),ha=!0===P.argument.computed?K(R,P.argument.property):"'"+P.argument.property.name+"'","lang.memberupdate("+Y+","+ha+",'"+P.operator+"',"+P.prefix+")";Y=P.argument.name.toLowerCase();if(null!==R.localScope){if(void 0!==R.localScope[Y])return"lang.update(lscope, '"+Y+"','"+P.operator+"',"+P.prefix+")";if(void 0!==R.localScope._SymbolsMap[Y])return"lang.update(lscope, '"+R.localScope._SymbolsMap[Y]+"','"+P.operator+"',"+P.prefix+")"}if(void 0!==R.globalScope[Y])return"lang.update(gscope, '"+
Y+"','"+P.operator+"',"+P.prefix+")";if(void 0!==R.globalScope._SymbolsMap[Y])return"lang.update(gscope, '"+R.globalScope._SymbolsMap[Y]+"','"+P.operator+"',"+P.prefix+")";throw Error("Variable not recognised");}function O(R,P){var Y=K(R,P.right),ha=null,ta="";if("MemberExpression"===P.left.type)return ha=K(R,P.left.object),ta=!0===P.left.computed?K(R,P.left.property):"'"+P.left.property.name+"'","lang.assignmember("+ha+","+ta+",'"+P.operator+"',"+Y+")";ha=P.left.name.toLowerCase();if(null!==R.localScope){if(void 0!==
R.localScope[ha])return"lscope['"+ha+"']\x3dlang.assign("+Y+",'"+P.operator+"', lscope['"+ha+"'])";if(void 0!==R.localScope._SymbolsMap[ha])return"lscope['"+R.localScope._SymbolsMap[ha]+"']\x3dlang.assign("+Y+",'"+P.operator+"', lscope['"+R.localScope._SymbolsMap[ha]+"'])"}if(void 0!==R.globalScope[ha])return"gscope['"+ha+"']\x3dlang.assign("+Y+",'"+P.operator+"', gscope['"+ha+"'])";if(void 0!==R.globalScope._SymbolsMap[ha])return"gscope['"+R.globalScope._SymbolsMap[ha]+"']\x3dlang.assign("+Y+",'"+
P.operator+"', gscope['"+R.globalScope._SymbolsMap[ha]+"'])";throw Error("Variable not recognised");}function V(R,P){return"BlockStatement"===P.type?K(R,P):"ReturnStatement"===P.type||"BreakStatement"===P.type||"ContinueStatement"===P.type?K(R,P)+"; ":"UpdateExpression"===P.type?"lastStatement \x3d "+K(R,P)+"; ":"ExpressionStatement"===P.type?K(R,P):"ObjectExpression"===P.type?"lastStatement \x3d "+K(R,P)+"; ":K(R,P)+"; "}function na(R,P){for(var Y="",ha=0;ha<P.body.length;ha++)Y="ReturnStatement"===
P.body[ha].type?Y+(K(R,P.body[ha])+"; \n"):"BreakStatement"===P.body[ha].type?Y+(K(R,P.body[ha])+"; \n"):"ContinueStatement"===P.body[ha].type?Y+(K(R,P.body[ha])+"; \n"):"UpdateExpression"===P.body[ha].type?Y+("lastStatement \x3d "+K(R,P.body[ha])+"; \n"):"ObjectExpression"===P.body[ha].type?Y+("lastStatement \x3d "+K(R,P.body[ha])+"; \n"):Y+(K(R,P.body[ha])+" \n");return Y}function ja(R,P){var Y=null===P.init?null:K(R,P.init);Y===e.voidOperation&&(Y=null);P=P.id.name.toLowerCase();if(null!==R.localScope){if(void 0!==
R.localScope[P])return"lscope['"+P+"']\x3d"+Y+"; ";if(void 0!==R.localScope._SymbolsMap[P])return"lscope['"+R.localScope._SymbolsMap[P]+"']\x3d"+Y+"; ";var ha=ua(R);R.localScope._SymbolsMap[P]=ha;R.mangleMap[P]=ha;return"lscope['"+ha+"']\x3d"+Y+"; "}if(void 0!==R.globalScope[P])return"gscope['"+P+"']\x3d"+Y+"; ";if(void 0!==R.globalScope._SymbolsMap[P])return"gscope['"+R.globalScope._SymbolsMap[P]+"']\x3d"+Y+"; ";ha=ua(R);R.globalScope._SymbolsMap[P]=ha;R.mangleMap[P]=ha;return"gscope['"+ha+"']\x3d"+
Y+"; "}function la(R,P,Y){P=P.toLowerCase();switch(P){case "hasz":return R=R.hasZ,void 0===R?!1:R;case "hasm":return R=R.hasM,void 0===R?!1:R;case "spatialreference":return P=R.spatialReference._arcadeCacheId,void 0===P&&(Y=!0,Object.freeze&&Object.isFrozen(R.spatialReference)&&(Y=!1),Y&&(pa++,P=R.spatialReference._arcadeCacheId=pa)),R=new l({wkt:R.spatialReference.wkt,wkid:R.spatialReference.wkid}),void 0!==P&&(R._arcadeCacheId="SPREF"+P.toString()),R}switch(R.type){case "extent":switch(P){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return R=
R[P],void 0!==R?R:null;case "type":return"Extent"}break;case "polygon":switch(P){case "rings":return P=R.getCacheValue("_arcadeCacheId"),void 0===P&&(pa++,P=pa,R.setCacheValue("_arcadeCacheId",P)),R=new h(R.rings,R.spatialReference,!0===R.hasZ,!0===R.hasM,P);case "type":return"Polygon"}break;case "point":switch(P){case "x":case "y":case "z":case "m":return void 0!==R[P]?R[P]:null;case "type":return"Point"}break;case "polyline":switch(P){case "paths":return P=R.getCacheValue("_arcadeCacheId"),void 0===
P&&(pa++,P=pa,R.setCacheValue("_arcadeCacheId",P)),R=new h(R.paths,R.spatialReference,!0===R.hasZ,!0===R.hasM,P);case "type":return"Polyline"}break;case "multipoint":switch(P){case "points":return P=R.getCacheValue("_arcadeCacheId"),void 0===P&&(pa++,P=pa,R.setCacheValue("_arcadeCacheId",P)),R=new g(R.points,R.spatialReference,!0===R.hasZ,!0===R.hasM,P,1);case "type":return"Multipoint"}}throw Error(d.nodeErrorMessage(Y,"RUNTIME","PROPERTYNOTFOUND"));}function ca(R,P){try{var Y=P.name.toLowerCase();
if(null!==R.localScope){if(void 0!==R.localScope[Y])return"lscope['"+Y+"']";if(void 0!==R.localScope._SymbolsMap[Y])return"lscope['"+R.localScope._SymbolsMap[Y]+"']"}if(void 0!==R.globalScope[Y])return"gscope['"+Y+"']";if(void 0!==R.globalScope._SymbolsMap[Y])return"gscope['"+R.globalScope._SymbolsMap[Y]+"']";throw Error(d.nodeErrorMessage(P,"RUNTIME","VARIABLENOTFOUND"));}catch(ha){throw ha;}}function ea(R){return null===R?"":e.isArray(R)||e.isImmutableArray(R)?"Array":e.isDate(R)?"Date":e.isString(R)?
"String":e.isBoolean(R)?"Boolean":e.isNumber(R)?"Number":R instanceof t?"Attachment":R instanceof a?"Portal":R instanceof l?"Dictionary":R instanceof n?"Feature":R instanceof k?"Point":R instanceof v?"Polygon":R instanceof B?"Polyline":R instanceof q?"Multipoint":R instanceof x?"Extent":e.isFunctionParameter(R)?"Function":e.isFeatureSet(R)?"FeatureSet":e.isFeatureSetCollection(R)?"FeatureSetCollection":R===e.voidOperation?"":"number"===typeof R&&isNaN(R)?"Number":"Unrecognised Type"}function oa(R,
P,Y,ha){try{if(e.equalityTest(P[Y],ha))return P[Y+1];var ta=P.length-Y;return 1===ta?P[Y]:2===ta?null:3===ta?P[Y+2]:oa(R,P,Y+2,ha)}catch(Da){throw Da;}}function sa(R,P,Y,ha){try{if(!0===ha)return P[Y+1];if(3===P.length-Y)return P[Y+2];var ta=P[Y+2];if(!1===e.isBoolean(ta))throw Error("WHEN needs boolean test conditions");return sa(R,P,Y+2,ta)}catch(Da){throw Da;}}function za(R,P){var Y=R.length,ha=Math.floor(Y/2);if(0===Y)return[];if(1===Y)return[R[0]];var ta=za(R.slice(0,ha),P);R=za(R.slice(ha,Y),
P);for(Y=[];0<ta.length||0<R.length;)0<ta.length&&0<R.length?(ha=P(ta[0],R[0]),isNaN(ha)&&(ha=0),0>=ha?(Y.push(ta[0]),ta=ta.slice(1)):(Y.push(R[0]),R=R.slice(1))):0<ta.length?(Y.push(ta[0]),ta=ta.slice(1)):0<R.length&&(Y.push(R[0]),R=R.slice(1));return Y}function Z(R,P){try{var Y=R.length,ha=Math.floor(Y/2);if(0===Y)return y.resolve([]);if(1===Y)return y.resolve([R[0]]);var ta=[Z(R.slice(0,ha),P),Z(R.slice(ha,Y),P)];return y.all(ta).then(function(Da){return ka(Da[0],Da[1],P,[])})}catch(Da){return y.reject(Da)}}
function ka(R,P,Y,ha){return y.create(function(ta,Da){0<R.length||0<P.length?0<R.length&&0<P.length?Y(R[0],P[0]).then(function(Ga){try{isNaN(Ga)&&(Ga=1),0>=Ga?(ha.push(R[0]),R=R.slice(1)):(ha.push(P[0]),P=P.slice(1)),ka(R,P,Y,ha).then(function(Ma){ta(Ma)},Da)}catch(Ma){Da(Ma)}},Da):0<R.length?(ha.push(R[0]),R=R.slice(1),ka(R,P,Y,ha).then(function(Ga){ta(Ga)},Da)):0<P.length&&(ha.push(P[0]),P=P.slice(1),ka(R,P,Y,ha).then(function(Ga){ta(Ga)},Da)):ta(ha)})}function ua(R){R.symbols.symbolCounter++;return"_T"+
R.symbols.symbolCounter.toString()}function A(R){R.symbols.symbolCounter++;return"_Tvar"+R.symbols.symbolCounter.toString()}function F(R,P,Y){var ha={};R||(R={});Y||(Y={});ha._SymbolsMap={};ha.textformatting=1;ha.infinity=1;ha.pi=1;for(var ta in P)ha[ta]=1;for(ta in Y)ha[ta]=1;for(ta in R)ha[ta]=1;return ha}function Q(R,P){for(var Y={mode:P,compiled:!0,functions:{},signatures:[],failDefferred:G,standardFunction:N,standardFunctionAsync:N,evaluateIdentifier:X},ha=0;ha<R.length;ha++)R[ha].registerFunctions(Y);
if("sync"===P){for(var ta in Y.functions)ra[ta]=new e.NativeFunction(Y.functions[ta]),ba.prototype[ta]=ra[ta];for(ha=0;ha<Y.signatures.length;ha++)d.addFunctionDeclaration(Y.signatures[ha],"sync")}else{for(ta in Y.functions)T[ta]=new e.NativeFunction(Y.functions[ta]),ma.prototype[ta]=T[ta];for(ha=0;ha<Y.signatures.length;ha++)d.addFunctionDeclaration(Y.signatures[ha],"async")}}function X(R,P){P=P.name;if("_SymbolsMap"===P)throw"Illegal";if(0<R.localStack.length){if("_t"!==P.substr(0,2).toLowerCase()&&
void 0!==R.localStack[R.localStack.length-1][P])return R.localStack[R.localStack.length-1][P];var Y=R.mangleMap[P];if(void 0!==Y&&void 0!==R.localStack[R.localStack.length-1][Y])return R.localStack[R.localStack.length-1][Y]}if("_t"!==P.substr(0,2).toLowerCase()&&void 0!==R.globalScope[P]||1===R.globalScope._SymbolsMap[P])return R.globalScope[P];P=R.mangleMap[P];if(void 0!==P)return R.globalScope[P]}function aa(R){console.log(R)}Object.defineProperty(w,"__esModule",{value:!0});w.enableAsyncSupport=
w.compileScript=w.referencesFunction=w.referencesMember=w.validateScript=w.extractExpectedFieldLiterals=w.extractFieldLiterals=w.executeScript=w.extend=w.functionHelper=void 0;var pa=0,ra={};b.registerFunctions(ra,N);c.registerFunctions(ra,N);u.registerFunctions(ra,N);r.registerFunctions(ra,N);f.registerFunctions(ra,N);p.registerFunctions(ra,N);ra["typeof"]=function(R,P){return N(R,P,function(Y,ha,ta){e.pcCheck(ta,1,1);Y=ea(ta[0]);if("Unrecognised Type"===Y)throw Error("Unrecognised Type");return Y})};
ra.iif=function(R,P){try{return N(R,P,function(Y,ha,ta){e.pcCheck(ta,3,3);if(!1===e.isBoolean(ta[0]))throw Error("IF Function must have a boolean test condition");return ta[0]?ta[1]:ta[2]})}catch(Y){throw Y;}};ra.decode=function(R,P){try{return N(R,P,function(Y,ha,ta){if(2>ta.length)throw Error("Missing Parameters");if(2===ta.length)return ta[1];if(0===(ta.length-1)%2)throw Error("Must have a default value result.");return oa(R,ta,1,ta[0])})}catch(Y){throw Y;}};ra.when=function(R,P){try{return N(R,
P,function(Y,ha,ta){if(3>ta.length)throw Error("Missing Parameters");if(0===ta.length%2)throw Error("Must have a default value result.");Y=ta[0];if(!1===e.isBoolean(Y))throw Error("WHEN needs boolean test conditions");return sa(R,ta,0,Y)})}catch(Y){throw Y;}};ra.top=function(R,P){return N(R,P,function(Y,ha,ta){e.pcCheck(ta,2,2);if(e.isArray(ta[0]))return e.toNumber(ta[1])>=ta[0].length?ta[0].slice(0):ta[0].slice(0,e.toNumber(ta[1]));if(e.isImmutableArray(ta[0]))return e.toNumber(ta[1])>=ta[0].length()?
ta[0].slice(0):ta[0].slice(0,e.toNumber(ta[1]));throw Error("Top cannot accept this parameter type");})};ra.first=function(R,P){return N(R,P,function(Y,ha,ta){e.pcCheck(ta,1,1);return e.isArray(ta[0])?0===ta[0].length?null:ta[0][0]:e.isImmutableArray(ta[0])?0===ta[0].length()?null:ta[0].get(0):null})};ra.sort=function(R,P){return N(R,P,function(Y,ha,ta){e.pcCheck(ta,1,2);ha=ta[0];e.isImmutableArray(ha)&&(ha=ha.toArray());if(!1===e.isArray(ha))throw Error("Illegal Argument");if(1<ta.length){if(!1===
e.isFunctionParameter(ta[1]))throw Error("Illegal Argument");var Da=function(La,Ka){return Aa.callfunc(ta[1],[La,Ka],Y)};return R.isAsync?Z(ha,Da):ha=za(ha,function(La,Ka){return Da(La,Ka)})}if(0===ha.length)return[];for(var Ga={},Ma=0;Ma<ha.length;Ma++){var Ia=ea(ha[Ma]);""!==Ia&&(Ga[Ia]=!0)}if(!0===Ga.Array||!0===Ga.Dictionary||!0===Ga.Feature||!0===Ga.Point||!0===Ga.Polygon||!0===Ga.Polyline||!0===Ga.Multipoint||!0===Ga.Extent||!0===Ga.Function)return ha.slice(0);Ma=0;Ia="";for(var Fa in Ga)Ma++,
Ia=Fa;return ha=1<Ma||"String"===Ia?za(ha,function(La,Ka){if(null===La||void 0===La||La===e.voidOperation)return null===Ka||void 0===Ka||Ka===e.voidOperation?0:1;if(null===Ka||void 0===Ka||Ka===e.voidOperation)return-1;La=e.toString(La);Ka=e.toString(Ka);return La<Ka?-1:La===Ka?0:1}):"Number"===Ia?za(ha,function(La,Ka){return La-Ka}):"Boolean"===Ia?za(ha,function(La,Ka){return La===Ka?0:Ka?-1:1}):"Date"===Ia?za(ha,function(La,Ka){return Ka-La}):ha.slice(0)})};var T={},U;for(U in ra)T[U]=new e.NativeFunction(ra[U]);
m.registerFunctions(ra,N);for(U in ra)ra[U]=new e.NativeFunction(ra[U]);var ba=function(){};ba.prototype=ra;var ma=function(){};ma.prototype=T;w.functionHelper={fixSpatialReference:e.fixSpatialReference,parseArguments:function(R,P){for(var Y=[],ha=0;ha<P.arguments.length;ha++)Y.push(K(R,P.arguments[ha]));return Y},standardFunction:N};w.extend=Q;w.executeScript=function(R,P){return R(P)};w.extractFieldLiterals=function(R,P){void 0===P&&(P=!1);return d.findFieldLiterals(R)};w.extractExpectedFieldLiterals=
function(R){return d.findExpectedFieldLiterals(R)};w.validateScript=function(R,P){return d.validateScript(R,P,"sync")};w.referencesMember=function(R,P){return d.referencesMember(R,P)};w.referencesFunction=function(R,P){return d.referencesFunction(R,P)};var da=0,Aa={error:function(R,P,Y){throw Error(d.nodeErrorMessage(R,P,Y));},__awaiter:function(R,P,Y,ha){return y.create(function(ta,Da){function Ga(Fa){try{Ia(ha.next(Fa))}catch(La){Da(La)}}function Ma(Fa){try{Ia(ha["throw"](Fa))}catch(La){Da(La)}}
function Ia(Fa){Fa.done?ta(Fa.value):Fa.value&&Fa.value.then?Fa.value.then(Ga,Ma):(da++,0===da%100?setTimeout(function(){da=0;Ga(Fa.value)},0):Ga(Fa.value))}Ia((ha=ha.apply(R,P||[])).next())})},functionDepthchecker:function(R,P){return function(){P.depthCounter++;P.localStack.push([]);if(64<P.depthCounter)throw Error("Exceeded maximum function depth");var Y=R.apply(this,arguments);if(y.isPromiseLike(Y))return Y.then(function(ha){P.depthCounter--;--P.localStack.length;return ha});P.depthCounter--;
--P.localStack.length;return Y}},castString:function(R){return e.toString(R)},aCheck:function(R,P){if(e.isFunctionParameter(R))throw Error(d.nodeErrorMessage({type:P},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return R===e.voidOperation?null:R},Dictionary:l,Feature:n,dictionary:function(R){for(var P={},Y=0;Y<R.length;Y+=2){if(e.isFunctionParameter(R[Y+1]))throw Error("Illegal Argument");if(!1===e.isString(R[Y]))throw Error("Illegal Argument");P[R[Y].toString()]=R[Y+1]===e.voidOperation?null:R[Y+1]}R=new l(P);
R.immutable=!1;return R},strCheck:function(R){if(!1===e.isString(R))throw Error("Illegal Argument");return R},unary:function(R,P){if(e.isBoolean(R)){if("!"===P)return!R;if("-"===P)return-1*e.toNumber(R);if("+"===P)return 1*e.toNumber(R);if("~"===P)return~e.toNumber(R);throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:P,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===P)return-1*e.toNumber(R);if("+"===P)return 1*e.toNumber(R);if("~"===P)return~e.toNumber(R);
throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:P,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(R){if(!1===e.isBoolean(R))throw Error(d.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return R},logical:function(R,P,Y){if(e.isBoolean(R)&&e.isBoolean(P))switch(Y){case "||":return R||P;case "\x26\x26":return R&&P}throw Error(d.nodeErrorMessage({type:"LogicalExpression",operator:null,
left:null,right:null},"RUNTIME","ONLYORORAND"));},binary:function(R,P,Y){switch(Y){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return e.binaryOperator(e.toNumber(R),e.toNumber(P),Y);case "\x3d\x3d":return e.equalityTest(R,P);case "\x3d":return e.equalityTest(R,P);case "!\x3d":return!e.equalityTest(R,P);case "\x3c":return e.greaterThanLessThan(R,P,Y);case "\x3e":return e.greaterThanLessThan(R,P,Y);case "\x3c\x3d":return e.greaterThanLessThan(R,P,Y);case "\x3e\x3d":return e.greaterThanLessThan(R,
P,Y);case "+":return e.isString(R)||e.isString(P)?e.toString(R)+e.toString(P):e.toNumber(R)+e.toNumber(P);case "-":return e.toNumber(R)-e.toNumber(P);case "*":return e.toNumber(R)*e.toNumber(P);case "/":return e.toNumber(R)/e.toNumber(P);case "%":return e.toNumber(R)%e.toNumber(P);default:throw Error(d.nodeErrorMessage({type:"BinaryExpression",operator:Y,left:R,right:P},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign:function(R,P,Y){switch(P){case "\x3d":return R===e.voidOperation?null:R;case "/\x3d":return e.toNumber(Y)/
e.toNumber(R);case "*\x3d":return e.toNumber(Y)*e.toNumber(R);case "-\x3d":return e.toNumber(Y)-e.toNumber(R);case "+\x3d":return e.isString(Y)||e.isString(R)?e.toString(Y)+e.toString(R):e.toNumber(Y)+e.toNumber(R);case "%\x3d":return e.toNumber(Y)%e.toNumber(R);default:throw Error(d.nodeErrorMessage({type:"AssignmentExpression",operator:P,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update:function(R,P,Y,ha){var ta=e.toNumber(R[P]);R[P]="++"===Y?ta+1:ta-1;return!1===ha?ta:"++"===
Y?ta+1:ta-1},graphicToFeature:function(R,P){return null===R?null:n.createFromGraphicLikeObject(R.geometry,R.attributes,P)},memberupdate:function(R,P,Y,ha){if(e.isArray(R))if(e.isNumber(P)){0>P&&(P=R.length+P);if(0>P||P>=R.length)throw Error("Assignment outside of array bounds");var ta=e.toNumber(R[P]);R[P]="++"===Y?ta+1:ta-1}else throw Error("Invalid Parameter");else if(R instanceof l){if(!1===e.isString(P))throw Error("Dictionary accessor must be a string");if(!0===R.hasField(P))ta=e.toNumber(R.field(P)),
R.setField(P,"++"===Y?ta+1:ta-1);else throw Error("Invalid Parameter");}else if(R instanceof n){if(!1===e.isString(P))throw Error("Feature accessor must be a string");if(!0===R.hasField(P))ta=e.toNumber(R.field(P)),R.setField(P,"++"===Y?ta+1:ta-1);else throw Error("Invalid Parameter");}else{if(e.isImmutableArray(R))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===ha?ta:"++"===Y?ta+1:ta-1},assignmember:function(R,P,Y,ha){if(e.isArray(R))if(e.isNumber(P)){0>P&&(P=R.length+
P);if(0>P||P>R.length)throw Error("Assignment outside of array bounds");if(P===R.length&&"\x3d"!==Y)throw Error("Invalid Parameter");R[P]=this.assign(ha,Y,R[P])}else throw Error("Invalid Parameter");else if(R instanceof l){if(!1===e.isString(P))throw Error("Dictionary accessor must be a string");if(!0===R.hasField(P))R.setField(P,this.assign(ha,Y,R.field(P)));else{if("\x3d"!==Y)throw Error("Invalid Parameter");R.setField(P,this.assign(ha,Y,null))}}else if(R instanceof n){if(!1===e.isString(P))throw Error("Feature accessor must be a string");
if(!0===R.hasField(P))R.setField(P,this.assign(ha,Y,R.field(P)));else{if("\x3d"!==Y)throw Error("Invalid Parameter");R.setField(P,this.assign(ha,Y,null))}}else{if(e.isImmutableArray(R))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member:function(R,P){if(null===R)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(R instanceof l||R instanceof n){if(e.isString(P))return R.field(P);throw Error(d.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(R instanceof z){if(e.isString(P))return la(R,P,"MemberExpression");throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isArray(R)){if(e.isNumber(P)&&isFinite(P)&&Math.floor(P)===P){0>P&&(P=R.length+P);if(P>=R.length||0>P)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return R[P]}throw Error(d.nodeErrorMessage({type:"MemberExpression",
object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isString(R)){if(e.isNumber(P)&&isFinite(P)&&Math.floor(P)===P){0>P&&(P=R.length+P);if(P>=R.length||0>P)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return R[P]}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(e.isImmutableArray(R)&&e.isNumber(P)&&isFinite(P)&&Math.floor(P)===
P){0>P&&(P=R.length()+P);if(P>=R.length()||0>P)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return R.get(P)}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc:function(R,P,Y){return R instanceof e.NativeFunction?R.fn(Y,P):R instanceof e.SizzleFunction?R.fn.apply(this,P):R.apply(this,P)}};w.compileScript=function(R,P,Y){void 0===P&&(P=null);
void 0===Y&&(Y=!1);null===P&&(P={vars:{},customfunctions:{}});P={isAsync:Y,globalScope:F(P.vars,Y?T:ra,P.customfunctions),localScope:null,mangleMap:{},console:aa,lrucache:P.lrucache,interceptor:P.interceptor,services:P.services,symbols:{symbolCounter:0}};R=K(P,R.body[0].body);""===R&&(R="lc.voidOperation; ");P={lc:e,lang:Aa,mangles:P.mangleMap,postProcess:function(ha){ha instanceof e.ReturnResult&&(ha=ha.value);ha instanceof e.ImplicitResult&&(ha=ha.value);ha===e.voidOperation&&(ha=null);if(ha===
e.breakResult)throw Error("Cannot return BREAK");if(ha===e.continueResult)throw Error("Cannot return CONTINUE");if(e.isFunctionParameter(ha))throw Error("Cannot return FUNCTION");return ha},prepare:function(ha,ta){var Da=ha.spatialReference;if(null===Da||void 0===Da)Da=new E({wkid:102100});var Ga=ha.vars,Ma=ha.customfunctions,Ia=ta?new ma:new ba;Ga||(Ga={});Ma||(Ma={});var Fa=new l({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Fa.immutable=!1;Ia._SymbolsMap=
{textformatting:1,infinity:1,pi:1};Ia.textformatting=Fa;Ia.infinity=Number.POSITIVE_INFINITY;Ia.pi=Math.PI;for(var La in Ma)Ia[La]=Ma[La],Ia._SymbolsMap[La]=1;for(La in Ga)Ia._SymbolsMap[La]=1,Ia[La]=Ga[La]&&"esri.Graphic"===Ga[La].declaredClass?n.createFromGraphic(Ga[La]):Ga[La];return{localStack:[],isAsync:ta,mangleMap:this.mangles,spatialReference:Da,globalScope:Ia,abortSignal:void 0===ha.abortSignal||null===ha.abortSignal?{aborted:!1}:ha.abortSignal,localScope:null,services:ha.services,console:ha.console?
ha.console:aa,lrucache:ha.lrucache,interceptor:ha.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",Y?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+R+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":
"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+R+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(P)};w.enableAsyncSupport=function(){return y.create(function(R,P){D(["./functions/geomasync"],function(Y){Q([Y],"async");R(!0)},function(Y){P(Y)})})}})},"esri/arcade/ArcadePortal":function(){var D=this&&this.__extends||
function(){var w=function(a,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h])};return w(a,t)};return function(a,t){function l(){this.constructor=a}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w(a,t);a.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}();define(["require","exports",
"./Dictionary"],function(w,a,t){return function(l){function n(h){var g=l.call(this)||this;g.immutable=!1;g.setField("url",h);g.immutable=!0;return g}D(n,l);return n}(t)})},"esri/arcade/Attachment":function(){var D=this&&this.__extends||function(){var w=function(a,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h])};return w(a,t)};return function(a,t){function l(){this.constructor=
a}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w(a,t);a.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}();define(["require","exports","./Dictionary"],function(w,a,t){return function(l){function n(h,g,e,d,b,c){var f=l.call(this)||this;f.attachmentUrl=b;f.immutable=!1;f.setField("id",h);f.setField("name",g);f.setField("contenttype",e);f.setField("size",d);f.setField("exifinfo",c);f.immutable=!0;return f}
D(n,l);return n}(t)})},"esri/arcade/Feature":function(){var D=this&&this.__assign||function(){D=Object.assign||function(w){for(var a,t=1,l=arguments.length;t<l;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(w[n]=a[n])}return w};return D.apply(this,arguments)};define("require exports ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/jsonUtils ./featureset/support/shared".split(" "),function(w,a,t,l,n,h,g,e,d){return function(){function b(){this.declaredClass=
"esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._adapter=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}b.createFromGraphic=function(c){var f=new b;f._geometry=c.geometry?c.geometry:null;f.attributes=void 0===c.attributes?{}:null===c.attributes?{}:c.attributes;c._sourceLayer?(f._layer=c._sourceLayer,f._datesfixed=!1):c._layer?(f._layer=c._layer,f._datesfixed=!1):c.layer&&"fields"in c.layer?(f._layer=c.layer,f._datesfixed=!1):c.sourceLayer&&"fields"in
c.sourceLayer&&(f._layer=c.sourceLayer,f._datesfixed=!1);return f};b.createFromArcadeFeature=function(c){var f=new b;f._datesfixed=c._datesfixed;f.attributes=c.attributes;f._geometry=c._geometry;c._layer&&(f._layer=c._layer);return f};b.createFromArcadeDictionary=function(c){var f=new b;f.attributes=c.field("attributes");null!==f.attributes?f.attributes instanceof t?(f.attributes=f.attributes.attributes,null===f.attributes&&(f.attributes={})):f.attributes={}:f.attributes={};f._geometry=c.field("geometry");
null!==f._geometry&&(f._geometry instanceof t?f._geometry=b.parseGeometryFromDictionary(f._geometry):f._geometry instanceof h||(f._geometry=null));return f};b.createFromGraphicLikeObject=function(c,f,m){void 0===m&&(m=null);var r=new b;null===f&&(f={});r.attributes=f;r._geometry=c?c:null;r._layer=m;r._layer&&(r._datesfixed=!1);r._adapter=null;return r};b.prototype.repurposeFromGraphicLikeObject=function(c,f,m){void 0===m&&(m=null);null===f&&(f={});this.attributes=f;this._geometry=c?c:null;this._datesfixed=
(this._layer=m)?!1:!0};b.prototype.castToText=function(){if(this._adapter)return this._adapter.castToText();var c="";!1===this._datesfixed&&this._fixDates();for(var f in this.attributes){""!==c&&(c+=",");var m=this.attributes[f];null==m?c+=JSON.stringify(f)+":null":n.isBoolean(m)||n.isNumber(m)||n.isString(m)?c+=JSON.stringify(f)+":"+JSON.stringify(m):m instanceof h?c+=JSON.stringify(f)+":"+n.toStringExplicit(m):m instanceof l?c+=JSON.stringify(f)+":"+n.toStringExplicit(m):m instanceof Array?c+=JSON.stringify(f)+
":"+n.toStringExplicit(m):m instanceof Date?c+=JSON.stringify(f)+":"+JSON.stringify(m):null!==m&&"object"===typeof m&&void 0!==m.castToText&&(c+=JSON.stringify(f)+":"+m.castToText())}return'{"geometry":'+(null===this.geometry()?"null":n.toStringExplicit(this.geometry()))+',"attributes":{'+c+"}}"};b.prototype._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{for(var c=[],f=0;f<this._layer.fields.length;f++){var m=this._layer.fields[f];
"date"!==m.type&&"esriFieldTypeDate"!==m.type||c.push(m.name)}this._datefields=c;0<c.length&&this._fixDateFields(c)}this._datesfixed=!0};b.prototype._fixDateFields=function(c){this.attributes=D({},this.attributes);for(var f=0;f<c.length;f++){var m=this.attributes[c[f]];if(null!==m)if(void 0===m)for(var r in this.attributes){if(r.toLowerCase()===c[f].toLowerCase()){m=this.attributes[r];null===m||m instanceof Date||(this.attributes[r]=new Date(m));break}}else m instanceof Date||(this.attributes[c[f]]=
new Date(m))}};b.prototype.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry)return this._geometry;this._geometry instanceof h||(this._geometry=e.fromJson(this._geometry));return this._geometry};b.prototype.field=function(c){if(this._adapter)return this._adapter.field(c);!1===this._datesfixed&&this._fixDates();var f=this.attributes[c];if(void 0!==f)return f;f=c.toLowerCase();for(var m in this.attributes)if(m.toLowerCase()===f)return this.attributes[m];if(this._hasFieldDefinition(f))return null;
throw Error("Field not Found : "+c);};b.prototype._hasFieldDefinition=function(c){if(null===this._layer)return!1;for(var f=0;f<this._layer.fields.length;f++)if(this._layer.fields[f].name.toLowerCase()===c)return!0;return!1};b.prototype._field=function(c){var f;if(this._adapter)return null!==(f=this._adapter.field(c))&&void 0!==f?f:null;!1===this._datesfixed&&this._fixDates();f=c.toLowerCase();c=this.attributes[c];if(void 0!==c)return c;for(var m in this.attributes)if(m.toLowerCase()===f)return this.attributes[m];
return null};b.prototype.setField=function(c,f){if(this.immutable)throw Error("Feature is Immutable");if(!1===n.isSimpleType(f))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(c,f);else{var m=c.toLowerCase();if(void 0===this.attributes[c])for(var r in this.attributes)if(r.toLowerCase()===m){this.attributes[r]=f;return}this.attributes[c]=f}};b.prototype.hasField=function(c){if(this._adapter)return this._adapter.hasField(c);var f=c.toLowerCase();if(void 0!==
this.attributes[c])return!0;for(var m in this.attributes)if(m.toLowerCase()===f)return!0;return this._hasFieldDefinition(f)?!0:!1};b.prototype.keys=function(){if(this._adapter)return this._adapter.keys();var c=[],f={},m;for(m in this.attributes)c.push(m),f[m.toLowerCase()]=1;if(null!==this._layer)for(m=0;m<this._layer.fields.length;m++){var r=this._layer.fields[m];1!==f[r.name.toLowerCase()]&&c.push(r.name)}return c=c.sort()};b.parseGeometryFromDictionary=function(c){c=b.convertDictionaryToJson(c,
!0);void 0!==c.hasm&&(c.hasM=c.hasm,delete c.hasm);void 0!==c.hasz&&(c.hasZ=c.hasz,delete c.hasz);void 0!==c.spatialreference&&(c.spatialReference=c.spatialreference,delete c.spatialreference);void 0!==c.rings&&(c.rings=this.fixPathArrays(c.rings,!0===c.hasZ,!0===c.hasZ));void 0!==c.paths&&(c.paths=this.fixPathArrays(c.paths,!0===c.hasZ,!0===c.hasM));void 0!==c.points&&(c.points=this.fixPointArrays(c.points,!0===c.hasZ,!0===c.hasM));return e.fromJson(c)};b.fixPathArrays=function(c,f,m){var r=[];if(c instanceof
Array)for(var p=0;p<c.length;p++)r.push(this.fixPointArrays(c[p],f,m));else if(c instanceof l)for(p=0;p<c.length();p++)r.push(this.fixPointArrays(c.get(p),f,m));return r};b.fixPointArrays=function(c,f,m){var r=[];if(c instanceof Array)for(var p=0;p<c.length;p++){var u=c[p];u instanceof g?f&&m?r.push([u.x,u.y,u.z,u.m]):f?r.push([u.x,u.y,u.z]):m?r.push([u.x,u.y,u.m]):r.push([u.x,u.y]):u instanceof l?r.push(u.toArray()):r.push(u)}else if(c instanceof l)for(p=0;p<c.length();p++)u=c.get(p),u instanceof
g?f&&m?r.push([u.x,u.y,u.z,u.m]):f?r.push([u.x,u.y,u.z]):m?r.push([u.x,u.y,u.m]):r.push([u.x,u.y]):u instanceof l?r.push(u.toArray()):r.push(u);return r};b.convertDictionaryToJson=function(c,f){void 0===f&&(f=!1);var m={},r;for(r in c.attributes){var p=c.attributes[r];p instanceof t&&(p=b.convertDictionaryToJson(p));f?m[r.toLowerCase()]=p:m[r]=p}return m};b.parseAttributesFromDictionary=function(c){var f={},m;for(m in c.attributes){var r=c.attributes[m];if(n.isSimpleType(r))f[m]=r;else throw Error("Illegal Argument");
}return f};b.fromJson=function(c){var f=null;null!==c.geometry&&void 0!==c.geometry&&(f=e.fromJson(c.geometry));var m={};if(null!==c.attributes&&void 0!==c.attributes)for(var r in c.attributes){var p=c.attributes[r];if(null===p)m[r]=p;else if(n.isString(p)||n.isNumber(p)||n.isBoolean(p)||n.isDate(p))m[r]=p;else throw Error("Illegal Argument");}return b.createFromGraphicLikeObject(f,m,null)};b.prototype.fullDomain=function(c,f){return null!==this._layer&&this._layer.fields?n.getDomain(c,this._layer,
this,f):null};b.prototype.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(function(c){return{name:c.name,code:c.id}}):[]}:null:null};b.prototype.domainValueLookup=function(c,f,m){if(null===this._layer||!this._layer.fields)return null;m=n.getDomain(c,this._layer,this,m);if(void 0===f)try{f=this.field(c)}catch(r){return null}return n.getDomainValue(m,f)};b.prototype.gdbVersion=
function(){if(null===this._layer)return"";var c=this._layer.gdbVersion;return void 0===c?"":""===c&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":c};b.prototype.domainCodeLookup=function(c,f,m){if(null===this._layer||!this._layer.fields)return null;if(void 0===f){try{f=this.field(c)}catch(r){return null}return f}c=n.getDomain(c,this._layer,this,m);return n.getDomainCode(c,f)};b.prototype.schema=function(){if(null===this._layer||!this._layer.fields)return null;for(var c=
[],f=0,m=this._layer.fields;f<m.length;f++)c.push(d.esriFieldToJson(m[f]));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===d.layerGeometryEsriRestConstants[this._layer.geometryType]?"":d.layerGeometryEsriRestConstants[this._layer.geometryType],fields:c}};return b}()})},"esri/arcade/featureset/support/shared":function(){var D=this&&this.__assign||function(){D=Object.assign||function(w){for(var a,t=1,l=arguments.length;t<l;t++){a=arguments[t];
for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(w[n]=a[n])}return w};return D.apply(this,arguments)};define(["require","exports","../../polyfill/promiseUtils","../../../geometry/Extent","../../../layers/Field"],function(w,a,t,l,n){function h(e){var d=null;e.domain&&(d="range"===e.domain.type?{type:"range",range:[e.domain.minValue,e.domain.maxValue]}:{type:"codedValue",codedValues:e.domain.toJson().codedValues});return D(D({name:e.name,type:e.type,alias:e.alias},void 0!==e.length?{length:e.length}:
{}),{editable:!0===e.editable,nullable:!0===e.nullable,domain:d})}function g(e){return e instanceof Date}Object.defineProperty(a,"__esModule",{value:!0});a.stableStringify=a.extractServiceUrl=a.reduceArrayWithPromises=a.toEsriGeometryType=a.layerFieldEsriConstants=a.layerGeometryEsriRestConstants=a.layerGeometryEsriConstants=a.callback=a.errback=a.defaultMaxRecords=a.sameGeomType=a.convertLinearUnitsToCode=a.shapeExtent=a.convertSquareUnitsToCode=a.cloneAttributes=a.equalityTest=a.isDate=a.isArray=
a.isNumber=a.isBoolean=a.isString=a.IdState=a.esriFieldToJson=a.cloneField=a.FeatureServiceDatabaseType=void 0;(function(e){e[e.Standardised=0]="Standardised";e[e.StandardisedNoInterval=1]="StandardisedNoInterval";e[e.SqlServer=2]="SqlServer";e[e.Oracle=3]="Oracle";e[e.Postgres=4]="Postgres";e[e.PGDB=5]="PGDB";e[e.FILEGDB=6]="FILEGDB";e[e.NotEvaluated=7]="NotEvaluated"})(a.FeatureServiceDatabaseType||(a.FeatureServiceDatabaseType={}));a.cloneField=function(e){return new n(h(e))};a.esriFieldToJson=
h;(function(e){e[e.InFeatureSet=0]="InFeatureSet";e[e.NotInFeatureSet=1]="NotInFeatureSet";e[e.Unknown=2]="Unknown"})(a.IdState||(a.IdState={}));a.isString=function(e){return"string"===typeof e||e instanceof String};a.isBoolean=function(e){return"boolean"===typeof e};a.isNumber=function(e){return"number"===typeof e};a.isArray=function(e){return e instanceof Array};a.isDate=g;a.equalityTest=function(e,d){return e===d?!0:g(e)&&g(d)?e.getTime()===d.getTime():!1};a.cloneAttributes=function(e){var d={},
b;for(b in e)d[b]=e[b];return d};a.convertSquareUnitsToCode=function(e){if(void 0===e)return null;if("number"===typeof e)return e;switch(e.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};a.shapeExtent=function(e){if(null===e)return null;switch(e.type){case "polygon":case "multipoint":case "polyline":return e.getExtent();case "point":return new l({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,
spatialReference:e.spatialReference});case "extent":return e}return null};a.convertLinearUnitsToCode=function(e){if(void 0===e)return null;if("number"===typeof e||"number"===typeof e)return e;switch(e.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};a.sameGeomType=function(e,d){return e===d||"point"===e&&"esriGeometryPoint"===d||"polyline"===e&&"esriGeometryPolyline"===d||"polygon"===e&&
"esriGeometryPolygon"===d||"extent"===e&&"esriGeometryEnvelope"===d||"multipoint"===e&&"esriGeometryMultipoint"===d||"point"===d&&"esriGeometryPoint"===e||"polyline"===d&&"esriGeometryPolyline"===e||"polygon"===d&&"esriGeometryPolygon"===e||"extent"===d&&"esriGeometryEnvelope"===e||"multipoint"===d&&"esriGeometryMultipoint"===e?!0:!1};a.defaultMaxRecords=1E3;a.errback=function(e){return function(d){e.reject(d)}};a.callback=function(e,d){return function(){try{e.apply(null,arguments)}catch(b){d.reject(b)}}};
a.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};a.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",
esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};a.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",
blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",
esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};a.toEsriGeometryType=function(e){switch(e){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};a.reduceArrayWithPromises=function(e,d){return t.create(function(b,
c){var f=t.resolve(!0);e.reduce(function(m,r,p,u){return m.then(function(y){try{return d(y,r,p,u)}catch(x){return t.reject(x)}},function(y){return t.reject(y)})},f).then(b,c)})};a.extractServiceUrl=function(e){if(void 0===e)return"";e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");e=e.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return e=e.split("?")[0]};a.stableStringify=function(e,d){d||(d={});"function"===typeof d&&(d={cmp:d});var b="boolean"===typeof d.cycles?d.cycles:!1,c=d.cmp&&function(m){return function(r){return function(p,
u){return m({key:p,value:r[p]},{key:u,value:r[u]})}}}(d.cmp),f=[];return function p(r){r&&r.toJson&&"function"===typeof r.toJson&&(r=r.toJson());if(void 0!==r){if("number"===typeof r)return isFinite(r)?""+r:"null";if("object"!==typeof r)return JSON.stringify(r);var u;if(Array.isArray(r)){var y="[";for(u=0;u<r.length;u++)u&&(y+=","),y+=p(r[u])||"null";return y+"]"}if(null===r)return"null";if(-1!==f.indexOf(r)){if(b)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var x=f.push(r)-1,z=Object.keys(r).sort(c&&c(r));y="";for(u=0;u<z.length;u++){var q=z[u],k=p(r[q]);k&&(y&&(y+=","),y+=JSON.stringify(q)+":"+k)}f.splice(x,1);return"{"+y+"}"}}(e)}})},"esri/layers/Field":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./RangeDomain ./CodedValueDomain".split(" "),function(D,w,a,t,l,n,h){D=D(null,{declaredClass:"esri.layers.Field",constructor:function(g){if(g&&w.isObject(g)&&(this.name=g.name,this.type=g.type,this.alias=g.alias,this.length=
g.length,this.editable=g.editable,this.nullable=g.nullable,this.defaultValue=g.defaultValue,this.description=g.description?JSON.parse(g.description):null,this.isViewOverride=!!g.isViewOverride,(g=g.domain)&&w.isObject(g)))switch(g.type){case "range":this.domain=new n(g);break;case "codedValue":this.domain=new h(g)}},toJson:function(){return l.fixJson({name:this.name,type:this.type,alias:this.alias,length:this.length,editable:this.editable,nullable:this.nullable,defaultValue:this.defaultValue,description:this.description?
JSON.stringify(this.description):null,domain:this.domain?this.domain.toJson():null,isViewOverride:this.isViewOverride||void 0})},toJSON:function(){return this.toJson()}});a("extend-esri")&&w.setObject("layers.Field",D,t);return D})},"esri/layers/RangeDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Domain".split(" "),function(D,w,a,t,l,n){D=D([n],{declaredClass:"esri.layers.RangeDomain",constructor:function(h){h&&w.isObject(h)&&(this.minValue=h.range[0],this.maxValue=
h.range[1])},toJson:function(){var h=this.inherited(arguments);h.range=[this.minValue,this.maxValue];return l.fixJson(h)}});a("extend-esri")&&w.setObject("layers.RangeDomain",D,t);return D})},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(D,w,a,t,l){D=D(null,{declaredClass:"esri.layers.Domain",constructor:function(n){n&&w.isObject(n)&&(this.name=n.name,this.type=n.type)},toJson:function(){return l.fixJson({name:this.name,type:this.type})}});
a("extend-esri")&&w.setObject("layers.Domain",D,t);return D})},"esri/layers/CodedValueDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ./Domain".split(" "),function(D,w,a,t,l,n,h){D=D([h],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(g){g&&w.isObject(g)&&(this.codedValues=g.codedValues)},getName:function(g){var e;a.some(this.codedValues,function(d){d.code==g&&(e=d.name);return!!e});return e},toJson:function(){var g=this.inherited(arguments);
g.codedValues=w.clone(this.codedValues);return n.fixJson(g)}});t("extend-esri")&&w.setObject("layers.CodedValueDomain",D,l);return D})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(D,w){function a(q,k){return"0"!==q.min&&k.length<Number(q.min)||"*"!==q.max&&k.length>Number(q.max)?-2:1}function t(q,k,v){if(null!==v.localScope&&void 0!==v.localScope[q.toLowerCase()]){var B=v.localScope[q.toLowerCase()];if("FormulaFunction"===B.type||"any"===B.type)return void 0===B.signature&&
(B.signature={min:"0",max:"*"}),a(B.signature,k)}return void 0!==v.globalScope[q.toLowerCase()]&&(B=v.globalScope[q.toLowerCase()],"FormulaFunction"===B.type||"any"===B.type)?(void 0===B.signature&&(B.signature={min:"0",max:"*"}),a(B.signature,k)):-1}function l(q,k){if(q)for(var v=0;v<q.length;v++)n(q[v],k)}function n(q,k){if(q&&!1!==k(q))switch(q.type){case "ArrayExpression":l(q.elements,k);break;case "AssignmentExpression":case "BinaryExpression":n(q.left,k);n(q.right,k);break;case "BlockStatement":l(q.body,
k);break;case "CallExpression":n(q.callee,k);l(q.arguments,k);break;case "ExpressionStatement":n(q.expression,k);break;case "ForInStatement":n(q.left,k);n(q.right,k);n(q.body,k);break;case "ForStatement":n(q.init,k);n(q.test,k);n(q.update,k);n(q.body,k);break;case "FunctionDeclaration":n(q.id,k);l(q.params,k);n(q.body,k);break;case "IfStatement":n(q.test,k);n(q.consequent,k);n(q.alternate,k);break;case "LogicalExpression":n(q.left,k);n(q.right,k);break;case "MemberExpression":n(q.object,k);n(q.property,
k);break;case "ObjectExpression":l(q.properties,k);break;case "Program":l(q.body,k);break;case "Property":n(q.key,k);n(q.value,k);break;case "ReturnStatement":n(q.argument,k);break;case "UnaryExpression":n(q.argument,k);break;case "UpdateExpression":n(q.argument,k);break;case "VariableDeclaration":l(q.declarations,k);break;case "VariableDeclarator":n(q.id,k);n(q.init,k);break;case "TemplateLiteral":l(q.expressions,k),l(q.quasis,k)}}function h(q,k){void 0===k&&(k=!0);var v=f(q,"SYNTAX","UNREOGNISED");
try{switch(q.type){case "VariableDeclarator":return"Identifier"!==q.id.type?f(q,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==q.init?h(q.init,!1):"";case "VariableDeclaration":for(var B=0;B<q.declarations.length;B++)if(v=h(q.declarations[B],k),""!==v)return v;return"";case "ForInStatement":v=h(q.left,k);if(""!==v)break;if("VariableDeclaration"===q.left.type){if(1<q.left.declarations.length)return f(q,"SYNTAX","ONLY1VAR");if(null!==q.left.declarations[0].init)return f(q,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==
q.left.type)return f(q,"SYNTAX","LEFTNOTVAR");v=h(q.right,k);if(""!==v)break;v=h(q.body,k);if(""!==v)break;return"";case "ForStatement":if(null!==q.test&&(v=h(q.test,k),""!==v))break;if(null!==q.init&&(v=h(q.init,k),""!==v))break;if(null!==q.update&&(v=h(q.update,k),""!==v))break;if(null!==q.body&&(v=h(q.body,k),""!==v))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":v=h(q.test,k);if(""!==v)break;if(null!==q.consequent&&
(v=h(q.consequent,!1),""!==v))break;if(null!==q.alternate&&(v=h(q.alternate,!1),""!==v))break;return"";case "BlockStatement":var E=[];for(B=0;B<q.body.length;B++)"EmptyStatement"!==q.body[B].type&&E.push(q.body[B]);q.body=E;for(B=0;B<q.body.length;B++)if(v=h(q.body[B],k),""!==v)return v;return"";case "FunctionDeclaration":return!1===k?f(q,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==q.id.type?f(q,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):h(q.body,!1);case "ReturnStatement":return null!==q.argument?
h(q.argument,k):"";case "UpdateExpression":return"Identifier"!==q.argument.type&&"MemberExpression"!==q.argument.type?f(q,"SYNTAX","ASSIGNMENTTOVARSONLY"):h(q.argument,k);case "AssignmentExpression":if("Identifier"!==q.left.type&&"MemberExpression"!==q.left.type)return f(q,"SYNTAX","ASSIGNMENTTOVARSONLY");v=h(q.left,k);if(""!==v)break;switch(q.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return f(q,"SYNTAX","OPERATORNOTRECOGNISED")}return h(q.right,
!1);case "ExpressionStatement":return h(q.expression,!1);case "Identifier":v="";break;case "MemberExpression":v=h(q.object,k);if(""!==v)break;return!0===q.computed?h(q.property,k):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==q.callee.type)return f(q,"SYNTAX","ONLYNODESSUPPORTED");v="";for(B=0;B<q.arguments.length;B++)if(v=h(q.arguments[B],k),""!==v)return v;return"";case "UnaryExpression":v=h(q.argument,k);break;case "BinaryExpression":v=h(q.left,
k);if(""!==v)break;v=h(q.right,k);if(""!==v)break;switch(q.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:return f(q,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":v=h(q.left,k);if(""!==v)break;v=h(q.right);if(""!==v)break;switch(q.operator){case "\x26\x26":case "||":break;default:return f(q,
"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ArrayExpression":v="";for(B=0;B<q.elements.length&&(v=h(q.elements[B],k),""===v);B++);break;case "TemplateLiteral":v="";for(B=0;B<q.quasis.length;B++)if(v=h(q.quasis[B],k),""!==v)return v;for(B=0;B<q.expressions.length&&(v=h(q.expressions[B],k),""===v);B++);break;case "ObjectExpression":v="";for(B=0;B<q.properties.length;B++){v="";if(null!==q.properties[B].key&&("Literal"!==q.properties[B].key.type&&"Identifier"!==q.properties[B].key.type&&(v=f(q,"SYNTAX",
"OBJECTPROPERTYMUSTBESTRING")),"Literal"===q.properties[B].key.type)){E=q.properties[B].key;var N="value"in E?E.value:null;"string"===typeof N||N instanceof String||(v=f(q,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===v&&(v=h(q.properties[B],k));if(""!==v)break}break;case "Property":if("Literal"!==q.key.type&&"Identifier"!==q.key.type)return f(q,"SYNTAX","ONLYLITERAL");if("Identifier"!==q.key.type&&(v=h(q.key,k),""!==v))break;v=h(q.value,k)}return v}catch(G){throw G;}}function g(q,k){var v=f(q,"SYNTAX",
"UNREOGNISED"),B=null,E="";try{switch(q.type){case "VariableDeclarator":var N=null===q.init?"":g(q.init,k);if(""!==N)return N;"Identifier"===q.id.type&&(null===k.localScope?k.globalScope[q.id.name.toLowerCase()]={type:"any"}:k.localScope[q.id.name.toLowerCase()]={type:"any"});return"";case "FunctionDeclaration":B=d(q.id.name.toLowerCase(),q);E=b(q,k);if(""!==E)return E;if(null!==k.localScope)return f(q,"SYNTAX","GLOBALFUNCTIONSONLY");B.isnative=!1;k.globalScope[q.id.name.toLowerCase()]={type:"FormulaFunction",
signature:[B]};return"";case "VariableDeclaration":v="";for(var G=0;G<q.declarations.length&&(v=g(q.declarations[G],k),""===v);G++);break;case "IfStatement":v=g(q.test,k);if(""!==v)break;if("AssignmentExpression"===q.test.type||"UpdateExpression"===q.test.type)return f(q.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==q.consequent&&(v=g(q.consequent,k),""!==v))break;if(null!==q.alternate&&(v=g(q.alternate,k),""!==v))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(G=
0;G<q.body.length;G++)if(v=g(q.body[G],k),""!==v)return v;return"";case "ReturnStatement":return null!==q.argument?g(q.argument,k):"";case "ForInStatement":if("VariableDeclaration"===q.left.type){if(1<q.left.declarations.length)return f(q,"SYNTAX","ONLY1VAR");if(null!==q.left.declarations[0].init)return f(q,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==q.left.type)return f(q,"SYNTAX","LEFTNOTVAR");v=g(q.left,k);if(""!==v)break;v=g(q.right,k);if(""!==v)break;v=g(q.body,k);if(""!==v)break;return"";
case "ForStatement":if(null!==q.init&&(v=g(q.init,k),""!==v))break;if(null!==q.test&&(v=g(q.test,k),""!==v))break;if(null!==q.body&&(v=g(q.body,k),""!==v))break;if(null!==q.update&&(v=g(q.update,k),""!==v))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==q.argument.type&&"MemberExpression"!==q.argument.type)return f(q,"SYNTAX","ASSIGNMENTTOVARSONLY");var K=!1;if("MemberExpression"===q.argument.type)return g(q.argument,k);null!==
k.localScope&&void 0!==k.localScope[q.argument.name.toLowerCase()]&&(K=!0);void 0!==k.globalScope[q.argument.name.toLowerCase()]&&(K=!0);return!1===K?"Identifier "+q.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==q.left.type&&"MemberExpression"!==q.left.type)return f(q,"SYNTAX","ASSIGNMENTTOVARSONLY");var I=g(q.right,k);if(""!==I)return I;K=!1;if("MemberExpression"===q.left.type)return I=g(q.left,k),""!==I?I:"";null!==k.localScope&&void 0!==k.localScope[q.left.name.toLowerCase()]&&
(K=!0);void 0!==k.globalScope[q.left.name.toLowerCase()]&&(K=!0);return!1===K?"Identifier "+q.left.name+" has not been declared.":"";case "ExpressionStatement":return g(q.expression,k);case "Identifier":var O=q.name.toLowerCase();if(null!==k.localScope&&void 0!==k.localScope[O])return"";v=void 0!==k.globalScope[O]?"":f(q,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":v=g(q.object,k);if(""!==v)break;return!0===q.computed?g(q.property,k):"";case "Literal":return"";case "TemplateElement":return"";
case "CallExpression":if("Identifier"!==q.callee.type)return f(q,"SYNTAX","ONLYNODESSUPPORTED");v="";for(G=0;G<q.arguments.length;G++)if(v=g(q.arguments[G],k),""!==v)return v;var V=t(q.callee.name,q.arguments,k);-1===V&&(v=f(q,"SYNTAX","NOTFOUND"));-2===V&&(v=f(q,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":v=g(q.argument,k);break;case "BinaryExpression":v=g(q.left,k);if(""!==v)break;v=g(q.right,k);if(""!==v)break;return"";case "LogicalExpression":v=g(q.left,k);if(""!==v)break;if("AssignmentExpression"===
q.left.type||"UpdateExpression"===q.left.type)return f(q.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");v=g(q.right,k);if(""!==v)break;return"AssignmentExpression"===q.right.type||"UpdateExpression"===q.right.type?f(q.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ArrayExpression":v="";for(G=0;G<q.elements.length&&(v=g(q.elements[G],k),""===v);G++);break;case "TemplateLiteral":v="";for(G=0;G<q.quasis.length;G++)if(v=g(q.quasis[G],k),""!==v)return v;for(G=0;G<q.expressions.length&&
(v=g(q.expressions[G],k),""===v);G++);break;case "ObjectExpression":v="";for(G=0;G<q.properties.length;G++){v="";if(null!==q.properties[G].key&&("Literal"!==q.properties[G].key.type&&"Identifier"!==q.properties[G].key.type&&(v=f(q,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===q.properties[G].key.type)){var na=q.properties[G].key,ja="value"in na?na.value:null;"string"===typeof ja||ja instanceof String||(v=f(q,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===v&&(v=g(q.properties[G],k));if(""!==v)break}break;
case "Property":if("Literal"!==q.key.type&&"Identifier"!==q.key.type)return f(q,"SYNTAX","ONLYLITERAL");if("Identifier"!==q.key.type&&(v=g(q.key,k),""!==v))break;v=g(q.value,k)}return v}catch(la){throw la;}}function e(q,k){var v=!1,B=k.toLowerCase();n(q,function(E){if(v)return!1;"Identifier"===E.type&&E.name&&E.name.toLowerCase()===B&&(v=!0);return!0});return v}function d(q,k){var v=[];if(void 0!==k.params&&null!==k.params)for(var B=0;B<k.params.length;B++)v.push("any");return{name:q,return:"any",
params:v}}function b(q,k){k={globalScope:k.globalScope,localScope:{}};for(var v=0;v<q.params.length;v++)k.localScope[q.params[v].name.toLowerCase()]={type:"any"};return g(q.body,k)}function c(q,k,v,B){var E={};if(void 0===q||null===q)q={};if(void 0===v||null===v)v={};E.infinity={type:"any"};E.textformatting={type:"any"};E.pi={type:"any"};for(var N in k)"sync"===B&&void 0!==k[N].min?E[N]={type:"FormulaFunction",signature:{min:k[N].min,max:k[N].max}}:"sync"!==B&&void 0!==k[N].fmin&&(E[N]={type:"FormulaFunction",
signature:{min:k[N].fmin,max:k[N].fmax}});for(k=0;k<v.length;k++)N=v[k],E[N.name]={type:"FormulaFunction",signature:N};for(N in q)E[N]=q[N],E[N].type="any";return E}function f(q,k,v){var B="";switch(k){case "SYNTAX":B="Syntax Error: ";break;case "RUNTIME":B="Runtime Error: ";break;default:B="Syntax Error: "}try{switch(q.type){case "IfStatement":switch(v){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":B+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":B+=" Non Boolean used as Condition"}break;
case "UpdateExpression":case "AssignmentExpression":switch(v){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":B+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":B+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":B+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(v){case "GLOBALFUNCTIONSONLY":B+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":B+=" Function Definition must have an identifier"}break;
case "VariableDeclaration":B+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(v){case "FUNCTIONVARIABLEDECLARATOR":B+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":B+=" Variable Definition must have an identifier"}break;case "Identifier":B+=" Identifier Not Found. ";B+=q.name;break;case "ObjectExpression":switch(v){case "OBJECTPROPERTYMUSTBESTRING":B+=" Property name must be a string"}break;case "ForStatement":switch(v){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":B+=
" Non Boolean used as Condition"}break;case "ForInStatement":switch(v){case "ONLY1VAR":B+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":B+=" Can only declare value for use with IN";break;case "LEFTNOVAR":B+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":B+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":B+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(v){case "PROPERTYNOTFOUND":B+=
"Cannot find member property. ";B+=!1===q.computed?"Identifier"===q.property.type?q.property.name:"":"";break;case "OUTOFBOUNDS":B+="Out of Bounds. ";B+=!1===q.computed?"Identifier"===q.property.type?q.property.name:"":"";break;case "NOTFOUND":B+="Cannot call member method on null. ";B+=!1===q.computed?"Identifier"===q.property.type?q.property.name:"":"";break;case "INVALIDTYPE":B+="Cannot call member property on object of this type. ",B+=!1===q.computed?"Identifier"===q.property.type?q.property.name:
"":""}break;case "Property":switch(v){case "ONLYLITERAL":B+="Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(v){case "WRONGSIGNATURE":B+="Function signature does not match: ";B+="Identifier"===q.callee.type?q.callee.name:"";break;case "ONLYNODESUPPORTED":B+="Functions must be declared.";B+="Identifier"===q.callee.type?q.callee.name:"";break;case "NOTAFUNCTION":B+="Not a Function: ";B+="Identifier"===q.callee.type?q.callee.name:"";break;case "NOTFOUND":B+=
"Function Not Found: "+("Identifier"===q.callee.type?q.callee.name:"")}break;case "UnaryExpression":switch(v){case "NOTSUPPORTEDUNARYOPERATOR":B+="Operator "+q.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":B+="Unary operator "+q.operator+" cannot be used with this argument."}case "BinaryExpression":switch(v){case "OPERATORNOTRECOGNISED":B+="Binary Operator not recognised "+q.operator}break;case "LogicalExpression":switch(v){case "ONLYBOOLEAN":B+=
"Operator "+q.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":B+="Logical Expression "+q.operator+" being applied to parameters that are not boolean."}break;case "ArrayExpression":switch(v){case "FUNCTIONCONTEXTILLEGAL":B+=" Cannot Put Function inside Array."}break;default:B+="Expression contains unrecognised code structures."}}catch(E){throw E;}return B}function m(q,k,v){return{line:q.loc.start.line,character:q.loc.start.column,reason:f(q,k,v)}}function r(q,
k,v,B){k={globalScope:k.globalScope,localScope:{}};for(var E=0;E<q.params.length;E++)k.localScope[q.params[E].name.toLowerCase()]={type:"any"};p(q.body,k,v,B,!1)}function p(q,k,v,B,E){void 0===E&&(E=!0);if(null===q)throw Error("Unnexpexted Expression Syntax");var N=null;try{switch(q.type){case "VariableDeclarator":"Identifier"!==q.id.type?B.push(m(q,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(q.id.name.toLowerCase(),null===k.localScope?k.globalScope[q.id.name.toLowerCase()]={type:"any"}:k.localScope[q.id.name.toLowerCase()]=
{type:"any"});null!==q.init&&p(q.init,k,v,B,E);break;case "FunctionDeclaration":!1===E&&B.push(m(q,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==q.id.type&&B.push(m(q,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));N=d("",q);r(q,k,v,B);null!==k.localScope&&B.push(m(q,"SYNTAX","GLOBALFUNCTIONSONLY"));N.isnative=!1;"Identifier"===q.id.type&&(k.globalScope[q.id.name.toLowerCase()]={type:"FormulaFunction",signature:[N]});break;case "VariableDeclaration":for(var G=0;G<q.declarations.length;G++)p(q.declarations[G],
k,v,B,E);break;case "IfStatement":null!==q.test&&(p(q.test,k,v,B,E),"AssignmentExpression"!==q.test.type&&"UpdateExpression"!==q.test.type||B.push(m(q.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==q.consequent&&p(q.consequent,k,v,B,E);null!==q.alternate&&p(q.alternate,k,v,B,E);break;case "EmptyStatement":break;case "BlockStatement":if(null!==q.body)for(G=0;G<q.body.length;G++)p(q.body[G],k,v,B,E);break;case "ReturnStatement":null!==q.argument&&p(q.argument,k,v,B,E);break;case "ForInStatement":"VariableDeclaration"===
q.left.type?(1<q.left.declarations.length&&B.push(m(q,"SYNTAX","ONLY1VAR")),null!==q.left.declarations[0].init&&B.push(m(q,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==q.left.type&&B.push(m(q,"SYNTAX","LEFTNOTVAR"));p(q.left,k,v,B,E);p(q.right,k,v,B,E);p(q.body,k,v,B,E);break;case "ForStatement":null!==q.init&&p(q.init,k,v,B,E);null!==q.test&&p(q.test,k,v,B,E);null!==q.body&&p(q.body,k,v,B,E);null!==q.update&&p(q.update,k,v,B,E);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":if("Identifier"!==
q.argument.type&&"MemberExpression"!==q.argument.type)B.push(m(q,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===q.argument.type){var K=!1;!1===v&&(null!==k.localScope&&void 0!==k.localScope[q.argument.name.toLowerCase()]&&(K=!0),void 0!==k.globalScope[q.argument.name.toLowerCase()]&&(K=!0),!1===K&&B.push({line:null===q?0:q.loc.start.line,character:null===q?0:q.loc.start.column,reason:"Identifier "+q.argument.name+" has not been declared."}))}"MemberExpression"===q.argument.type&&p(q.argument,
k,v,B,E)}break;case "AssignmentExpression":"Identifier"!==q.left.type&&"MemberExpression"!==q.left.type&&B.push(m(q,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(q.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:B.push(m(q,"SYNTAX","OPERATORNOTRECOGNISED"))}p(q.right,k,v,B,E);K=!1;"Identifier"===q.left.type&&(null!==k.localScope&&void 0!==k.localScope[q.left.name.toLowerCase()]&&(K=!0),void 0!==k.globalScope[q.left.name.toLowerCase()]&&(K=!0),!1===v&&
!1===K&&B.push({line:null===q?0:q.loc.start.line,character:null===q?0:q.loc.start.column,reason:"Identifier "+q.left.name+" has not been declared."}));"MemberExpression"===q.left.type&&p(q.left,k,v,B,E);break;case "ExpressionStatement":p(q.expression,k,v,B,E);break;case "Identifier":var I=q.name.toLowerCase();if(null!==k.localScope&&void 0!==k.localScope[I]||void 0!==k.globalScope[I])break;!1===v&&B.push(m(q,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":p(q.object,k,v,B,E);!0===q.computed&&
p(q.property,k,v,B,E);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==q.callee.type&&B.push(m(q,"SYNTAX","ONLYNODESSUPPORTED"));for(G=0;G<q.arguments.length;G++)p(q.arguments[G],k,v,B,E);if("Identifier"===q.callee.type){var O=t(q.callee.name,q.arguments,k);!1===v&&-1===O&&B.push(m(q,"SYNTAX","NOTFOUND"));-2===O&&B.push(m(q,"SYNTAX","WRONGSIGNATURE"))}break;case "UnaryExpression":p(q.argument,k,v,B,E);break;case "BinaryExpression":p(q.left,k,v,B,E);p(q.right,
k,v,B,E);switch(q.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:B.push(m(q,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(q.operator){case "\x26\x26":case "||":break;default:B.push(m(q,"SYNTAX","OPERATORNOTRECOGNISED"))}p(q.left,k,v,B,E);"AssignmentExpression"!==q.left.type&&"UpdateExpression"!==
q.left.type||B.push(m(q,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));p(q.right,k,v,B,E);"AssignmentExpression"!==q.right.type&&"UpdateExpression"!==q.right.type||B.push(m(q,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ArrayExpression":for(G=0;G<q.elements.length;G++)p(q.elements[G],k,v,B,E);break;case "TemplateLiteral":for(G=0;G<q.quasis.length;G++)p(q.quasis[G],k,v,B,E);for(G=0;G<q.expressions.length;G++)p(q.expressions[G],k,v,B,E);break;case "ObjectExpression":for(G=0;G<q.properties.length;G++)p(q.properties[G],
k,v,B,E);break;case "Property":"Literal"!==q.key.type&&"Identifier"!==q.key.type&&B.push(m(q,"SYNTAX","ONLYLITERAL"));"Literal"===q.key.type&&p(q.key,k,v,B,E);p(q.value,k,v,B,E);break;default:B.push(m(q,"SYNTAX","UNRECOGNISED"))}}catch(V){B.push({line:null===q?0:q.loc.start.line,character:null===q?0:q.loc.start.column,reason:"Unnexpected Syntax"})}}function u(q){var k=[];n(q,function(v){"CallExpression"===v.type&&"Identifier"===v.callee.type&&k.push(v.callee.name.toLowerCase());return!0});return k}
Object.defineProperty(w,"__esModule",{value:!0});w.scriptUsesFeatureSet=w.findScriptDependencies=w.findFunctionCalls=w.checkScript=w.extractAllIssues=w.extractAllIssuesInFunction=w.makeError=w.nodeErrorMessage=w.validateLanguage=w.validateScript=w.constructGlobalScope=w.validateFunction=w.extractFunctionDeclaration=w.findExpectedFieldLiterals=w.findFieldLiterals=w.referencesFunction=w.referencesMember=w.testValidityOfExpression=w.validateLanguageNode=w.walk=w.findFunction=w.checkFunctionSignature=
w.addFunctionDeclaration=w.functionDecls=void 0;w.functionDecls={concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},
includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",
max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",
max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},
min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},
typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",
max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},
isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(var y in w.functionDecls)w.functionDecls[y].fmin=w.functionDecls[y].min,w.functionDecls[y].fmax=w.functionDecls[y].max;var x="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),
z="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");w.addFunctionDeclaration=function(q,k){var v=w.functionDecls[q.name.toLowerCase()];void 0===v?"sync"===k?w.functionDecls[q.name.toLowerCase()]={min:q.min,max:q.max}:w.functionDecls[q.name.toLowerCase()]=
{fmin:q.min,fmax:q.max}:"sync"===k?(v.min=q.min,v.max=q.max):(v.fmin=q.min,v.fmax=q.max)};w.checkFunctionSignature=a;w.findFunction=t;w.walk=n;w.validateLanguageNode=h;w.testValidityOfExpression=g;w.referencesMember=e;w.referencesFunction=function(q,k){var v=!1,B=k.toLowerCase();n(q,function(E){return v?!1:"CallExpression"===E.type&&"Identifier"===E.callee.type&&E.callee.name&&E.callee.name.toLowerCase()===B?(v=!0,!1):!0});return v};w.findFieldLiterals=function(q){var k=[];n(q,function(v){if("MemberExpression"!==
v.type||"Identifier"!==v.object.type)return!0;!1===v.computed&&v.object&&v.object.name&&v.property&&"Identifier"===v.property.type&&v.property.name?k.push(v.object.name.toLowerCase()+"."+v.property.name.toLowerCase()):v.object&&v.object.name&&v.property&&"Literal"===v.property.type&&"string"===typeof v.property.value&&k.push(v.object.name.toLowerCase()+"."+v.property.value.toString().toLowerCase());return!1});return k};w.findExpectedFieldLiterals=function(q){var k=[];n(q,function(v){if("CallExpression"===
v.type&&"Identifier"===v.callee.type&&"expects"===v.callee.name.toLowerCase()){for(var B="",E=0;E<(v.arguments||[]).length;E++)if(0===E)"Identifier"===v.arguments[E].type&&(B=v.arguments[E].name.toLowerCase());else{var N;if(N=B&&"Literal"===v.arguments[E].type)N=v.arguments[E].value,N="string"===typeof N||N instanceof String;N&&k.push(B+"."+v.arguments[E].value.toLowerCase())}return!1}if("MemberExpression"!==v.type||"Identifier"!==v.object.type)return!0;!1===v.computed&&v.object&&v.object.name&&v.property&&
"Identifier"===v.property.type&&v.property.name?k.push(v.object.name.toLowerCase()+"."+v.property.name.toLowerCase()):v.object&&v.object.name&&v.property&&"Literal"===v.property.type&&"string"===typeof v.property.value&&k.push(v.object.name.toLowerCase()+"."+v.property.value.toString().toLowerCase());return!1});return k};w.extractFunctionDeclaration=d;w.validateFunction=b;w.constructGlobalScope=c;w.validateScript=function(q,k,v,B){void 0===v&&(v="async");void 0===B&&(B=w.functionDecls);k={globalScope:c(k.vars,
B,k.customFunctions,v),localScope:null};return g(q.body[0].body,k)};w.validateLanguage=function(q){return"BlockStatement"!==q.body[0].body.type?"Invalid formula content.":h(q.body[0].body)};w.nodeErrorMessage=f;w.makeError=m;w.extractAllIssuesInFunction=r;w.extractAllIssues=p;w.checkScript=function(q,k,v,B,E){void 0===B&&(B="async");void 0===E&&(E=w.functionDecls);var N=[];if("BlockStatement"!==q.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===k||void 0===k)k={vars:{},
customFunctions:[]};k={globalScope:c(k.vars,E,k.customFunctions,B),localScope:null};try{p(q.body[0].body,k,v,N)}catch(G){}return N};w.findFunctionCalls=u;w.findScriptDependencies=function(q,k){void 0===k&&(k=[]);var v=null;if(void 0===q.usesFeatureSet){null===v&&(v=u(q));q.usesFeatureSet=!1;for(var B=0;B<v.length;B++)-1<x.indexOf(v[B])&&(q.usesFeatureSet=!0,q.isAsync=!0);if(!1===q.usesFeatureSet&&k&&0<k.length)for(B=0;B<k.length;B++)if(e(q,k[B])){q.usesFeatureSet=!0;q.isAsync=!0;break}}if(void 0===
q.usesGeometry)for(q.usesGeometry=!1,null===v&&(v=u(q)),B=0;B<v.length;B++)-1<z.indexOf(v[B])&&(q.usesGeometry=!0)};w.scriptUsesFeatureSet=function(q){q=u(q);for(var k=0;k<q.length;k++)if(-1<x.indexOf(q[k]))return!0;return!1}})},"esri/arcade/functions/array":function(){define(["require","exports","../languageUtils"],function(D,w,a){Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;w.registerFunctions=function(t,l){t.array=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,
1,2);g=a.toNumber(d[0]);if(isNaN(g)||!1===a.isInteger(g))throw Error("Invalid Parameter");d=a.defaultUndefined(d[1],null);g=Array(g);g.fill(d);return g})};t.front=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,1,1);if(a.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(0)}if(a.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][0]}throw Error("Invalid Parameter");})};t.back=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,
1,1);if(a.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(d[0].length()-1)}if(a.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][d[0].length-1]}throw Error("Invalid Parameter");})};t.push=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,1,2);if(a.isArray(d[0]))return d[0][d[0].length]=d[1],d[0].length;throw Error("Invalid Parameter");})};t.pop=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,1,1);if(a.isArray(d[0])){if(0>=
d[0].length)throw Error("Array is empty");g=d[0][d[0].length-1];--d[0].length;return g}throw Error("Invalid Parameter");})};t.erase=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,2,2);if(a.isArray(d[0])){g=a.toNumber(d[1]);if(isNaN(g)||!1===a.isInteger(g))throw Error("Invalid Parameter");d=d[0];if(0>=d.length)throw Error("Array is empty");0>g&&(g=d.length+g);if(0>g)throw Error("Element not found");if(g>=d.length)throw Error("Index is greater than array");d.splice(g,1);return a.voidOperation}throw Error("Invalid Parameter");
})};t.insert=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,3,3);if(a.isArray(d[0])){g=a.toNumber(d[1]);if(isNaN(g)||!1===a.isInteger(g))throw Error("Invalid Parameter");e=d[2];d=d[0];if(g>d.length)throw Error("Index is greater than array");if(0>g&&g<-1*d.length)throw Error("Index is greater than array");if(g===d.length)return d[g]=e,a.voidOperation;d.splice(g,0,e);return a.voidOperation}throw Error("Invalid Parameter");})};t.resize=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,2,
3);if(a.isArray(d[0])){e=a.toNumber(d[1]);if(isNaN(e)||!1===a.isInteger(e))throw Error("Invalid Parameter");if(0>e)throw Error("Size cannot be negative");g=a.defaultUndefined(d[2],null);d=d[0];if(d.length>=e)return d.length=e,a.voidOperation;var b=d.length;d.length=e;for(e=b;e<d.length;e++)d[e]=g;return a.voidOperation}throw Error("Invalid Parameter");})};t.includes=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,2,2);if(a.isArray(d[0])){var b=d[1];g=d[0];return-1<g.findIndex(function(f){return a.equalityTest(f,
b)})?!0:!1}if(a.isImmutableArray(d[0])){var c=d[1];g=d[0].toArray();return-1<g.findIndex(function(f){return a.equalityTest(f,c)})?!0:!1}throw Error("Invalid Parameter");})};t.slice=function(n,h){return l(n,h,function(g,e,d){a.pcCheck(d,1,3);if(a.isArray(d[0])){g=a.toNumber(a.defaultUndefined(d[1],0));e=a.toNumber(a.defaultUndefined(d[2],d[0].length));if(isNaN(g)||!1===a.isInteger(g))throw Error("Invalid Parameter");if(isNaN(e)||!1===a.isInteger(e))throw Error("Invalid Parameter");var b=d[0];return b.slice(g,
e)}if(a.isImmutableArray(d[0])){b=d[0];g=a.toNumber(a.defaultUndefined(d[1],0));e=a.toNumber(a.defaultUndefined(d[2],b.length()));if(isNaN(g)||!1===a.isInteger(g))throw Error("Invalid Parameter");if(isNaN(e)||!1===a.isInteger(e))throw Error("Invalid Parameter");return b.toArray().slice(g,e)}throw Error("Invalid Parameter");})};t.splice=function(n,h){return l(n,h,function(g,e,d){g=[];for(e=0;e<d.length;e++)a.isArray(d[e])?g.push.apply(g,d[e]):a.isImmutableArray(d[e])?g.push.apply(g,d[e].toArray()):
g.push(d[e]);return g})}}})},"esri/arcade/functions/date":function(){define(["require","exports","../languageUtils","../../libs/luxon/luxon","dojo/_base/kernel"],function(D,w,a,t,l){function n(b){b=new Date(b.getTime());var c=b.getFullYear(),f=new Date(0);f.setFullYear(c+1,0,4);f.setHours(0,0,0,0);f=h(f);var m=new Date(0);m.setFullYear(c,0,4);m.setHours(0,0,0,0);m=h(m);return b.getTime()>=f.getTime()?c+1:b.getTime()>=m.getTime()?c:c-1}function h(b){b=new Date(b.getTime());var c=b.getDay();c=(1>c?
7:0)+c-1;b.setDate(b.getDate()-c);b.setHours(0,0,0,0);return b}function g(b){return null===b?b:isNaN(b.getTime())?null:b}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;var e=[0,31,59,90,120,151,181,212,243,273,304,334],d=[0,31,60,91,121,152,182,213,244,274,305,335];w.registerFunctions=function(b,c){b.today=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,0,0);r=new Date;r.setHours(0,0,0,0);return r})};b.now=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,
0,0);return new Date})};b.timestamp=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,0,0);r=new Date;return r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())})};b.toutc=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?null:new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())})};b.tolocal=
function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?null:t.DateTime.utc(r.getFullYear(),r.getMonth()+1,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()).toJSDate()})};b.day=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getDate()})};b.month=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getMonth()})};b.year=function(f,m){return c(f,
m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getFullYear()})};b.hour=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getHours()})};b.second=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getSeconds()})};b.millisecond=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getMilliseconds()})};b.minute=function(f,m){return c(f,
m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getMinutes()})};b.week=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,2);r=a.toDate(u[0]);if(null===r)return NaN;u=a.toNumber(a.defaultUndefined(u[1],0));if(0>u||6<u)throw Error("Invalid Parameter");p=r.getDate();var y=r.getMonth(),x=r.getFullYear();r=r.getDay();p=p+(0!==x%4||0===x%100&&0!==x%400?e:d)[y]-1;y=Math.floor(p/7);return r-u+(0>r-u?7:0)<p-7*y?y+1:y})};b.weekday=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,
1,1);r=a.toDate(u[0]);return null===r?NaN:r.getDay()})};b.isoweekday=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);if(null===r)return NaN;r=r.getDay();0===r&&(r=7);return r})};b.isomonth=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:r.getMonth()+1})};b.isoweek=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);p=a.toDate(u[0]);if(null===p)return NaN;r=h(p).getTime();p=n(p);u=new Date(0);u.setFullYear(p,0,4);
u.setHours(0,0,0,0);p=h(u);r-=p.getTime();return Math.round(r/6048E5)+1})};b.isoyear=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,1,1);r=a.toDate(u[0]);return null===r?NaN:n(r)})};b.date=function(f,m){return c(f,m,function(r,p,u){a.pcCheck(u,0,7);if(3===u.length)return g(new Date(a.toNumber(u[0]),a.toNumber(u[1]),a.toNumber(u[2]),0,0,0,0));if(4===u.length)return g(new Date(a.toNumber(u[0]),a.toNumber(u[1]),a.toNumber(u[2]),a.toNumber(u[3]),0,0,0));if(5===u.length)return g(new Date(a.toNumber(u[0]),
a.toNumber(u[1]),a.toNumber(u[2]),a.toNumber(u[3]),a.toNumber(u[4]),0,0));if(6===u.length)return g(new Date(a.toNumber(u[0]),a.toNumber(u[1]),a.toNumber(u[2]),a.toNumber(u[3]),a.toNumber(u[4]),a.toNumber(u[5]),0));if(7===u.length)return g(new Date(a.toNumber(u[0]),a.toNumber(u[1]),a.toNumber(u[2]),a.toNumber(u[3]),a.toNumber(u[4]),a.toNumber(u[5]),a.toNumber(u[6])));if(2===u.length){r=a.toString(u[1]);if(""===r)return null;r=a.standardiseDateFormat(r);p=void 0;p="X"===r?t.DateTime.fromSeconds(a.toNumber(u[0])):
"x"===r?t.DateTime.fromMillis(a.toNumber(u[0])):t.DateTime.fromFormat(a.toString(u[0]),r,{locale:l.locale,numberingSystem:"latn"});return p.isValid?p.toJSDate():null}if(1===u.length){if(a.isString(u[0])){if(""===u[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(u[0]))return a.toDate(u[0]+"-01-01")}r=a.toNumber(u[0]);return!1===isNaN(r)?g(new Date(r)):a.toDate(u[0])}if(0===u.length)return new Date})};b.datediff=function(f,m){return c(f,m,function(r,
p,u){a.pcCheck(u,2,3);r=a.toDateTime(u[0]);p=a.toDateTime(u[1]);if(null===r||null===p)return NaN;switch(a.toString(u[2]).toLowerCase()){case "days":case "day":case "d":return r.diff(p,"days").days;case "months":case "month":return r.diff(p,"months").months;case "minutes":case "minute":case "m":return"M"===u[2]?r.diff(p,"months").months:r.diff(p,"minutes").minutes;case "seconds":case "second":case "s":return r.diff(p,"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return r.diff(p).milliseconds;
case "hours":case "hour":case "h":return r.diff(p,"hours").hours;case "years":case "year":case "y":return r.diff(p,"years").years;default:return r.diff(p).milliseconds}})};b.dateadd=function(f,m){return c(f,m,function(r,p,u){var y;a.pcCheck(u,2,3);r=a.toDateTime(u[0]);if(null===r)return null;p=a.toNumber(u[1]);if(isNaN(p))return r.toJSDate();var x="milliseconds";switch(a.toString(u[2]).toLowerCase()){case "days":case "day":case "d":x="days";p=a.absRound(p);break;case "months":case "month":x="months";
p=a.absRound(p);break;case "minutes":case "minute":case "m":x="M"===u[2]?"months":"minutes";break;case "seconds":case "second":case "s":x="seconds";break;case "milliseconds":case "millisecond":case "ms":x="milliseconds";break;case "hours":case "hour":case "h":x="hours";break;case "years":case "year":case "y":x="years"}return r.plus((y={},y[x]=p,y)).toJSDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../ImmutablePointArray ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/jsonUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m){function r(p){return p instanceof t||"object"===typeof p&&"FeatureSetReader"===p.type}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;w.registerFunctions=function(p,u){p.ringisclockwise=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=[];if(null===k[0])return!1;if(n.isArray(k[0])){var v=0;for(k=k[0];v<k.length;v++)if(q=k[v],q instanceof d)z.push([q.x,q.y]);else throw Error("Invalid Argument");}else if(k[0]instanceof l)z=
k[0]._elements;else if(n.isImmutableArray(k[0])){v=0;for(var B=k[0].toArray();v<B.length;v++)if(q=B[v],q instanceof d)z.push([q.x,q.y]);else throw Error("Invalid Argument");0<z.length&&(k[0].get(0),k[0].get(0))}else throw Error("Invalid Argument");return 3>z.length?!1:(new b({rings:[],spatialReference:{wkid:4326}})).isClockwise(z)})};p.polygon=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=null;if(k[0]instanceof a){if(z=n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),y.spatialReference),
!1===z instanceof b)throw Error("Illegal Parameter");}else z=k[0]instanceof b?m.fromJson(k[0].toJson()):n.fixSpatialReference(new b(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.polyline=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=null;if(k[0]instanceof a){if(z=n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),
y.spatialReference),!1===z instanceof c)throw Error("Illegal Parameter");}else z=k[0]instanceof c?m.fromJson(k[0].toJson()):n.fixSpatialReference(new c(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.point=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=null;if(k[0]instanceof a){if(z=n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),
y.spatialReference),!1===z instanceof d)throw Error("Illegal Parameter");}else z=k[0]instanceof d?m.fromJson(k[0].toJson()):n.fixSpatialReference(new d(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.multipoint=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=null;if(k[0]instanceof a){if(z=
n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),y.spatialReference),!1===z instanceof e)throw Error("Illegal Parameter");}else z=k[0]instanceof e?m.fromJson(k[0].toJson()):n.fixSpatialReference(new e(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.extent=function(y,x){return u(y,x,function(z,
q,k){k=n.autoCastFeatureToGeometry(k);n.pcCheck(k,1,1);z=null;k[0]instanceof a?z=n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),y.spatialReference):k[0]instanceof d?(z={xmin:k[0].x,ymin:k[0].y,xmax:k[0].x,ymax:k[0].y,spatialReference:k[0].spatialReference.toJson()},k=k[0],k.hasZ?(z.zmin=k.z,z.zmax=k.z):k.hasM&&(z.mmin=k.m,z.mmax=k.m),z=m.fromJson(z)):z=k[0]instanceof b?m.fromJson(k[0].getExtent().toJson()):k[0]instanceof c?m.fromJson(k[0].getExtent().toJson()):k[0]instanceof e?m.fromJson(k[0].getExtent().toJson()):
k[0]instanceof h?m.fromJson(k[0].toJson()):n.fixSpatialReference(new h(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.geometry=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,1,1);z=null;z=r(k[0])?n.fixSpatialReference(k[0].geometry(),y.spatialReference):k[0]instanceof a?n.fixSpatialReference(t.parseGeometryFromDictionary(k[0]),
y.spatialReference):n.fixSpatialReference(m.fromJson(JSON.parse(k[0])),y.spatialReference);if(null!==z&&!1===z.spatialReference.equals(y.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return n.fixNullGeometry(z)})};p.setgeometry=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,2,2);if(r(k[0])){if(!0===k[0].immutable)throw Error("Feature is Immutable");if(k[1]instanceof g||null===k[1])k[0]._geometry=k[1];else throw Error("Illegal Argument");
}else throw Error("Illegal Argument");return n.voidOperation})};p.feature=function(y,x){return u(y,x,function(z,q,k){if(0===k.length)throw Error("Missing Parameters");z=null;if(1===k.length)if(n.isString(k[0]))z=t.fromJson(JSON.parse(k[0]));else if(r(k[0]))z=t.createFromArcadeFeature(k[0]);else if(k[0]instanceof g)z=t.createFromGraphicLikeObject(k[0],null,null);else if(k[0]instanceof a)z=k[0].hasField("geometry")?k[0].field("geometry"):null,q=k[0].hasField("attributes")?k[0].field("attributes"):null,
null!==z&&z instanceof a&&(z=t.parseGeometryFromDictionary(z)),null!==q&&(q=t.parseAttributesFromDictionary(q)),z=t.createFromGraphicLikeObject(z,q,null);else throw Error("Illegal Argument");else{if(2===k.length){q=z=null;if(null!==k[0])if(k[0]instanceof g)z=k[0];else if(z instanceof a)z=t.parseGeometryFromDictionary(k[0]);else throw Error("Illegal Argument");if(null!==k[1])if(k[1]instanceof a)q=t.parseAttributesFromDictionary(k[1]);else throw Error("Illegal Argument");}else{z=null;q={};if(null!==
k[0])if(k[0]instanceof g)z=k[0];else if(z instanceof a)z=t.parseGeometryFromDictionary(k[0]);else throw Error("Illegal Argument");for(var v=1;v<k.length;v+=2){var B=n.toString(k[v]),E=k[v+1];if(null===E||void 0===E||n.isString(E)||isNaN(E)||n.isDate(E)||n.isNumber(E)||n.isBoolean(E)){if(n.isFunctionParameter(E)||!1===n.isSimpleType(E))throw Error("Illegal Argument");q[B]=E===n.voidOperation?null:E}else throw Error("Illegal Argument");}}z=t.createFromGraphicLikeObject(z,q,null)}z._geometry=n.fixSpatialReference(z.geometry(),
y.spatialReference);z.immutable=!1;return z})};p.dictionary=function(y,x){return u(y,x,function(z,q,k){if(0===k.length)return k=new a,k.immutable=!1,k;if(1===k.length&&n.isString(k[0]))try{var v=JSON.parse(k[0]),B=a.convertObjectToArcadeDictionary(v,!1);B.immutable=!1;return B}catch(E){throw Error("Missing Parameters or Illegal Json");}if(0!==k.length%2)throw Error("Missing Parameters");z={};for(q=0;q<k.length;q+=2)if(v=n.toString(k[q]),B=k[q+1],null===B||void 0===B||n.isString(B)||isNaN(B)||n.isDate(B)||
n.isNumber(B)||n.isBoolean(B)||n.isArray(B)||n.isImmutableArray(B)){if(n.isFunctionParameter(B))throw Error("Illegal Argument");z[v]=B===n.voidOperation?null:B}else throw Error("Illegal Argument");k=new a(z);k.immutable=!1;return k})};p.haskey=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,2,2);z=n.toString(k[1]);if(r(k[0])||k[0]instanceof a)return k[0].hasField(z);throw Error("Illegal Argument");})};p.indexof=function(y,x){return u(y,x,function(z,q,k){n.pcCheck(k,2,2);z=k[1];if(n.isArray(k[0])){for(q=
0;q<k[0].length;q++)if(n.equalityTest(z,k[0][q]))return q;return-1}if(n.isImmutableArray(k[0])){var v=k[0].length();for(q=0;q<v;q++)if(n.equalityTest(z,k[0].get(q)))return q;return-1}throw Error("Illegal Argument");})};p.angle=function(y,x){return u(y,x,function(z,q,k){k=n.autoCastFeatureToGeometry(k);n.pcCheck(k,2,3);if(!(k[0]instanceof d))throw Error("Illegal Argument");if(!(k[1]instanceof d))throw Error("Illegal Argument");if(2<k.length&&!(k[2]instanceof d))throw Error("Illegal Argument");return 2===
k.length?f.angle2D(k[0],k[1]):f.angleBetween2D(k[0],k[1],k[2])})};p.bearing=function(y,x){return u(y,x,function(z,q,k){k=n.autoCastFeatureToGeometry(k);n.pcCheck(k,2,3);if(!(k[0]instanceof d))throw Error("Illegal Argument");if(!(k[1]instanceof d))throw Error("Illegal Argument");if(2<k.length&&!(k[2]instanceof d))throw Error("Illegal Argument");return 2===k.length?f.bearing2D(k[0],k[1]):f.bearingBetween2D(k[0],k[1],k[2])})};p.isselfintersecting=function(y,x){return u(y,x,function(z,q,k){k=n.autoCastFeatureToGeometry(k);
n.pcCheck(k,1,1);z=k[0];if(z instanceof b)return z.isSelfIntersecting(z);if(z instanceof c)return z=z.paths,f.pathsSelfIntersecting(z);if(z instanceof e)for(q=z.points,k=0;k<q.length;k++)for(var v=0;v<q.length;v++)if(v!==k){for(var B=!0,E=0;E<q[k].length;E++)if(q[k][E]!==q[v][E]){B=!1;break}if(!0===B)return!0}return n.isArray(z)||n.isImmutableArray(z)?(z=n.autoCastArrayOfPointsToPolyline(z,y.spatialReference),null!==z&&(z=z.paths),f.pathsSelfIntersecting(z)):!1})}}})},"esri/arcade/functions/centroid":function(){define(["require",
"exports","../../geometry/Point"],function(D,w,a){function t(b,c,f){var m={x:0,y:0};c&&(m.z=0);f&&(m.m=0);for(var r=0,p=b[0],u=0;u<b.length;u++){var y=b[u];a:if(y.length!==p.length)var x=!1;else{for(x=0;x<y.length;x++)if(y[x]!==p[x]){x=!1;break a}x=!0}if(!1===x){x=l(p,y,c);var z=y,q=c,k=f,v={x:(p[0]+z[0])/2,y:(p[1]+z[1])/2};q&&(v.z=(p[2]+z[2])/2);q&&k?v.m=(p[3]+z[3])/2:k&&(v.m=(p[2]+z[2])/2);p=v;p.x*=x;p.y*=x;m.x+=p.x;m.y+=p.y;c&&(p.z*=x,m.z+=p.z);f&&(p.m*=x,m.m+=p.m);r+=x;p=y}}0<r?(m.x/=r,m.y/=r,
c&&(m.z/=r),f&&(m.m/=r)):(m.x=b[0][0],m.y=b[0][1],c&&(m.z=b[0][2]),f&&c?m.m=b[0][3]:f&&(m.m=b[0][2]));return m}function l(b,c,f){var m=c[0]-b[0];b=c[1]-b[1];return f?(c=c[2]-c[2],Math.sqrt(m*m+b*b+c*c)):Math.sqrt(m*m+b*b)}function n(b,c,f){for(void 0===f&&(f=0);b<f;)b+=c;for(f+=c;b>=f;)b-=c;return b}function h(b,c){return Math.atan2(c.y-b.y,c.x-b.x)}function g(b,c,f){var m=b.x-c.x;b=b.y-c.y;var r=f.x-c.x;c=f.y-c.y;return Math.atan2(m*c-r*b,m*r+b*c)}function e(b,c,f,m,r){var p=b[0];b=b[1];var u=c[0];
c=c[1];var y=f[0],x=f[1];f=m[0]-y;y=p-y;var z=u-p;m=m[1]-x;x=b-x;var q=c-b,k=m*z-f*q;if(0===k)return!1;f=(f*x-m*y)/k;y=(z*x-q*y)/k;return 0<=f&&1>=f&&0<=y&&1>=y?(r&&(r[0]=p+f*(u-p),r[1]=b+f*(c-b)),!0):!1}Object.defineProperty(w,"__esModule",{value:!0});w.pathsSelfIntersecting=w.bearingBetween2D=w.angleBetween2D=w.angleBetweenRad=w.bearing2D=w.angle2D=w.angleRad=w.centroidMultiPoint=w.centroidPolyline=void 0;w.centroidPolyline=function(b){for(var c={x:0,y:0,spatialReference:b.spatialReference.toJson()},
f={x:0,y:0,spatialReference:b.spatialReference.toJson()},m=0,r=0,p=0;p<b.paths.length;p++)if(0!==b.paths[p].length){var u=b.paths[p];var y=!0===b.hasZ;if(1>=u.length)u=0;else{for(var x=0,z=1;z<u.length;z++)x+=l(u[z-1],u[z],y);u=x}0===u?(y=t(b.paths[p],!0===b.hasZ,!0===b.hasM),c.x+=y.x,c.y+=y.y,!0===b.hasZ&&(c.z+=y.z),!0===b.hasM&&(c.m+=y.m),++m):(y=t(b.paths[p],!0===b.hasZ,!0===b.hasM),f.x+=y.x*u,f.y+=y.y*u,!0===b.hasZ&&(f.z+=y.z*u),!0===b.hasM&&(f.m+=y.m*u),r+=u)}return 0<r?(f.x/=r,f.y/=r,!0===b.hasZ&&
(f.z/=r),!0===b.hasM&&(f.m/=r),new a(f)):0<m?(c.x/=m,c.y/=m,!0===b.hasZ&&(f.z/=m),!0===b.hasM&&(c.m/=m),new a(c)):null};w.centroidMultiPoint=function(b){if(0===b.points.length)return null;for(var c=0,f=0,m=0,r=0,p=0;p<b.points.length;p++){var u=b.getPoint(p);!0===u.hasZ&&(m+=u.z);!0===u.hasM&&(r+=u.m);c+=u.x;f+=u.y;r+=u.m}c={x:c/b.points.length,y:f/b.points.length,spatialReference:null};c.spatialReference=b.spatialReference.toJson();!0===b.hasZ&&(c.z=m/b.points.length);!0===b.hasM&&(c.m=r/b.points.length);
return new a(c)};w.angleRad=h;w.angle2D=function(b,c){return n(h(b,c),2*Math.PI)*(180/Math.PI)};w.bearing2D=function(b,c){return n(Math.PI/2-h(b,c),2*Math.PI)*(180/Math.PI)};w.angleBetweenRad=g;w.angleBetween2D=function(b,c,f){return n(g(b,c,f),2*Math.PI)*(180/Math.PI)};w.bearingBetween2D=function(b,c,f){return n(-1*g(b,c,f),2*Math.PI)*(180/Math.PI)};var d=[0,0];w.pathsSelfIntersecting=function(b){for(var c=0;c<b.length;c++){for(var f=b[c],m=0;m<f.length-1;m++)for(var r=f[m],p=f[m+1],u=c+1;u<b.length;u++)for(var y=
0;y<b[u].length-1;y++){var x=b[u][y],z=b[u][y+1],q=e(r,p,x,z,d);if(q&&!(d[0]===r[0]&&d[1]===r[1]||d[0]===x[0]&&d[1]===x[1]||d[0]===p[0]&&d[1]===p[1]||d[0]===z[0]&&d[1]===z[1]))return!0}y=f.length;if(!(3>y))for(m=0;m<=y-2;m++)for(r=f[m],p=f[m+1],u=m+2;u<=y-2;u++)if(x=f[u],z=f[u+1],(q=e(r,p,x,z,d))&&!(d[0]===r[0]&&d[1]===r[1]||d[0]===x[0]&&d[1]===x[1]||d[0]===p[0]&&d[1]===p[1]||d[0]===z[0]&&d[1]===z[1]))return!0}return!1}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/jsonUtils".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f){function m(p){return 0===a.version.indexOf("4.")?b.fromExtent(p):new b({spatialReference:p.spatialReference,rings:[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]})}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=w.setGeometryEngine=void 0;var r=null;w.setGeometryEngine=function(p){r=p};w.registerFunctions=function(p,u){function y(x){l.pcCheck(x,2,2);if(!(x[0]instanceof g&&x[1]instanceof g||x[0]instanceof g&&
null===x[1]||x[1]instanceof g&&null===x[0]||null===x[0]&&null===x[1]))throw Error("Illegal Argument");}p.disjoint=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!0:r.disjoint(v[0],v[1])})};p.intersects=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!1:r.intersects(v[0],v[1])})};p.touches=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);
return null===v[0]||null===v[1]?!1:r.touches(v[0],v[1])})};p.crosses=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!1:r.crosses(v[0],v[1])})};p.within=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!1:r.within(v[0],v[1])})};p.contains=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!1:r.contains(v[0],v[1])})};
p.overlaps=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?!1:r.overlaps(v[0],v[1])})};p.equals=function(x,z){return u(x,z,function(q,k,v){l.pcCheck(v,2,2);return v[0]===v[1]?!0:v[0]instanceof g&&v[1]instanceof g?r.equals(v[0],v[1]):l.isDate(v[0])&&l.isDate(v[1])?v[0].getTime()===v[1].getTime():!1})};p.relate=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,3,3);if(v[0]instanceof g&&v[1]instanceof
g)return r.relate(v[0],v[1],l.toString(v[2]));if(v[0]instanceof g&&null===v[1]||v[1]instanceof g&&null===v[0]||null===v[0]&&null===v[1])return!1;throw Error("Illegal Argument");})};p.intersection=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]||null===v[1]?null:r.intersect(v[0],v[1])})};p.union=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);q=[];if(0===v.length)throw Error("Function called with wrong number of Parameters");
if(1===v.length)if(l.isArray(v[0]))for(v=l.autoCastFeatureToGeometry(v[0]),k=0;k<v.length;k++){if(null!==v[k]){if(!(v[k]instanceof g))throw Error("Illegal Argument");q.push(v[k])}}else if(l.isImmutableArray(v[0]))for(v=l.autoCastFeatureToGeometry(v[0].toArray()),k=0;k<v.length;k++){if(null!==v[k]){if(!(v[k]instanceof g))throw Error("Illegal Argument");q.push(v[k])}}else{if(v[0]instanceof g)return l.fixSpatialReference(t.cloneGeometry(v[0]),x.spatialReference);if(null===v[0])return null;throw Error("Illegal Argument");
}else for(k=0;k<v.length;k++)if(null!==v[k]){if(!(v[k]instanceof g))throw Error("Illegal Argument");q.push(v[k])}return 0===q.length?null:r.union(q)})};p.difference=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null!==v[0]&&null===v[1]?t.cloneGeometry(v[0]):null===v[0]?null:r.difference(v[0],v[1])})};p.symmetricdifference=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);y(v);return null===v[0]&&null===v[1]?null:null===v[0]?t.cloneGeometry(v[1]):
null===v[1]?t.cloneGeometry(v[0]):r.symmetricDifference(v[0],v[1])})};p.clip=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,2);if(!(v[1]instanceof h)&&null!==v[1])throw Error("Illegal Argument");if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");return null===v[1]?null:r.clip(v[0],v[1])})};p.cut=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,2);if(!(v[1]instanceof c)&&null!==v[1])throw Error("Illegal Argument");
if(null===v[0])return[];if(!(v[0]instanceof g))throw Error("Illegal Argument");return null===v[1]?[t.cloneGeometry(v[0])]:r.cut(v[0],v[1])})};p.area=function(x,z){return u(x,z,function(q,k,v){l.pcCheck(v,1,2);v=l.autoCastFeatureToGeometry(v);if(null===v[0])return 0;if(l.isArray(v[0])||l.isImmutableArray(v[0]))return q=l.autoCastArrayOfPointsToPolygon(v[0],x.spatialReference),null===q?0:r.planarArea(q,t.convertSquareUnitsToCode(l.defaultUndefined(v[1],-1)));if(!(v[0]instanceof g))throw Error("Illegal Argument");
return r.planarArea(v[0],t.convertSquareUnitsToCode(l.defaultUndefined(v[1],-1)))})};p.areageodetic=function(x,z){return u(x,z,function(q,k,v){l.pcCheck(v,1,2);v=l.autoCastFeatureToGeometry(v);if(null===v[0])return 0;if(l.isArray(v[0])||l.isImmutableArray(v[0]))return q=l.autoCastArrayOfPointsToPolygon(v[0],x.spatialReference),null===q?0:r.geodesicArea(q,t.convertSquareUnitsToCode(l.defaultUndefined(v[1],-1)));if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.geodesicArea(v[0],t.convertSquareUnitsToCode(l.defaultUndefined(v[1],
-1)))})};p.length=function(x,z){return u(x,z,function(q,k,v){l.pcCheck(v,1,2);v=l.autoCastFeatureToGeometry(v);if(null===v[0])return 0;if(l.isArray(v[0])||l.isImmutableArray(v[0]))return q=l.autoCastArrayOfPointsToPolyline(v[0],x.spatialReference),null===q?0:r.planarLength(q,t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)));if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.planarLength(v[0],t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)))})};p.length3d=function(x,z){return u(x,
z,function(q,k,v){l.pcCheck(v,1,2);v=l.autoCastFeatureToGeometry(v);if(null===v[0])return 0;if(l.isArray(v[0])||l.isImmutableArray(v[0]))return q=l.autoCastArrayOfPointsToPolyline(v[0],x.spatialReference),null===q?0:r.planarLength(q,t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)));if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.planarLength(v[0],t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)))})};p.lengthgeodetic=function(x,z){return u(x,z,function(q,k,v){l.pcCheck(v,
1,2);v=l.autoCastFeatureToGeometry(v);if(null===v[0])return 0;if(l.isArray(v[0])||l.isImmutableArray(v[0]))return q=l.autoCastArrayOfPointsToPolyline(v[0],x.spatialReference),null===q?0:r.geodesicLength(q,t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)));if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.geodesicLength(v[0],t.convertLinearUnitsToCode(l.defaultUndefined(v[1],-1)))})};p.distance=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,
2,3);q=v[0];if(l.isArray(v[0])||l.isImmutableArray(v[0]))q=l.autoCastArrayOfPointsToMultiPoint(v[0],x.spatialReference);k=v[1];if(l.isArray(v[1])||l.isImmutableArray(v[1]))k=l.autoCastArrayOfPointsToMultiPoint(v[1],x.spatialReference);if(!(q instanceof g))throw Error("Illegal Argument");if(!(k instanceof g))throw Error("Illegal Argument");return r.distance(q,k,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1)))})};p.distancegeodetic=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);
l.pcCheck(v,2,3);q=v[0];k=v[1];if(!(q instanceof d))throw Error("Illegal Argument");if(!(k instanceof d))throw Error("Illegal Argument");var B=new c({paths:[],spatialReference:q.spatialReference});B.addPath([q,k]);return r.geodesicLength(B,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1)))})};p.densify=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,3);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");q=l.toNumber(v[1]);
if(isNaN(q))throw Error("Illegal Argument");if(0>=q)throw Error("Illegal Argument");return v[0]instanceof b||v[0]instanceof c?r.densify(v[0],q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1))):v[0]instanceof h?r.densify(m(v[0]),q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1))):v[0]})};p.densifygeodetic=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,3);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");q=l.toNumber(v[1]);
if(isNaN(q))throw Error("Illegal Argument");if(0>=q)throw Error("Illegal Argument");return v[0]instanceof b||v[0]instanceof c?r.geodesicDensify(v[0],q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1))):v[0]instanceof h?r.geodesicDensify(m(v[0]),q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1))):v[0]})};p.generalize=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,4);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");
q=l.toNumber(v[1]);if(isNaN(q))throw Error("Illegal Argument");return r.generalize(v[0],q,l.toBoolean(l.defaultUndefined(v[2],!0)),t.convertLinearUnitsToCode(l.defaultUndefined(v[3],-1)))})};p.buffer=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,3);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");q=l.toNumber(v[1]);if(isNaN(q))throw Error("Illegal Argument");return 0===q?t.cloneGeometry(v[0]):r.buffer(v[0],q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],
-1)))})};p.buffergeodetic=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,3);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");q=l.toNumber(v[1]);if(isNaN(q))throw Error("Illegal Argument");return 0===q?t.cloneGeometry(v[0]):r.geodesicBuffer(v[0],q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1)))})};p.offset=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,6);if(null===v[0])return null;
if(!(v[0]instanceof b||v[0]instanceof c))throw Error("Illegal Argument");q=l.toNumber(v[1]);if(isNaN(q))throw Error("Illegal Argument");k=l.toNumber(l.defaultUndefined(v[4],10));if(isNaN(k))throw Error("Illegal Argument");var B=l.toNumber(l.defaultUndefined(v[5],0));if(isNaN(B))throw Error("Illegal Argument");return r.offset(v[0],q,t.convertLinearUnitsToCode(l.defaultUndefined(v[2],-1)),l.toString(l.defaultUndefined(v[3],"round")).toLowerCase(),k,B)})};p.rotate=function(x,z){return u(x,z,function(q,
k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,2,3);q=v[0];if(null===q)return null;if(!(q instanceof g))throw Error("Illegal Argument");q instanceof h&&(q=b.fromExtent(q));k=l.toNumber(v[1]);if(isNaN(k))throw Error("Illegal Argument");v=l.defaultUndefined(v[2],null);if(null===v)return r.rotate(q,k);if(v instanceof d)return r.rotate(q,k,v);throw Error("Illegal Argument");})};p.centroid=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,1,1);if(null===v[0])return null;
q=v[0];if(l.isArray(v[0])||l.isImmutableArray(v[0]))q=l.autoCastArrayOfPointsToMultiPoint(v[0],x.spatialReference);if(null===q)return null;if(!(q instanceof g))throw Error("Illegal Argument");return q instanceof d?l.fixSpatialReference(t.cloneGeometry(v[0]),x.spatialReference):q instanceof b?q.getCentroid():q instanceof c?n.centroidPolyline(q):q instanceof e?n.centroidMultiPoint(q):q instanceof h?q.getCenter():null})};p.multiparttosinglepart=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);
l.pcCheck(v,1,1);k=[];if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");if(v[0]instanceof d||v[0]instanceof h)return[l.fixSpatialReference(t.cloneGeometry(v[0]),x.spatialReference)];q=r.simplify(v[0]);if(q instanceof b){k=[];var B=[];for(v=0;v<q.rings.length;v++)if(q.isClockwise(q.rings[v])){var E=f.fromJson({rings:[q.rings[v]],hasZ:!0===q.hasZ,hasM:!0===q.hasM,spatialReference:q.spatialReference.toJson()});k.push(E)}else B.push({ring:q.rings[v],pt:q.getPoint(v,0)});
for(q=0;q<B.length;q++)for(v=0;v<k.length;v++)if(k[v].contains(B[q].pt)){k[v].addRing(B[q].ring);break}return k}if(q instanceof c){k=[];for(v=0;v<q.paths.length;v++)B=f.fromJson({paths:[q.paths[v]],hasZ:!0===q.hasZ,hasM:!0===q.hasM,spatialReference:q.spatialReference.toJson()}),k.push(B);return k}if(v[0]instanceof e){q=l.fixSpatialReference(t.cloneGeometry(v[0]),x.spatialReference);for(v=0;v<q.points.length;v++)k.push(q.getPoint(v));return k}return null})};p.issimple=function(x,z){return u(x,z,function(q,
k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,1,1);if(null===v[0])return!0;if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.isSimple(v[0])})};p.simplify=function(x,z){return u(x,z,function(q,k,v){v=l.autoCastFeatureToGeometry(v);l.pcCheck(v,1,1);if(null===v[0])return null;if(!(v[0]instanceof g))throw Error("Illegal Argument");return r.simplify(v[0])})}}})},"esri/arcade/kernel":function(){define(["require","exports","../geometry/Extent","../geometry/jsonUtils"],function(D,w,a,t){Object.defineProperty(w,
"__esModule",{value:!0});w.cloneGeometry=w.sameGeomType=w.convertLinearUnitsToCode=w.shapeExtent=w.convertSquareUnitsToCode=void 0;w.convertSquareUnitsToCode=function(l){if(void 0===l)return null;if("number"===typeof l)return l;l=l.toLowerCase();l=l.replace(/\s/g,"");l=l.replace(/-/g,"");switch(l){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;
case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};w.shapeExtent=function(l){if(null===l)return null;switch(l.type){case "polygon":case "multipoint":case "polyline":return l.extent;
case "point":return new a({xmin:l.x,ymin:l.y,xmax:l.x,ymax:l.y,spatialReference:l.spatialReference});case "extent":return l}return null};w.convertLinearUnitsToCode=function(l){if(void 0===l)return null;if("number"===typeof l)return l;l=l.toLowerCase();l=l.replace(/\s/g,"");l=l.replace(/-/g,"");switch(l){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};w.sameGeomType=function(l,n){return l===n||"point"===l&&"esriGeometryPoint"===n||"polyline"===l&&"esriGeometryPolyline"===n||"polygon"===l&&"esriGeometryPolygon"===n||"extent"===l&&"esriGeometryEnvelope"===
n||"multipoint"===l&&"esriGeometryMultipoint"===n||"point"===n&&"esriGeometryPoint"===l||"polyline"===n&&"esriGeometryPolyline"===l||"polygon"===n&&"esriGeometryPolygon"===l||"extent"===n&&"esriGeometryEnvelope"===l||"multipoint"===n&&"esriGeometryMultipoint"===l?!0:!1};w.cloneGeometry=function(l){if(null===l)return null;var n=t.fromJson(l.toJson());l.getCacheValue("_geVersion")&&n.setCacheValue("_geVersion",l.getCacheValue("_geVersion"));return n}})},"esri/arcade/functions/maths":function(){define(["require",
"exports","../languageUtils","dojo/number"],function(D,w,a,t){function l(n,h,g){if("undefined"===typeof g||0===+g)return Math[n](h);h=+h;g=+g;if(isNaN(h)||"number"!==typeof g||0!==g%1)return NaN;h=h.toString().split("e");h=Math[n](+(h[0]+"e"+(h[1]?+h[1]-g:-g)));h=h.toString().split("e");return+(h[0]+"e"+(h[1]?+h[1]+g:g))}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;w.registerFunctions=function(n,h){function g(e,d,b){e=a.toNumber(e);return isNaN(e)?e:isNaN(d)||isNaN(b)||
d>b?NaN:e<d?d:e>b?b:e}n.number=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,2);b=f[0];return a.isNumber(b)?b:null===b?0:a.isDate(b)||a.isBoolean(b)?Number(b):a.isArray(b)?NaN:""===b||void 0===b?Number(b):a.isString(b)?void 0!==f[1]?(f=a.multiReplace(f[1],"\u2030",""),f=a.multiReplace(f,"\u00a4",""),t.parse(b,{pattern:f})):Number(b.trim()):Number(b)})};n.abs=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.abs(a.toNumber(f[0]))})};n.acos=function(e,d){return h(e,
d,function(b,c,f){a.pcCheck(f,1,1);return Math.acos(a.toNumber(f[0]))})};n.asin=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.asin(a.toNumber(f[0]))})};n.atan=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.atan(a.toNumber(f[0]))})};n.atan2=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,2,2);return Math.atan2(a.toNumber(f[0]),a.toNumber(f[1]))})};n.ceil=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,2);return 2===f.length?(b=a.toNumber(f[1]),
isNaN(b)&&(b=0),l("ceil",a.toNumber(f[0]),-1*b)):Math.ceil(a.toNumber(f[0]))})};n.round=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,2);return 2===f.length?(b=a.toNumber(f[1]),isNaN(b)&&(b=0),l("round",a.toNumber(f[0]),-1*b)):Math.round(a.toNumber(f[0]))})};n.floor=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,2);return 2===f.length?(b=a.toNumber(f[1]),isNaN(b)&&(b=0),l("floor",a.toNumber(f[0]),-1*b)):Math.floor(a.toNumber(f[0]))})};n.cos=function(e,d){return h(e,d,function(b,
c,f){a.pcCheck(f,1,1);return Math.cos(a.toNumber(f[0]))})};n.isnan=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return"number"===typeof f[0]&&isNaN(f[0])})};n.exp=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.exp(a.toNumber(f[0]))})};n.log=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.log(a.toNumber(f[0]))})};n.pow=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,2,2);return Math.pow(a.toNumber(f[0]),a.toNumber(f[1]))})};n.random=
function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,0,0);return Math.random()})};n.sin=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.sin(a.toNumber(f[0]))})};n.sqrt=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.sqrt(a.toNumber(f[0]))})};n.tan=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return Math.tan(a.toNumber(f[0]))})};n.defaultvalue=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,2,2);return null===f[0]||""===f[0]||
void 0===f[0]?f[1]:f[0]})};n.isempty=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return null===f[0]||""===f[0]||void 0===f[0]?!0:!1})};n["boolean"]=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,1,1);return a.toBoolean(f[0])})};n.constrain=function(e,d){return h(e,d,function(b,c,f){a.pcCheck(f,3,3);b=a.toNumber(f[1]);c=a.toNumber(f[2]);if(a.isArray(f[0])){var m=[],r=0;for(f=f[0];r<f.length;r++)m.push(g(f[r],b,c));return m}if(a.isImmutableArray(f[0])){m=[];for(r=0;r<f[0].length();r++)m.push(g(f[0].get(r),
b,c));return m}return g(f[0],b,c)})}}})},"esri/arcade/functions/stats":function(){define(["require","exports","../languageUtils","./fieldStats"],function(D,w,a,t){function l(n,h,g,e){if(1===e.length){if(a.isArray(e[0]))return t.calculateStat(n,e[0],-1);if(a.isImmutableArray(e[0]))return t.calculateStat(n,e[0].toArray(),-1)}return t.calculateStat(n,e,-1)}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;w.registerFunctions=function(n,h){n.stdev=function(g,e){return h(g,e,
function(d,b,c){return l("stdev",d,b,c)})};n.variance=function(g,e){return h(g,e,function(d,b,c){return l("variance",d,b,c)})};n.average=function(g,e){return h(g,e,function(d,b,c){return l("mean",d,b,c)})};n.mean=function(g,e){return h(g,e,function(d,b,c){return l("mean",d,b,c)})};n.sum=function(g,e){return h(g,e,function(d,b,c){return l("sum",d,b,c)})};n.min=function(g,e){return h(g,e,function(d,b,c){return l("min",d,b,c)})};n.max=function(g,e){return h(g,e,function(d,b,c){return l("max",d,b,c)})};
n.distinct=function(g,e){return h(g,e,function(d,b,c){return l("distinct",d,b,c)})};n.count=function(g,e){return h(g,e,function(d,b,c){a.pcCheck(c,1,1);if(a.isArray(c[0])||a.isString(c[0]))return c[0].length;if(a.isImmutableArray(c[0]))return c[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(D,w,a){function t(n){for(var h=0,g=0;g<n.length;g++)h+=n[g];return h/n.length}function l(n){for(var h=
t(n),g=0,e=0;e<n.length;e++)g+=Math.pow(h-n[e],2);return g/n.length}Object.defineProperty(w,"__esModule",{value:!0});w.calculateStat=w.decodeStatType=void 0;w.decodeStatType=function(n){switch(n.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};w.calculateStat=function(n,h,g){void 0===
g&&(g=1E3);switch(n.toLowerCase()){case "distinct":a:{n=g;g=[];for(var e={},d=[],b=0;b<h.length;b++){if(void 0!==h[b]&&null!==h[b]&&h[b]!==a.voidOperation){var c=h[b];if(a.isNumber(c)||a.isString(c))void 0===e[c]&&(g.push(c),e[c]=1);else{for(var f=!1,m=0;m<d.length;m++)!0===a.equalityTest(d[m],c)&&(f=!0);!1===f&&(d.push(c),g.push(c))}}if(g.length>=n&&-1!==n){h=g;break a}}h=g}return h;case "avg":case "mean":return t(a.toNumberArray(h));case "min":return Math.min.apply(Math,a.toNumberArray(h));case "sum":h=
a.toNumberArray(h);for(g=n=0;g<h.length;g++)n+=h[g];return n;case "max":return Math.max.apply(Math,a.toNumberArray(h));case "stdev":case "stddev":return Math.sqrt(l(a.toNumberArray(h)));case "var":case "variance":return l(a.toNumberArray(h));case "count":return h.length}return 0}})},"esri/arcade/functions/string":function(){define("require exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../SpatialReference".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p){function u(y,x,z){if(null===y)x.updateUint8Array([0,139]);else if(h.isArray(y)){x.updateUint8Array([61]);if(z.map.has(y))y=z.map.get(y),x.updateIntArray([y^61237541]);else{z.map.set(y,z.currentLength++);for(var q=0;q<y.length;q++){var k=y[q];u(k,x,z)}z.map.delete(y);z.currentLength--}x.updateUint8Array([199])}else if(h.isImmutableArray(y)){x.updateUint8Array([61]);if(z.map.has(y))y=z.map.get(y),x.updateIntArray([y^61237541]);else{z.map.set(y,z.currentLength++);
q=0;for(var v=y.toArray();q<v.length;q++)k=v[q],u(k,x,z);z.map.delete(y);z.currentLength--}x.updateUint8Array([199])}else if(h.isDate(y))x.updateIntArray([y.getTime()]),x.updateUint8Array([241]);else if(h.isString(y))x.updateIntArray([y.length]),x.updateWithString(y),x.updateUint8Array([41]);else if(h.isBoolean(y))x.updateUint8Array([!0===y?1:0,113]);else if(h.isNumber(y))x.updateFloatArray([y]),x.updateUint8Array([173]);else{if(y instanceof t)throw Error("Type not supported in Hash");if(y instanceof
a)throw Error("Type not supported in Hash");if(y instanceof l){x.updateUint8Array([223]);if(z.map.has(y))y=z.map.get(y),x.updateIntArray([y^61237541]);else{z.map.set(y,z.currentLength++);q=0;for(v=y.keys();q<v.length;q++)k=v[q],x.updateIntArray([k.length]),x.updateWithString(k),x.updateUint8Array([251]),k=y.field(k),u(k,x,z),x.updateUint8Array([239]);z.map.delete(y);z.currentLength--}x.updateUint8Array([73])}else{if(y instanceof n)throw Error("Type not supported in Hash");if(y instanceof f)x.updateIntArray([3833836621]),
x.updateIntArray([0]),x.updateFloatArray([y.x]),x.updateIntArray([1]),x.updateFloatArray([y.y]),x.updateIntArray([3765347959]),u(y.spatialReference.wkid,x,z);else if(y instanceof m){x.updateIntArray([1266616829]);for(q=0;q<y.rings.length;q++){v=y.rings[q];var B=[],E=null,N=null;for(k=0;k<v.length;k++){var G=y.getPoint(q,k);if(0===k)E=G;else if(N.x===G.x&&N.y===G.y)continue;N=G;k===v.length-1&&E.x===G.x&&E.y===G.y||B.push(G)}x.updateIntArray([1397116793,B.length]);for(k=0;k<B.length;k++)G=B[k],x.updateIntArray([3962308117,
k]),u(G,x,z),x.updateIntArray([2716288009]);x.updateIntArray([2278822459])}x.updateIntArray([3878477243]);u(y.spatialReference.wkid,x,z)}else if(y instanceof r){x.updateIntArray([4106883559]);for(q=0;q<y.paths.length;q++){v=y.paths[q];x.updateIntArray([1397116793,v.length]);for(k=0;k<v.length;k++)x.updateIntArray([3962308117,k]),u(y.getPoint(q,k),x,z),x.updateIntArray([2716288009]);x.updateIntArray([2278822459])}x.updateIntArray([2568784753]);u(y.spatialReference.wkid,x,z)}else if(y instanceof c){x.updateIntArray([588535921,
y.points.length]);for(k=0;k<y.points.length;k++)q=y.getPoint(k),x.updateIntArray([k]),u(q,x,z);x.updateIntArray([1700171621]);u(y.spatialReference.wkid,x,z)}else if(y instanceof b)x.updateIntArray([3483648373]),x.updateIntArray([0]),x.updateFloatArray([y.xmax]),x.updateIntArray([1]),x.updateFloatArray([y.xmin]),x.updateIntArray([2]),x.updateFloatArray([y.ymax]),x.updateIntArray([3]),x.updateFloatArray([y.ymin]),x.updateIntArray([3622027469]),u(y.spatialReference.wkid,x,z);else if(y instanceof p)x.updateIntArray([14]),
void 0!==y.wkid&&null!==y.wkid&&x.updateIntArray([y.wkid]),y.wkt&&x.updateWithString(y.wkt);else{if(h.isFunctionParameter(y))throw Error("Type not supported in Hash");if(h.isFeatureSet(y))throw Error("Type not supported in Hash");h.isFeatureSetCollection(y);throw Error("Type not supported in Hash");}}}}Object.defineProperty(w,"__esModule",{value:!0});w.registerFunctions=void 0;w.registerFunctions=function(y,x){y.portal=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);return new a(h.toString(B[0]))})};
y.trim=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);return h.toString(B[0]).trim()})};y.tohex=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);k=h.toNumber(B[0]);return isNaN(k)?k:k.toString(16)})};y.upper=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);return h.toString(B[0]).toUpperCase()})};y.proper=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,2);k=1;2===B.length&&"firstword"===h.toString(B[1]).toLowerCase()&&(k=2);v=/\s/;B=h.toString(B[0]);for(var E=
"",N=!0,G=0;G<B.length;G++){var K=B[G];v.test(K)?1===k&&(N=!0):K.toUpperCase()!==K.toLowerCase()&&(N?(K=K.toUpperCase(),N=!1):K=K.toLowerCase());E+=K}return E})};y.lower=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);return h.toString(B[0]).toLowerCase()})};y.guid=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,0,1);if(0<B.length)switch(h.toString(B[0]).toLowerCase()){case "digits":return h.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return h.generateUUID();
case "digits-hyphen-parentheses":return"("+h.generateUUID()+")"}return"{"+h.generateUUID()+"}"})};y.console=function(z,q){return x(z,q,function(k,v,B){0!==B.length&&(1===B.length?z.console(h.toString(B[0])):z.console(h.toString(B)));return h.voidOperation})};y.mid=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,3);k=h.toNumber(B[1]);if(isNaN(k))return"";0>k&&(k=0);if(2===B.length)return h.toString(B[0]).substr(k);v=h.toNumber(B[2]);if(isNaN(v))return"";0>v&&(v=0);return h.toString(B[0]).substr(k,
v)})};y.find=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,3);k=0;if(2<B.length){k=h.toNumber(h.defaultUndefined(B[2],0));if(isNaN(k))return-1;0>k&&(k=0)}return h.toString(B[1]).indexOf(h.toString(B[0]),k)})};y.left=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,2);k=h.toNumber(B[1]);if(isNaN(k))return"";0>k&&(k=0);return h.toString(B[0]).substr(0,k)})};y.right=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,2);k=h.toNumber(B[1]);if(isNaN(k))return"";0>k&&(k=0);return h.toString(B[0]).substr(-1*
k,k)})};y.split=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,4);k=h.toNumber(h.defaultUndefined(B[2],-1));v=h.toBoolean(h.defaultUndefined(B[3],!1));-1===k||null===k||!0===v?B=h.toString(B[0]).split(h.toString(B[1])):(isNaN(k)&&(k=-1),-1>k&&(k=-1),B=h.toString(B[0]).split(h.toString(B[1]),k));if(!1===v)return B;v=[];for(var E=0;E<B.length&&!(-1!==k&&v.length>=k);E++)""!==B[E]&&void 0!==B[E]&&v.push(B[E]);return v})};y.text=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,2);return h.toStringExplicit(B[0],
B[1])})};y.concatenate=function(z,q){return x(z,q,function(k,v,B){k=[];if(1>B.length)return"";if(h.isArray(B[0])){v=h.defaultUndefined(B[2],"");for(var E=0;E<B[0].length;E++)k[E]=h.toStringExplicit(B[0][E],v);return 1<B.length?k.join(B[1]):k.join("")}if(h.isImmutableArray(B[0])){v=h.defaultUndefined(B[2],"");for(E=0;E<B[0].length();E++)k[E]=h.toStringExplicit(B[0].get(E),v);return 1<B.length?k.join(B[1]):k.join("")}for(E=0;E<B.length;E++)k[E]=h.toStringExplicit(B[E]);return k.join("")})};y.reverse=
function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(h.isArray(B[0]))return k=B[0].slice(0),k.reverse(),k;if(h.isImmutableArray(B[0]))return k=B[0].toArray().slice(0),k.reverse(),k;throw Error("Invalid Parameter");})};y.replace=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,3,4);k=h.toString(B[0]);v=h.toString(B[1]);var E=h.toString(B[2]);return(4===B.length?h.toBoolean(B[3]):1)?h.multiReplace(k,v,E):k.replace(v,E)})};y.schema=function(z,q){return x(z,q,function(k,v,B){if(B[0]instanceof
n)return(k=B[0].schema())?l.convertObjectToArcadeDictionary(k):null;throw Error("Invalid Parameter");})};y.subtypes=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(B[0]instanceof n)return(k=B[0].subtypes())?l.convertObjectToArcadeDictionary(k):null;throw Error("Invalid Parameter");})};y.subtypecode=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(B[0]instanceof n){v=B[0].subtypes();if(!v)return null;if(v.subtypeField&&B[0].hasField(v.subtypeField))for(B=B[0].field(v.subtypeField),
k=0,v=v.subtypes;k<v.length;k++){var E=v[k];if(E.code===B)return E.code}return null}throw Error("Invalid Parameter");})};y.subtypename=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(B[0]instanceof n){v=B[0].subtypes();if(!v)return"";if(v.subtypeField&&B[0].hasField(v.subtypeField))for(B=B[0].field(v.subtypeField),k=0,v=v.subtypes;k<v.length;k++){var E=v[k];if(E.code===B)return E.name}return""}throw Error("Invalid Parameter");})};y.gdbversion=function(z,q){return x(z,q,function(k,v,
B){h.pcCheck(B,1,1);if(B[0]instanceof n)return B[0].gdbVersion();throw Error("Invalid Parameter");})};y.domain=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,3);if(B[0]instanceof n)return(k=B[0].fullDomain(h.toString(B[1]),void 0===B[2]?void 0:h.toNumber(B[2])))&&k.domain?"coded-value"===k.domain.type||"codedValue"===k.domain.type?l.convertObjectToArcadeDictionary({type:"codedValue",name:k.domain.name,dataType:g.layerFieldEsriConstants[k.field.type],codedValues:k.domain.codedValues.map(function(E){return{name:E.name,
code:E.code}})}):l.convertObjectToArcadeDictionary({type:"range",name:k.domain.name,dataType:g.layerFieldEsriConstants[k.field.type],min:k.domain.min,max:k.domain.max}):null;throw Error("Invalid Parameter");})};y.domainname=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,4);if(B[0]instanceof n)return B[0].domainValueLookup(h.toString(B[1]),B[2],void 0===B[3]?void 0:h.toNumber(B[3]));throw Error("Invalid Parameter");})};y.domaincode=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,2,
4);if(B[0]instanceof n)return B[0].domainCodeLookup(h.toString(B[1]),B[2],void 0===B[3]?void 0:h.toNumber(B[3]));throw Error("Invalid Parameter");})};y.urlencode=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(null===B[0])return"";if(B[0]instanceof l){k="";v=0;for(var E=B[0].keys();v<E.length;v++){var N=E[v],G=B[0].field(N);""!==k&&(k+="\x26");k=null===G?k+(encodeURIComponent(N)+"\x3d"):k+(encodeURIComponent(N)+"\x3d"+encodeURIComponent(G))}return k}return encodeURIComponent(h.toString(B[0]))})};
y.hash=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);k=new d.XXH(0);u(B[0],k,{map:new Map,currentLength:0});return k.digest()})};y.convertdirection=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,3,3);return e.convertDirection(B[0],B[1],B[2])})};y.fromjson=function(z,q){return x(z,q,function(k,v,B){h.pcCheck(B,1,1);if(!1===h.isString(B[0]))throw Error("Invalid Parameter");return l.convertJsonToArcade(JSON.parse(h.toString(B[0])))})};y.expects=function(z,q){return x(z,q,function(k,
v,B){if(1>B.length)throw Error("Function called with wrong number of Parameters");return h.voidOperation})}}})},"esri/arcade/functions/convertdirection":function(){define(["require","exports","../Dictionary","../languageUtils"],function(D,w,a,t){function l(Z){if(!1===t.isString(Z))throw Error("Invalid Parameter");return Z}function n(Z,ka){ka=Math.pow(10,ka);return Math.round(Z*ka)/ka}function h(Z){Z=+Z;return isFinite(Z)?Z-Z%1||(0>Z?-0:0===Z?Z:0):Z}function g(Z){var ka=parseFloat(Z.toString().replace(h(Z).toString(),
"0"))*((0<Z)-(0>Z)||+Z);return 0>Z?{fraction:ka,integer:Math.ceil(Z)}:{fraction:ka,integer:Math.floor(Z)}}function e(Z,ka){switch(Z){case 0:return"SHORT"===ka?"N":"North";case 1:return"SHORT"===ka?"E":"East";case 2:return"SHORT"===ka?"S":"South";case 3:return"SHORT"===ka?"W":"West"}}function d(Z,ka,ua){for(;Z.length<ua;)Z=ka+Z;return Z}function b(Z,ka){return Z-Math.floor(Z/ka)*ka}function c(Z){switch(Z){case 6:case 1:return 360;case 4:return K;case 5:return 400;case 2:return 1296E3;case 7:return 60;
case 8:return 60;default:throw Error("Unnexpected evaluations");}}function f(Z){switch(Z.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function m(Z){switch(Z.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;
case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");}function r(Z,ka,ua){var A=null;switch(ka){case 1:A=w.preciseMultiply(Z,3600);break;case 2:A=Z;break;case 5:A=w.preciseMultiply(Z,3240);break;case 4:A=w.preciseMultiply(Z,I);break;default:throw Error("Unnexpected evaluation");
}switch(ua){case 1:return w.preciseDivide(A,3600);case 2:return A;case 5:return w.preciseDivide(A,3240);case 4:return A/I;default:throw Error("Unnexpected evaluation");}}function p(Z){switch(Z){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function u(Z){switch(t.toNumber(Z)){case 1:return{first:0,second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function y(Z){switch(Z.toUpperCase().trim()){case "N":case "NORTH":return 0;
case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function x(Z){Z=parseFloat(Z);if(t.isNumber(Z)){if(isNaN(Z))throw Error("Invalid conversion");return Z}throw Error("Invalid conversion");}function z(Z,ka,ua){var A=3===ua,F=null,Q=null,X=0,aa=0;aa=0;if(A){if(2>Z.length)throw Error("Conversion Error");aa=1;(Q=u(t.toString(Z[Z.length-1])))?(F=Q.first,Q=Q.second):(X=1,F=y(t.toString(Z[0])),Q=y(t.toString(Z[Z.length-1])));if(null===F||null===Q)throw Error("Invalid Conversion");
}switch(ka){case 1:case 4:case 5:if(0===Z.length)throw Error("Invalid Conversion");return A?oa.createFromAngleMeridianAndDirection(sa.createFromAngleAndUnits(x(Z[X]),p(ka)),F,Q):oa.createFromAngleAndDirection(sa.createFromAngleAndUnits(x(Z[X]),p(ka)),ua);case 3:aa=Z.length-aa-X;if(3===aa)return Z=sa.createFromDegreesMinutesSeconds(x(Z[X]),x(Z[X+1]),x(Z[X+2])),A?oa.createFromAngleMeridianAndDirection(Z,F,Q):oa.createFromAngleAndDirection(Z,ua);if(1===aa)return Z=x(Z[X]),Z=ca.number_to_dms(Z),Z=sa.createFromDegreesMinutesSeconds(Z.m_degrees,
Z.m_minutes,Z.m_seconds),A?oa.createFromAngleMeridianAndDirection(Z,F,Q):oa.createFromAngleAndDirection(Z,ua)}throw Error("Conversion Error");}function q(Z){for(var ka=[" ","-","/","'",'"',"\\","^","\u00b0",O,"\t","\r","\n","*"],ua="",A=0;A<Z.length;A++){var F=Z.charAt(A);ua=-1!==ka.indexOf(F)?ua+"RRSPLITRRSPLITRR":ua+F}return ua.split("RRSPLITRRSPLITRR").filter(function(Q){return""!==Q})}function k(Z,ka,ua){for(var A={padding:0,rounding:0,newpos:ka},F=!1;ka<Z.length;){var Q=Z[ka];if(Q===ua)F?A.rounding++:
A.padding++,ka++;else if("."===Q)F=!0,ka++;else break}A.newpos=ka-1;return A}Object.defineProperty(w,"__esModule",{value:!0});w.convertDirection=w.preciseDivide=w.preciseMultiply=w.preciseMinus=w.preciseAdd=void 0;var v=function(Z){return function(ka,ua,A){A=A||14;return+Z(ka,ua).toFixed(A)}},B=function(Z,ka){return Z+ka},E=function(Z,ka){return Z-ka},N=function(Z,ka){return Z*ka},G=function(Z,ka){return Z/ka};w.preciseAdd=function(Z,ka,ua){return v(B)(Z,ka,ua)};w.preciseMinus=function(Z,ka,ua){return v(E)(Z,
ka,ua)};w.preciseMultiply=function(Z,ka,ua){return v(N)(Z,ka,ua)};w.preciseDivide=function(Z,ka,ua){return v(G)(Z,ka,ua)};var K=2*Math.PI,I=648E3/Math.PI,O=String.fromCharCode(7501),V;(function(Z){Z[Z.north=0]="north";Z[Z.east=1]="east";Z[Z.south=2]="south";Z[Z.west=3]="west"})(V||(V={}));var na;(function(Z){Z[Z.decimal_degrees=1]="decimal_degrees";Z[Z.seconds=2]="seconds";Z[Z.degrees_minutes_seconds=3]="degrees_minutes_seconds";Z[Z.radians=4]="radians";Z[Z.gradians=5]="gradians";Z[Z.truncated_degrees=
6]="truncated_degrees";Z[Z.fractional_degree_minutes=7]="fractional_degree_minutes";Z[Z.fractional_minute_seconds=8]="fractional_minute_seconds"})(na||(na={}));var ja;(function(Z){Z[Z.north_azimuth=1]="north_azimuth";Z[Z.polar=2]="polar";Z[Z.quadrant=3]="quadrant";Z[Z.south_azimuth=4]="south_azimuth"})(ja||(ja={}));var la;(function(Z){Z[Z.meridian=0]="meridian";Z[Z.direction=1]="direction"})(la||(la={}));var ca=function(){function Z(ka,ua,A){this.m_degrees=ka;this.m_minutes=ua;this.m_seconds=A}Z.prototype.get_field=
function(ka){switch(ka){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};Z.seconds_to_DMS=function(ka){var ua=g(ka).fraction;ka=g(ka).integer;var A=Math.floor(ka/3600);ka-=3600*A;var F=Math.floor(ka/60);return new Z(A,F,ka-60*F+ua)};Z.number_to_dms=function(ka){var ua=g(ka).fraction;ka=g(ka).integer;var A=w.preciseMultiply(g(100*ua).fraction,100);ua=g(100*ua).integer;return new Z(ka,ua,A)};Z.prototype.format=
function(ka,ua){ua=n(this.m_seconds,ua);var A=this.m_minutes,F=this.m_degrees;if(2===ka||8===ka)60<=ua&&(ua-=60,++A),60<=A&&(A=0,++F),360<=F&&(F=0);else if(7===ka)ua=0,A=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,F=this.m_degrees,60<=A&&(A=0,++F),360<=F&&(F=0);else if(1===ka||6===ka)ka=w.preciseDivide(this.m_seconds,3600),ua=w.preciseDivide(this.m_minutes,60),F=Math.round(this.m_degrees+ua+ka),ua=A=0;return new Z(F,A,ua)};Z.DMS_to_seconds=function(ka,ua,A){return 3600*ka+60*ua+A};return Z}(),
ea=function(){function Z(ka,ua,A){this.meridian=ka;this.angle=ua;this.direction=A}Z.prototype.fetch_azimuth=function(ka){return 0===ka?this.meridian:this.direction};return Z}(),oa=function(){function Z(ka){this.m_angle=ka}Z.createFromAngleAndDirection=function(ka,ua){return new Z(new sa(Z.convertDirectionFormat(ka.extract_angular_units(2),ua,1)))};Z.prototype.getAngle=function(ka){var ua=this.m_angle.extract_angular_units(2);switch(ka){case 1:case 4:case 2:return ka=new sa(Z.convertDirectionFormat(ua,
1,ka));case 3:return ka=Z.seconds_north_azimuth_to_quadrant(ua),ka=new sa(ka.angle)}};Z.prototype.getMeridian=function(ka){var ua=this.m_angle.extract_angular_units(2);switch(ka){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return Z.seconds_north_azimuth_to_quadrant(ua).meridian}};Z.prototype.getDirection=function(ka){var ua=this.m_angle.extract_angular_units(2);switch(ka){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return Z.seconds_north_azimuth_to_quadrant(ua).direction}};Z.seconds_north_azimuth_to_quadrant=
function(ka){var ua=324E3>=ka||972E3<=ka?0:2;return new ea(ua,0===ua?Math.min(1296E3-ka,ka):Math.abs(ka-648E3),648E3<ka?3:1)};Z.createFromAngleMeridianAndDirection=function(ka,ua,A){return new Z(new sa(Z.secondsQuadrantToNorthAzimuth(ka.extract_angular_units(2),ua,A)))};Z.secondsQuadrantToNorthAzimuth=function(ka,ua,A){return 0===ua?1===A?ka:1296E3-ka:1===A?648E3-ka:648E3+ka};Z.convertDirectionFormat=function(ka,ua,A){var F=0;switch(ua){case 1:F=ka;break;case 2:F=324E3-ka;break;case 3:throw Error("Unnexpected evaluation");
case 4:F=ka+648E3}ka=0;switch(A){case 1:ka=F;break;case 2:ka=324E3-F;break;case 3:throw Error("Unnexpected evaluation");case 4:ka=F-648E3}ka%=1296E3;return 0>ka?1296E3+ka:ka};return Z}(),sa=function(){function Z(ka){this.m_seconds=ka}Z.createFromAngleAndUnits=function(ka,ua){return new Z(r(ka,ua,2))};Z.prototype.extract_angular_units=function(ka){return r(this.m_seconds,2,p(ka))};Z.createFromDegreesMinutesSeconds=function(ka,ua,A){return new Z(w.preciseAdd(w.preciseAdd(w.preciseMultiply(ka,3600),
w.preciseMultiply(ua,60)),A))};return Z}(),za=function(){function Z(ka,ua,A,F){this.m_view=ka;this.m_angle=ua;this.m_merdian=A;this.m_direction=F;this.m_formatted_dms=this.m_dms=null}Z.createFromStringAndBearing=function(ka,ua,A){return new Z(ka,ua.getAngle(A),ua.getMeridian(A),ua.getDirection(A))};Z.prototype.fetch_angle=function(){return this.m_angle};Z.prototype.fetch_meridian=function(){return this.m_merdian};Z.prototype.fetch_direction=function(){return this.m_direction};Z.prototype.fetch_m_view=
function(){return this.m_view};Z.prototype.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};Z.prototype.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};Z.prototype.calculate_dms=function(){var ka=null,ua=6,A=0;for(ka=0;ka<this.m_view.length;ka++){var F=this.m_view[ka];switch(F){case "m":ka=k(this.m_view,ka,F);ua=6===ua?7:ua;ka=ka.newpos;continue;case "s":ka=k(this.m_view,ka,F),ua=8,A=A<ka.rounding?ka.rounding:
A,ka=ka.newpos}}this.m_dms=ca.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=ca.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(ua,A)};return Z}();w.convertDirection=function(Z,ka,ua){if(!(ka instanceof a))throw Error("Invalid Parameter");if(!1===ka.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===ka.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var A=f(l(ka.field("directiontype")));
ka=m(l(ka.field("angletype")));if(t.isNumber(Z)){Z=t.toNumber(Z);if(3===A)throw Error("Conversion error");3===ka?(Z=ca.number_to_dms(Z),ka=oa.createFromAngleAndDirection(sa.createFromDegreesMinutesSeconds(Z.m_degrees,Z.m_minutes,Z.m_seconds),A)):ka=oa.createFromAngleAndDirection(sa.createFromAngleAndUnits(Z,p(ka)),A)}else if(t.isString(Z))ka=z(q(Z),ka,A);else if(t.isArray(Z))ka=z(Z,ka,A);else if(t.isImmutableArray(Z))ka=z(Z.toArray(),ka,A);else throw Error("Conversion Error");if(!(ua instanceof a))throw Error("Invalid Parameter");
if(!1===ua.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===ua.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");A=f(l(ua.field("directiontype")));Z=ua.hasField("angleType")?m(l(ua.field("angletype"))):null;var F=l(ua.field("outputType")).toUpperCase().trim();if(!A||!F)throw Error("Conversion error");if(!(Z||"TEXT"===F&&ua.hasField("format")))throw Error("Invalid unit");switch(F){case "VALUE":if(3===A||3===Z)return ua=ka,ka=ua.getAngle(A),
3===A&&3===Z?(Z=ca.seconds_to_DMS(ka.extract_angular_units(2)),A=[e(ua.getMeridian(A),"SHORT"),Z.m_degrees,Z.m_minutes,Z.m_seconds,e(ua.getDirection(A),"SHORT")]):3===Z?(Z=ca.seconds_to_DMS(ka.extract_angular_units(2)),A=[Z.m_degrees,Z.m_minutes,Z.m_seconds]):A=3===A?[e(ua.getMeridian(A),"SHORT"),ka.extract_angular_units(Z),e(ua.getDirection(A),"SHORT")]:[ka.extract_angular_units(Z)],A;ua=ka;if((ka=p(Z))&&3!==Z)A=ua.getAngle(A).extract_angular_units(ka);else throw Error("Conversion Error");return A;
case "TEXT":F="";ua.hasField("format")&&(F=t.toString(ua.field("format")));if(null===F||""===F){ua="";switch(Z){case 1:ua=3===A?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:ua=3===A?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:ua="R.RR";break;case 5:ua="GGG.GG"+O;break;default:throw Error("Conversion error");}3===A&&(ua="p "+ua+" b");F=ua}ua=ka;Z=F;var Q="",X=null,aa=null;ka=za.createFromStringAndBearing(Z,ua,A);F={D:1,d:6,m:7,s:8,R:4,G:5};for(aa=0;aa<Z.length;aa++){var pa=Z[aa];switch(pa){case "[":X=
Z;pa={escaped:"",newpos:aa};for(aa++;aa<X.length;){var ra=X[aa];aa++;if("]"===ra)break;pa.escaped+=ra}pa.newpos=aa-1;X=pa;Q+=X.escaped;aa=X.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":X=k(Z,aa,pa);aa=ua.getAngle(A);a:{pa=F[pa];ra=X.padding;var T=X.rounding,U=ka,ba=null;switch(pa){case 1:case 4:case 5:ba=b(n(aa.extract_angular_units(pa),T),c(pa));aa=d(ba.toFixed(T),"0",ra+T+(0<T?1:0));break a;case 6:case 7:ba=b(U.fetch_formatted_dms().get_field(pa),c(pa));aa=d(ba.toFixed(T),
"0",ra+T+(0<T?1:0));break a;case 8:ba=b(n(U.fetch_dms().get_field(pa),T),c(pa));aa=d(ba.toFixed(T),"0",ra+T+(0<T?1:0));break a;default:throw Error("Unnexepected evaluation");}}Q+=aa;aa=X.newpos;continue;case "P":case "p":Q+=e(ka.fetch_meridian(),"p"===pa?"SHORT":"LONG");continue;case "B":case "b":Q+=e(ka.fetch_direction(),"b"===pa?"SHORT":"LONG");continue;default:Q+=pa}}return Q;default:throw Error("Invalid Parameter");}}})},"esri/arcade/functions/hash":function(){define(["require","exports"],function(D,
w){function a(t){for(var l=[],n=0,h=t.length;n<h;n++){var g=t.charCodeAt(n);128>g?l.push(g):2048>g?l.push(192|g>>6,128|g&63):55296>g||57344<=g?l.push(224|g>>12,128|g>>6&63,128|g&63):(n++,g=65536+((g&1023)<<10|t.charCodeAt(n)&1023),l.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}return new Uint8Array(l)}Object.defineProperty(w,"__esModule",{value:!0});w.XXH=void 0;D=function(){function t(l){this.seed=l;this.totallen=0;this.bufs=[];this.init()}t.prototype.init=function(){this.bufs=[];this.totallen=
0;return this};t.prototype.updateFloatArray=function(l){for(var n=[],h=0;h<l.length;h++){var g=l[h];isNaN(g)?n.push("NaN"):Infinity===g?n.push("Infinity"):-Infinity===g?n.push("-Infinity"):0===g?n.push("0"):n.push(g.toString(16))}this.update(a(n.join("")))};t.prototype.updateIntArray=function(l){l=Int32Array.from(l);this.update(new Uint8Array(l.buffer))};t.prototype.updateUint8Array=function(l){this.update(Uint8Array.from(l))};t.prototype.updateWithString=function(l){return this.update(a(l))};t.prototype.update=
function(l){this.bufs.push(l);this.totallen+=l.length;return this};t.prototype.digest=function(){for(var l=new Uint8Array(this.totallen),n=0,h=0,g=this.bufs;h<g.length;h++){var e=g[h];l.set(e,n);n+=e.length}this.init();return this.xxHash32(l,this.seed)};t.prototype.xxHash32=function(l,n){void 0===n&&(n=0);var h=n+374761393&4294967295,g=0;if(16<=l.length){h=[n+2654435761+2246822519&4294967295,n+2246822519&4294967295,n+0&4294967295,n-2654435761&4294967295];var e=l.length-16;for(g=n=0;(g&4294967280)<=
e;g+=4){var d=g,b=l[d+0]+(l[d+1]<<8);d=l[d+2]+(l[d+3]<<8);b=h[n]+(2246822519*b+(2246822519*d<<16))&4294967295;b=b<<13|b>>>19;h[n]=2654435761*(b&65535)+(2654435761*(b>>>16)<<16)&4294967295;n=n+1&3}h=(h[0]<<1|h[0]>>>31)+(h[1]<<7|h[1]>>>25)+(h[2]<<12|h[2]>>>20)+(h[3]<<18|h[3]>>>14)&4294967295}h=h+l.length&4294967295;for(n=l.length-4;g<=n;g+=4)d=g,b=l[d+0]+(l[d+1]<<8),d=l[d+2]+(l[d+3]<<8),h=h+(3266489917*b+(3266489917*d<<16))&4294967295,h=h<<17|h>>>15,h=668265263*(h&65535)+(668265263*(h>>>16)<<16)&4294967295;
for(;g<l.length;++g)n=l[g],h+=374761393*n,h=h<<11|h>>>21,h=2654435761*(h&65535)+(2654435761*(h>>>16)<<16)&4294967295;h^=h>>>15;h=(2246822519*(h&65535)&4294967295)+(2246822519*(h>>>16)<<16);h^=h>>>13;h=(3266489917*(h&65535)&4294967295)+(3266489917*(h>>>16)<<16);h^=h>>>16;return 0>h?h+4294967296:h};return t}();w.XXH=D})},"esri/arcade/arcadeRuntime":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z,q,k,v,B,E){function N(T,U){for(var ba=[],ma=0;ma<U.arguments.length;ma++)ba.push(K(T,U.arguments[ma]));return ba}function G(T,U,ba){try{return ba(T,U,N(T,U))}catch(ma){throw ma;}}function K(T,U){try{switch(U.type){case "EmptyStatement":return d.voidOperation;case "VariableDeclarator":var ba=null===U.init?null:K(T,U.init);ba===d.voidOperation&&(ba=null);if("Identifier"!==U.id.type)throw Error("Can only assign a regular variable");var ma=U.id.name.toLowerCase();
null!==T.localScope?T.localScope[ma]={value:ba,valueset:!0,node:U.init}:T.globalScope[ma]={value:ba,valueset:!0,node:U.init};return d.voidOperation;case "VariableDeclaration":for(var da=0;da<U.declarations.length;da++)K(T,U.declarations[da]);return d.voidOperation;case "BlockStatement":a:{var Aa=d.voidOperation;for(da=0;da<U.body.length;da++)if(Aa=K(T,U.body[da]),Aa instanceof d.ReturnResult||Aa===d.breakResult||Aa===d.continueResult){var R=Aa;break a}R=Aa}return R;case "FunctionDeclaration":var P=
U.id.name.toLowerCase();T.globalScope[P]={valueset:!0,node:null,value:new h(U,T)};return d.voidOperation;case "ReturnStatement":if(null===U.argument)var Y=new d.ReturnResult(d.voidOperation);else{var ha=K(T,U.argument);Y=new d.ReturnResult(ha)}return Y;case "IfStatement":if("AssignmentExpression"===U.test.type||"UpdateExpression"===U.test.type)throw Error(b.nodeErrorMessage(U.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var ta=K(T,U.test);if(!0===ta)var Da=K(T,U.consequent);else if(!1===
ta)Da=null!==U.alternate?K(T,U.alternate):d.voidOperation;else throw Error(b.nodeErrorMessage(U,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return Da;case "ExpressionStatement":if("AssignmentExpression"===U.expression.type||"UpdateExpression"===U.expression.type)var Ga=K(T,U.expression);else{var Ma=K(T,U.expression);Ga=Ma===d.voidOperation?d.voidOperation:new d.ImplicitResult(Ma)}return Ga;case "AssignmentExpression":var Ia=K(T,U.right);da=null;var Fa="";if("MemberExpression"===U.left.type){da=
K(T,U.left.object);!0===U.left.computed?Fa=K(T,U.left.property):"Identifier"===U.left.property.type&&(Fa=U.left.property.name);if(d.isArray(da))if(d.isNumber(Fa)){0>Fa&&(Fa=da.length+Fa);if(0>Fa||Fa>da.length)throw Error("Assignment outside of array bounds");if(Fa===da.length&&"\x3d"!==U.operator)throw Error("Invalid Parameter");da[Fa]=O(Ia,U.operator,da[Fa],U)}else throw Error("Invalid Parameter");else if(da instanceof l){if(!1===d.isString(Fa))throw Error("Dictionary accessor must be a string");
if(!0===da.hasField(Fa))da.setField(Fa,O(Ia,U.operator,da.field(Fa),U));else{if("\x3d"!==U.operator)throw Error("Invalid Parameter");da.setField(Fa,O(Ia,U.operator,null,U))}}else if(da instanceof n){if(!1===d.isString(Fa))throw Error("Feature accessor must be a string");if(!0===da.hasField(Fa))da.setField(Fa,O(Ia,U.operator,da.field(Fa),U));else{if("\x3d"!==U.operator)throw Error("Invalid Parameter");da.setField(Fa,O(Ia,U.operator,null,U))}}else{if(d.isImmutableArray(da))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var La=d.voidOperation}else if(da=U.left.name.toLowerCase(),null!==T.localScope&&void 0!==T.localScope[da])T.localScope[da]={value:O(Ia,U.operator,T.localScope[da].value,U),valueset:!0,node:U.right},La=d.voidOperation;else if(void 0!==T.globalScope[da])T.globalScope[da]={value:O(Ia,U.operator,T.globalScope[da].value,U),valueset:!0,node:U.right},La=d.voidOperation;else throw Error("Variable not recognised");return La;case "UpdateExpression":da=null;Fa="";if("MemberExpression"===
U.argument.type){da=K(T,U.argument.object);!0===U.argument.computed?Fa=K(T,U.argument.property):"Identifier"===U.argument.property.type&&(Fa=U.argument.property.name);if(d.isArray(da))if(d.isNumber(Fa)){0>Fa&&(Fa=da.length+Fa);if(0>Fa||Fa>=da.length)throw Error("Assignment outside of array bounds");var Ka=d.toNumber(da[Fa]);da[Fa]="++"===U.operator?Ka+1:Ka-1}else throw Error("Invalid Parameter");else if(da instanceof l){if(!1===d.isString(Fa))throw Error("Dictionary accessor must be a string");if(!0===
da.hasField(Fa))Ka=d.toNumber(da.field(Fa)),da.setField(Fa,"++"===U.operator?Ka+1:Ka-1);else throw Error("Invalid Parameter");}else if(da instanceof n){if(!1===d.isString(Fa))throw Error("Feature accessor must be a string");if(!0===da.hasField(Fa))Ka=d.toNumber(da.field(Fa)),da.setField(Fa,"++"===U.operator?Ka+1:Ka-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(da))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var M=!1===U.prefix?Ka:"++"===U.operator?Ka+
1:Ka-1}else{da="Identifier"===U.argument.type?U.argument.name.toLowerCase():"";if(!da)throw Error("Invalid identifier");if(null!==T.localScope&&void 0!==T.localScope[da])Ka=d.toNumber(T.localScope[da].value),T.localScope[da]={value:"++"===U.operator?Ka+1:Ka-1,valueset:!0,node:U},M=!1===U.prefix?Ka:"++"===U.operator?Ka+1:Ka-1;else if(void 0!==T.globalScope[da])Ka=d.toNumber(T.globalScope[da].value),T.globalScope[da]={value:"++"===U.operator?Ka+1:Ka-1,valueset:!0,node:U},M=!1===U.prefix?Ka:"++"===U.operator?
Ka+1:Ka-1;else throw Error("Variable not recognised");}return M;case "BreakStatement":return d.breakResult;case "ContinueStatement":return d.continueResult;case "TemplateElement":return U.value?U.value.cooked:"";case "TemplateLiteral":var W="",fa=0;La=0;for(da=U.quasis;La<da.length;La++)if(Fa=da[La],W+=Fa.value?Fa.value.cooked:"",!1===Fa.tail){var qa=U.expressions[fa]?d.toString(K(T,U.expressions[fa])):"";W+=qa;fa++}return W;case "ForStatement":null!==U.init&&K(T,U.init);fa={testResult:!0,lastAction:d.voidOperation};
do b:{da=T;Fa=U;qa=fa;if(null!==Fa.test){qa.testResult=K(da,Fa.test);if(!1===qa.testResult)break b;if(!0!==qa.testResult)throw Error(b.nodeErrorMessage(Fa,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}qa.lastAction=K(da,Fa.body);qa.lastAction===d.breakResult?qa.testResult=!1:qa.lastAction instanceof d.ReturnResult?qa.testResult=!1:null!==Fa.update&&K(da,Fa.update)}while(!0===fa.testResult);W=fa.lastAction instanceof d.ReturnResult?fa.lastAction:d.voidOperation;return W;case "ForInStatement":return I(T,
U);case "Identifier":return ea(T,U);case "MemberExpression":return na(T,U);case "Literal":return U.value;case "CallExpression":return oa(T,U);case "UnaryExpression":return ja(T,U);case "BinaryExpression":return la(T,U);case "LogicalExpression":return ca(T,U);case "ArrayExpression":try{for(da=[],Fa=0;Fa<U.elements.length;Fa++){var wa=K(T,U.elements[Fa]);if(d.isFunctionParameter(wa))throw Error(b.nodeErrorMessage(U,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));wa===d.voidOperation?da.push(null):da.push(wa)}}catch(Ja){throw Ja;
}return da;case "ObjectExpression":da={};for(Fa=0;Fa<U.properties.length;Fa++){var ya=K(T,U.properties[Fa]);if(d.isFunctionParameter(ya.value))throw Error("Illegal Argument");if(!1===d.isString(ya.key))throw Error("Illegal Argument");da[ya.key.toString()]=ya.value===d.voidOperation?null:ya.value}var Ba=new l(da);Ba.immutable=!1;return Ba;case "Property":return{key:"Identifier"===U.key.type?U.key.name:K(T,U.key),value:K(T,U.value)};default:throw Error(b.nodeErrorMessage(U,"RUNTIME","UNREOGNISED"));
}}catch(Ja){throw Ja;}}function I(T,U){var ba=K(T,U.right);"VariableDeclaration"===U.left.type&&K(T,U.left);var ma=null,da="";if("VariableDeclaration"===U.left.type){var Aa=U.left.declarations[0].id;"Identifier"===Aa.type&&(da=Aa.name)}else"Identifier"===U.left.type&&(da=U.left.name);if(!da)throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDVARIABLE"));da=da.toLowerCase();null!==T.localScope&&void 0!==T.localScope[da]&&(ma=T.localScope[da]);null===ma&&void 0!==T.globalScope[da]&&(ma=T.globalScope[da]);
if(null===ma)throw Error(b.nodeErrorMessage(U,"RUNTIME","VARIABLENOTDECLARED"));if(d.isArray(ba)||d.isString(ba)){ba=ba.length;for(Aa=0;Aa<ba;Aa++){ma.value=Aa;da=K(T,U.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}return d.voidOperation}if(d.isImmutableArray(ba)){for(Aa=0;Aa<ba.length();Aa++){ma.value=Aa;da=K(T,U.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}return d.voidOperation}if(ba instanceof l||ba instanceof n)for(ba=ba.keys(),Aa=
0;Aa<ba.length;Aa++){ma.value=ba[Aa];da=K(T,U.body);if(da===d.breakResult)break;if(da instanceof d.ReturnResult)return da}else return d.voidOperation}function O(T,U,ba,ma){switch(U){case "\x3d":return T===d.voidOperation?null:T;case "/\x3d":return d.toNumber(ba)/d.toNumber(T);case "*\x3d":return d.toNumber(ba)*d.toNumber(T);case "-\x3d":return d.toNumber(ba)-d.toNumber(T);case "+\x3d":return d.isString(ba)||d.isString(T)?d.toString(ba)+d.toString(T):d.toNumber(ba)+d.toNumber(T);case "%\x3d":return d.toNumber(ba)%
d.toNumber(T);default:throw Error(b.nodeErrorMessage(ma,"RUNTIME","OPERATORNOTRECOGNISED"));}}function V(T,U,ba){U=U.toLowerCase();switch(U){case "hasz":return T=T.hasZ,void 0===T?!1:T;case "hasm":return T=T.hasM,void 0===T?!1:T;case "spatialreference":return U=T.spatialReference._arcadeCacheId,void 0===U&&(ba=!0,Object.freeze&&Object.isFrozen(T.spatialReference)&&(ba=!1),ba&&(X++,U=T.spatialReference._arcadeCacheId=X)),T=new l({wkt:T.spatialReference.wkt,wkid:T.spatialReference.wkid}),void 0!==U&&
(T._arcadeCacheId="SPREF"+U.toString()),T}switch(T.type){case "extent":switch(U){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return T=T[U],void 0!==T?T:null;case "type":return"Extent"}break;case "polygon":switch(U){case "rings":return U=T.getCacheValue("_arcadeCacheId"),void 0===U&&(X++,U=X,T.setCacheValue("_arcadeCacheId",U)),T=new g(T.rings,T.spatialReference,!0===T.hasZ,!0===T.hasM,U);case "type":return"Polygon"}break;case "point":switch(U){case "x":case "y":case "z":case "m":return void 0!==
T[U]?T[U]:null;case "type":return"Point"}break;case "polyline":switch(U){case "paths":return U=T.getCacheValue("_arcadeCacheId"),void 0===U&&(X++,U=X,T.setCacheValue("_arcadeCacheId",U)),T=new g(T.paths,T.spatialReference,!0===T.hasZ,!0===T.hasM,U);case "type":return"Polyline"}break;case "multipoint":switch(U){case "points":return U=T.getCacheValue("_arcadeCacheId"),void 0===U&&(X++,U=X,T.setCacheValue("_arcadeCacheId",U)),T=new e(T.points,T.spatialReference,!0===T.hasZ,!0===T.hasM,U,1);case "type":return"Multipoint"}}throw Error(b.nodeErrorMessage(ba,
"RUNTIME","PROPERTYNOTFOUND"));}function na(T,U){try{var ba=K(T,U.object);if(null===ba)throw Error(b.nodeErrorMessage(U,"RUNTIME","NOTFOUND"));if(!1===U.computed){if("Identifier"===U.property.type){if(ba instanceof l||ba instanceof n)return ba.field(U.property.name);if(ba instanceof z)return V(ba,U.property.name,U)}throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDTYPE"));}var ma=K(T,U.property);if(ba instanceof l||ba instanceof n){if(d.isString(ma))return ba.field(ma);throw Error(b.nodeErrorMessage(U,
"RUNTIME","INVALIDTYPE"));}if(ba instanceof z){if(d.isString(ma))return V(ba,ma,U);throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDTYPE"));}if(d.isArray(ba)){if(d.isNumber(ma)&&isFinite(ma)&&Math.floor(ma)===ma){0>ma&&(ma=ba.length+ma);if(ma>=ba.length||0>ma)throw Error(b.nodeErrorMessage(U,"RUNTIME","OUTOFBOUNDS"));return ba[ma]}throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDTYPE"));}if(d.isString(ba)){if(d.isNumber(ma)&&isFinite(ma)&&Math.floor(ma)===ma){0>ma&&(ma=ba.length+ma);if(ma>=ba.length||
0>ma)throw Error(b.nodeErrorMessage(U,"RUNTIME","OUTOFBOUNDS"));return ba[ma]}throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(ba)&&d.isNumber(ma)&&isFinite(ma)&&Math.floor(ma)===ma){0>ma&&(ma=ba.length()+ma);if(ma>=ba.length()||0>ma)throw Error(b.nodeErrorMessage(U,"RUNTIME","OUTOFBOUNDS"));return ba.get(ma)}throw Error(b.nodeErrorMessage(U,"RUNTIME","INVALIDTYPE"));}catch(da){throw da;}}function ja(T,U){try{var ba=K(T,U.argument);if(d.isBoolean(ba)){if("!"===U.operator)return!ba;
if("-"===U.operator)return-1*d.toNumber(ba);if("+"===U.operator)return 1*d.toNumber(ba);if("~"===U.operator)return~d.toNumber(ba);throw Error(b.nodeErrorMessage(U,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===U.operator)return~d.toNumber(ba);if("-"===U.operator)return-1*d.toNumber(ba);if("+"===U.operator)return 1*d.toNumber(ba);throw Error(b.nodeErrorMessage(U,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(ma){throw ma;}}function la(T,U){try{var ba=[K(T,U.left),K(T,U.right)],ma=ba[0],da=ba[1];
switch(U.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(ma),d.toNumber(da),U.operator);case "\x3d\x3d":return d.equalityTest(ma,da);case "!\x3d":return!d.equalityTest(ma,da);case "\x3c":return d.greaterThanLessThan(ma,da,U.operator);case "\x3e":return d.greaterThanLessThan(ma,da,U.operator);case "\x3c\x3d":return d.greaterThanLessThan(ma,da,U.operator);case "\x3e\x3d":return d.greaterThanLessThan(ma,da,U.operator);case "+":return d.isString(ma)||
d.isString(da)?d.toString(ma)+d.toString(da):d.toNumber(ma)+d.toNumber(da);case "-":return d.toNumber(ma)-d.toNumber(da);case "*":return d.toNumber(ma)*d.toNumber(da);case "/":return d.toNumber(ma)/d.toNumber(da);case "%":return d.toNumber(ma)%d.toNumber(da);default:throw Error(b.nodeErrorMessage(U,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Aa){throw Aa;}}function ca(T,U){try{if("AssignmentExpression"===U.left.type||"UpdateExpression"===U.left.type)throw Error(b.nodeErrorMessage(U.left,"RUNTIME",
"CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===U.right.type||"UpdateExpression"===U.right.type)throw Error(b.nodeErrorMessage(U.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var ba=K(T,U.left);if(d.isBoolean(ba))switch(U.operator){case "||":if(!0===ba)return ba;var ma=K(T,U.right);if(d.isBoolean(ma))return ma;throw Error(b.nodeErrorMessage(U,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===ba)return ba;ma=K(T,U.right);if(d.isBoolean(ma))return ma;throw Error(b.nodeErrorMessage(U,
"RUNTIME","ONLYORORAND"));default:throw Error(b.nodeErrorMessage(U,"RUNTIME","ONLYORORAND"));}throw Error(b.nodeErrorMessage(U,"RUNTIME","ONLYBOOLEAN"));}catch(da){throw da;}}function ea(T,U){try{var ba=U.name.toLowerCase();if(null!==T.localScope&&void 0!==T.localScope[ba]){var ma=T.localScope[ba];if(!0===ma.valueset)return ma.value;ma.value=K(T,ma.node);ma.valueset=!0;return ma.value}if(void 0!==T.globalScope[ba]){ma=T.globalScope[ba];if(!0===ma.valueset)return ma.value;ma.value=K(T,ma.node);ma.valueset=
!0;return ma.value}throw Error(b.nodeErrorMessage(U,"RUNTIME","VARIABLENOTFOUND"));}catch(da){throw da;}}function oa(T,U){try{if("Identifier"!==U.callee.type)throw Error(b.nodeErrorMessage(U,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==T.localScope&&void 0!==T.localScope[U.callee.name.toLowerCase()]){var ba=T.localScope[U.callee.name.toLowerCase()];if(ba.value instanceof d.NativeFunction)return ba.value.fn(T,U);if(ba.value instanceof h)return A(T,U,ba.value.definition);throw Error(b.nodeErrorMessage(U,
"RUNTIME","NOTAFUNCTION"));}if(void 0!==T.globalScope[U.callee.name.toLowerCase()]){ba=T.globalScope[U.callee.name.toLowerCase()];if(ba.value instanceof d.NativeFunction)return ba.value.fn(T,U);if(ba.value instanceof h)return A(T,U,ba.value.definition);throw Error(b.nodeErrorMessage(U,"RUNTIME","NOTAFUNCTION"));}throw Error(b.nodeErrorMessage(U,"RUNTIME","NOTFOUND"));}catch(ma){throw ma;}}function sa(T){return null==T?"":d.isArray(T)||d.isImmutableArray(T)?"Array":d.isDate(T)?"Date":d.isString(T)?
"String":d.isBoolean(T)?"Boolean":d.isNumber(T)?"Number":T instanceof t?"Attachment":T instanceof a?"Portal":T instanceof l?"Dictionary":T instanceof n?"Feature":T instanceof k?"Point":T instanceof v?"Polygon":T instanceof B?"Polyline":T instanceof q?"Multipoint":T instanceof x?"Extent":d.isFunctionParameter(T)?"Function":d.isFeatureSet(T)?"FeatureSet":d.isFeatureSetCollection(T)?"FeatureSetCollection":T===d.voidOperation?"":"number"===typeof T&&isNaN(T)?"Number":"Unrecognised Type"}function za(T,
U,ba,ma){try{var da=K(T,U.arguments[ba]);if(d.equalityTest(da,ma))return K(T,U.arguments[ba+1]);var Aa=U.arguments.length-ba;return 1===Aa?K(T,U.arguments[ba]):2===Aa?null:3===Aa?K(T,U.arguments[ba+2]):za(T,U,ba+2,ma)}catch(R){throw R;}}function Z(T,U,ba,ma){try{if(!0===ma)return K(T,U.arguments[ba+1]);if(3===U.arguments.length-ba)return K(T,U.arguments[ba+2]);var da=K(T,U.arguments[ba+2]);if(!1===d.isBoolean(da))throw Error("WHEN needs boolean test conditions");return Z(T,U,ba+2,da)}catch(Aa){throw Aa;
}}function ka(T,U){var ba=T.length,ma=Math.floor(ba/2);if(0===ba)return[];if(1===ba)return[T[0]];var da=ka(T.slice(0,ma),U);T=ka(T.slice(ma,ba),U);for(ba=[];0<da.length||0<T.length;)0<da.length&&0<T.length?(ma=U(da[0],T[0]),isNaN(ma)&&(ma=0),0>=ma?(ba.push(da[0]),da=da.slice(1)):(ba.push(T[0]),T=T.slice(1))):0<da.length?(ba.push(da[0]),da=da.slice(1)):0<T.length&&(ba.push(T[0]),T=T.slice(1));return ba}function ua(T,U,ba){try{var ma=T.body;if(ba.length!==T.params.length)throw Error("Invalid Parameter calls to function.");
for(var da=0;da<ba.length;da++)U.localScope[T.params[da].name.toLowerCase()]={value:ba[da],valueset:!0,node:null};var Aa=K(U,ma);if(Aa instanceof d.ReturnResult)return Aa.value;if(Aa===d.breakResult)throw Error("Cannot Break from a Function");if(Aa===d.continueResult)throw Error("Cannot Continue from a Function");return Aa instanceof d.ImplicitResult?Aa.value:Aa}catch(R){throw R;}}function A(T,U,ba){return G(T,U,function(ma,da,Aa){ma={spatialReference:T.spatialReference,globalScope:T.globalScope,
depthCounter:T.depthCounter+1,console:T.console,lrucache:T.lrucache,interceptor:T.interceptor,localScope:{}};if(64<ma.depthCounter)throw Error("Exceeded maximum function depth");return ua(ba,ma,Aa)})}function F(T){return function(){var U={spatialReference:T.context.spatialReference,console:T.context.console,lrucache:T.context.lrucache,interceptor:T.context.interceptor,localScope:{},depthCounter:T.context.depthCounter+1,globalScope:T.context.globalScope};if(64<U.depthCounter)throw Error("Exceeded maximum function depth");
return ua(T.definition,U,arguments)}}function Q(T){console.log(T)}Object.defineProperty(w,"__esModule",{value:!0});w.findFunctionCalls=w.referencesFunction=w.referencesMember=w.validateScript=w.extractExpectedFieldLiterals=w.extractFieldLiterals=w.executeScript=w.extend=w.functionHelper=void 0;var X=0,aa={};c.registerFunctions(aa,G);f.registerFunctions(aa,G);y.registerFunctions(aa,G);p.registerFunctions(aa,G);m.registerFunctions(aa,G);u.registerFunctions(aa,G);r.registerFunctions(aa,G);aa["typeof"]=
function(T,U){return G(T,U,function(ba,ma,da){d.pcCheck(da,1,1);ba=sa(da[0]);if("Unrecognised Type"===ba)throw Error("Unrecognised Type");return ba})};aa.iif=function(T,U){try{d.pcCheck(null===U.arguments?[]:U.arguments,3,3);var ba=K(T,U.arguments[0]);if(!1===d.isBoolean(ba))throw Error("IF Function must have a boolean test condition");var ma=K(T,U.arguments[1]),da=K(T,U.arguments[2]);return!0===ba?ma:da}catch(Aa){throw Aa;}};aa.decode=function(T,U){try{if(2>U.arguments.length)throw Error("Missing Parameters");
if(2===U.arguments.length)return K(T,U.arguments[1]);if(0===(U.arguments.length-1)%2)throw Error("Must have a default value result.");var ba=K(T,U.arguments[0]);return za(T,U,1,ba)}catch(ma){throw ma;}};aa.when=function(T,U){try{if(3>U.arguments.length)throw Error("Missing Parameters");if(0===U.arguments.length%2)throw Error("Must have a default value result.");var ba=K(T,U.arguments[0]);if(!1===d.isBoolean(ba))throw Error("WHEN needs boolean test conditions");return Z(T,U,0,ba)}catch(ma){throw ma;
}};aa.top=function(T,U){return G(T,U,function(ba,ma,da){d.pcCheck(da,2,2);if(d.isArray(da[0]))return d.toNumber(da[1])>=da[0].length?da[0].slice(0):da[0].slice(0,d.toNumber(da[1]));if(d.isImmutableArray(da[0]))return d.toNumber(da[1])>=da[0].length()?da[0].slice(0):da[0].slice(0,d.toNumber(da[1]));throw Error("Top cannot accept this parameter type");})};aa.first=function(T,U){return G(T,U,function(ba,ma,da){d.pcCheck(da,1,1);return d.isArray(da[0])?0===da[0].length?null:da[0][0]:d.isImmutableArray(da[0])?
0===da[0].length()?null:da[0].get(0):null})};aa.sort=function(T,U){return G(T,U,function(ba,ma,da){d.pcCheck(da,1,2);ba=da[0];d.isImmutableArray(ba)&&(ba=ba.toArray());if(!1===d.isArray(ba))throw Error("Illegal Argument");if(1<da.length){if(!1===d.isFunctionParameter(da[1]))throw Error("Illegal Argument");var Aa=F(da[1]);return ba=ka(ba,function(Y,ha){return Aa(Y,ha)})}if(0===ba.length)return[];da={};for(ma=0;ma<ba.length;ma++){var R=sa(ba[ma]);""!==R&&(da[R]=!0)}if(!0===da.Array||!0===da.Dictionary||
!0===da.Feature||!0===da.Point||!0===da.Polygon||!0===da.Polyline||!0===da.Multipoint||!0===da.Extent||!0===da.Function)return ba.slice(0);ma=0;R="";for(var P in da)ma++,R=P;return ba=1<ma||"String"===R?ka(ba,function(Y,ha){if(null===Y||void 0===Y||Y===d.voidOperation)return null===ha||void 0===ha||ha===d.voidOperation?0:1;if(null===ha||void 0===ha||ha===d.voidOperation)return-1;Y=d.toString(Y);ha=d.toString(ha);return Y<ha?-1:Y===ha?0:1}):"Number"===R?ka(ba,function(Y,ha){return Y-ha}):"Boolean"===
R?ka(ba,function(Y,ha){return Y===ha?0:ha?-1:1}):"Date"===R?ka(ba,function(Y,ha){return ha-Y}):ba.slice(0)})};for(var pa in aa)aa[pa]={value:new d.NativeFunction(aa[pa]),valueset:!0,node:null};var ra=function(){};ra.prototype=aa;ra.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};ra.prototype.pi={value:Math.PI,valueset:!0,node:null};w.functionHelper={fixSpatialReference:d.fixSpatialReference,parseArguments:N,standardFunction:G};w.extend=function(T){for(var U={mode:"sync",
compiled:!1,functions:{},signatures:[],standardFunction:G,evaluateIdentifier:ea,arcadeCustomFunctionHandler:F},ba=0;ba<T.length;ba++)T[ba].registerFunctions(U);for(var ma in U.functions)aa[ma]={value:new d.NativeFunction(U.functions[ma]),valueset:!0,node:null},ra.prototype[ma]=aa[ma];for(ba=0;ba<U.signatures.length;ba++)b.addFunctionDeclaration(U.signatures[ba],"async")};w.executeScript=function(T,U){var ba=U.spatialReference;if(null===ba||void 0===ba)ba=new E({wkid:102100});var ma=U.vars,da=U.customfunctions,
Aa=new ra;ma||(ma={});da||(da={});var R=new l({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});R.immutable=!1;Aa.textformatting={value:R,valueset:!0,node:null};for(var P in da)Aa[P]={value:new d.NativeFunction(da[P]),native:!0,valueset:!0,node:null};for(P in ma)Aa[P]=ma[P]&&"esri.Graphic"===ma[P].declaredClass?{value:n.createFromGraphic(ma[P]),valueset:!0,node:null}:{value:ma[P],valueset:!0,node:null};T=K({spatialReference:ba,globalScope:Aa,localScope:null,
console:U.console?U.console:Q,lrucache:U.lrucache,interceptor:U.interceptor,depthCounter:1},T.body[0].body);T instanceof d.ReturnResult&&(T=T.value);T instanceof d.ImplicitResult&&(T=T.value);T===d.voidOperation&&(T=null);if(T===d.breakResult)throw Error("Cannot return BREAK");if(T===d.continueResult)throw Error("Cannot return CONTINUE");if(T instanceof h)throw Error("Cannot return FUNCTION");if(T instanceof d.NativeFunction)throw Error("Cannot return FUNCTION");return T};w.extractFieldLiterals=function(T,
U){void 0===U&&(U=!1);return b.findFieldLiterals(T)};w.extractExpectedFieldLiterals=function(T){return b.findExpectedFieldLiterals(T)};w.validateScript=function(T,U){return b.validateScript(T,U,"simple")};w.referencesMember=function(T,U){return b.referencesMember(T,U)};w.referencesFunction=function(T,U){return b.referencesFunction(T,U)};w.findFunctionCalls=function(T){return b.findFunctionCalls(T)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/arcade-parser"],
function(D,w,a,t){Object.defineProperty(w,"__esModule",{value:!0});w.referencesFunction=w.referencesMember=w.extractExpectedFieldLiterals=w.validateScript=w.extractFieldLiterals=w.scriptCheck=w.parseScript=void 0;w.parseScript=function(l,n){void 0===n&&(n=[]);l=t.parse("function _() { "+l+"\n}");if(null===l.body||void 0===l.body)throw Error("No formula provided.");if(0===l.body.length)throw Error("No formula provided.");if(0===l.body.length)throw Error("No formula provided.");if("BlockStatement"!==
l.body[0].body.type)throw Error("Invalid formula content.");var h=a.validateLanguage(l);if(""!==h)throw Error(h);a.findScriptDependencies(l,n);return l};w.scriptCheck=function(l,n,h,g,e){var d=[];l="function _() { \n"+l+"\n}";try{var b=t.parse(l,{tolerant:!0,loc:!0,range:!0}),c=b.errors;if(0<c.length)for(var f=0;f<c.length;f++)d.push({line:c[f].lineNumber-2,character:c[f].column,reason:c[f].description});var m=a.checkScript(b,n,h,g,e);for(n=0;n<m.length;n++)m[n].line-=2,m[n].range&&(m[n].range=[m[n][0]-
15,m[n][1]-15]),m[n].loc&&(m[n].loc.start.line-=2,m[n].loc.end.line-=2),d.push(m[n])}catch(p){try{if("Unexpected token }"===p.description){var r=l.split("\n").length;p.lineNumber===r?(p.index=l.length-1,d.push({line:p.lineNumber-4,character:p.column,reason:"Unexpected end of script"})):(p.index=l.length-1,d.push({line:p.lineNumber-2,character:p.column,reason:"Unexpected end of script"}))}else d.push({line:p.lineNumber-2,character:p.column,reason:p.description})}catch(u){}}return d};w.extractFieldLiterals=
function(l,n){void 0===n&&(n=!1);return a.findFieldLiterals(l)};w.validateScript=function(l,n,h){return a.validateScript(l,n,h)};w.extractExpectedFieldLiterals=function(l){return a.findExpectedFieldLiterals(l)};w.referencesMember=function(l,n){return a.referencesMember(l,n)};w.referencesFunction=function(l,n){return a.referencesFunction(l,n)}})},"esri/arcade/lib/arcade-parser":function(){var D=this&&this.__createBinding||(Object.create?function(a,t,l,n){void 0===n&&(n=l);Object.defineProperty(a,n,
{enumerable:!0,get:function(){return t[l]}})}:function(a,t,l,n){void 0===n&&(n=l);a[n]=t[l]}),w=this&&this.__exportStar||function(a,t){for(var l in a)"default"===l||Object.prototype.hasOwnProperty.call(t,l)||D(t,a,l)};define("require exports ./comment-handler ./parser ./tokenizer ./syntax ./token ./nodes".split(" "),function(a,t,l,n,h,g,e,d){Object.defineProperty(t,"__esModule",{value:!0});t.version=t.Syntax=t.tokenize=t.parse=void 0;t.parse=function(b,c,f){var m=null,r=function(x,z){f&&f(x,z);m&&
m.visit(x,z)},p="function"===typeof f?r:void 0,u=!1;if(c){u="boolean"===typeof c.comment&&c.comment;var y="boolean"===typeof c.attachComment&&c.attachComment;if(u||y)m=new l.CommentHandler,m.attach=y,c.comment=!0,p=r}b=new n.Parser(b,c,p);c=b.parseScript();u&&m&&(c.comments=m.comments);b.config.tokens&&(c.tokens=b.tokens);b.config.tolerant&&(c.errors=b.errorHandler.errors);return c};t.tokenize=function(b,c,f){b=new h.Tokenizer(b,c);c=[];var m=void 0;try{for(;;){var r=b.getNextToken();if(!r)break;
f&&(r=f(r));c.push(r)}}catch(p){b.errorHandler.tolerate(p)}b.errorHandler.tolerant&&(m=b.errors());return{tokens:c,errors:m}};Object.defineProperty(t,"Syntax",{enumerable:!0,get:function(){return g.Syntax}});w(e,t);w(d,t);t.version="4.0.0-dev"})},"esri/arcade/lib/comment-handler":function(){define(["require","exports","./syntax"],function(D,w,a){Object.defineProperty(w,"__esModule",{value:!0});w.CommentHandler=void 0;D=function(){function t(){this.attach=!1;this.comments=[];this.stack=[];this.leading=
[];this.trailing=[]}t.prototype.insertInnerComments=function(l,n){if(l.type===a.Syntax.BlockStatement&&0===l.body.length){for(var h=[],g=this.leading.length-1;0<=g;--g){var e=this.leading[g];n.end.offset>=e.start&&(h.unshift(e.comment),this.leading.splice(g,1),this.trailing.splice(g,1))}h.length&&(l.innerComments=h)}};t.prototype.findTrailingComments=function(l){var n=[];if(0<this.trailing.length){for(var h=this.trailing.length-1;0<=h;--h){var g=this.trailing[h];g.start>=l.end.offset&&n.unshift(g.comment)}this.trailing.length=
0;return n}(h=this.stack[this.stack.length-1])&&h.node.trailingComments&&(g=h.node.trailingComments[0])&&g.range[0]>=l.end.offset&&(n=h.node.trailingComments,delete h.node.trailingComments);return n};t.prototype.findLeadingComments=function(l){for(var n=[],h;0<this.stack.length;){var g=this.stack[this.stack.length-1];if(g&&g.start>=l.start.offset)h=g.node,this.stack.pop();else break}if(h){for(var e=(h.leadingComments?h.leadingComments.length:0)-1;0<=e;--e)g=h.leadingComments[e],g.range[1]<=l.start.offset&&
(n.unshift(g),h.leadingComments.splice(e,1));h.leadingComments&&0===h.leadingComments.length&&delete h.leadingComments;return n}for(e=this.leading.length-1;0<=e;--e)g=this.leading[e],g.start<=l.start.offset&&(n.unshift(g.comment),this.leading.splice(e,1));return n};t.prototype.visitNode=function(l,n){if(!(l.type===a.Syntax.Program&&0<l.body.length)){this.insertInnerComments(l,n);var h=this.findTrailingComments(n),g=this.findLeadingComments(n);0<g.length&&(l.leadingComments=g);0<h.length&&(l.trailingComments=
h);this.stack.push({node:l,start:n.start.offset})}};t.prototype.visitComment=function(l,n){this.comments.push(l);this.attach&&(n={comment:{type:l.type,value:l.value,range:[n.start.offset,n.end.offset]},start:n.start.offset},l.loc&&(n.comment.loc=l.loc),this.leading.push(n),this.trailing.push(n))};t.prototype.visit=function(l,n){"Line"===l.type||"Block"===l.type?this.visitComment(l,n):this.attach&&this.visitNode(l,n)};return t}();w.CommentHandler=D})},"esri/arcade/lib/syntax":function(){define(["require",
"exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.Syntax=void 0;w.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"}})},
"esri/arcade/lib/parser":function(){define("require exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),function(D,w,a,t,l,n,h,g,e){Object.defineProperty(w,"__esModule",{value:!0});w.Parser=void 0;D=function(){function d(b,c,f){void 0===c&&(c={});this.config={range:"boolean"===typeof c.range&&c.range,loc:"boolean"===typeof c.loc&&c.loc,source:null,tokens:"boolean"===typeof c.tokens&&c.tokens,comment:"boolean"===typeof c.comment&&c.comment,tolerant:"boolean"===
typeof c.tolerant&&c.tolerant,globalReturn:!!c.globalReturn};this.config.loc&&c.source&&null!==c.source&&(this.config.source=String(c.source));this.delegate=f;this.errorHandler=new t.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new h.Scanner(b,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,
"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,
column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}d.prototype.tolerateError=function(b){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var m=c.slice();c=b.replace(/%(\d)/g,function(r,p){a.assert(p<m.length,"Message reference must be in range");return m[p]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,c)};d.prototype.unexpectedTokenError=
function(b,c){var f=c||l.Messages.UnexpectedToken;b?(c||(f=2===b.type?l.Messages.UnexpectedEOS:3===b.type?l.Messages.UnexpectedIdentifier:6===b.type?l.Messages.UnexpectedNumber:8===b.type?l.Messages.UnexpectedString:10===b.type?l.Messages.UnexpectedTemplate:l.Messages.UnexpectedToken),c=b.value.toString()):c="ILLEGAL";f=f.replace("%0",c);return b&&"number"===typeof b.lineNumber?this.errorHandler.createError(b.start,b.lineNumber,b.start-(this.lastMarker.index-this.lastMarker.column)+1,f):this.errorHandler.createError(this.lastMarker.index,
this.lastMarker.line,this.lastMarker.column+1,f)};d.prototype.throwUnexpectedToken=function(b,c){throw this.unexpectedTokenError(b,c);};d.prototype.tolerateUnexpectedToken=function(b,c){this.errorHandler.tolerate(this.unexpectedTokenError(b,c))};d.prototype.collectComments=function(){if(this.config.comment){var b=this.scanner.scanComments();if(b&&0<b.length&&this.delegate)for(var c=0;c<b.length;++c){var f=b[c],m=new n.Comment(f.multiLine?"Block":"Line",this.scanner.source.slice(f.slice[0],f.slice[1]));
this.config.range&&(m.range=f.range);this.config.loc&&(m.loc=f.loc);this.delegate(m,{start:{line:f.loc.start.line,column:f.loc.start.column,offset:f.range[0]},end:{line:f.loc.end.line,column:f.loc.end.column,offset:f.range[1]}})}}else this.scanner.scanComments()};d.prototype.peekAhead=function(b){var c=this,f=this.scanner.saveState();b.call(this,function(){c.scanner.scanComments();return c.scanner.lex()});this.scanner.restoreState(f)};d.prototype.getTokenRaw=function(b){return this.scanner.source.slice(b.start,
b.end)};d.prototype.convertToken=function(b){var c={type:e.TokenName[b.type],value:this.getTokenRaw(b)};this.config.range&&(c.range=[b.start,b.end]);this.config.loc&&(c.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===b.type&&(c.regex={pattern:b.pattern,flags:b.flags});return c};d.prototype.nextToken=function(){var b=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=
this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var c=this.scanner.lex();this.hasLineTerminator=b.lineNumber!==c.lineNumber;this.lookahead=c;this.config.tokens&&2!==c.type&&this.tokens.push(this.convertToken(c));return b};d.prototype.createNode=
function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};d.prototype.startNode=function(b,c){void 0===c&&(c=0);var f=b.start-b.lineStart,m=b.lineNumber;0>f&&(f+=c,m--);return{index:b.start,line:m,column:f}};d.prototype.finalize=function(b,c){this.config.range&&(c.range=[b.index,this.lastMarker.index]);this.config.loc&&(c.loc={start:{line:b.line,column:b.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(c.loc.source=
this.config.source));this.delegate&&this.delegate(c,{start:{line:b.line,column:b.column,offset:b.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return c};d.prototype.expect=function(b){var c=this.nextToken();7===c.type&&c.value===b||this.throwUnexpectedToken(c)};d.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var b=this.lookahead;7===b.type&&","===b.value?this.nextToken():7===b.type&&";"===b.value?(this.nextToken(),this.tolerateUnexpectedToken(b)):
this.tolerateUnexpectedToken(b,l.Messages.UnexpectedToken)}else this.expect(",")};d.prototype.expectKeyword=function(b){var c=this.nextToken();4===c.type&&c.value.toString().toLowerCase()===b.toLowerCase()||this.throwUnexpectedToken(c)};d.prototype.match=function(b){return 7===this.lookahead.type&&this.lookahead.value===b};d.prototype.matchKeyword=function(b){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===b.toLowerCase()};d.prototype.matchContextualKeyword=function(b){return 3===
this.lookahead.type&&this.lookahead.value===b};d.prototype.matchAssign=function(){return 7!==this.lookahead.type?!1:n.AssignmentOperators.includes(this.lookahead.value)};d.prototype.isolateCoverGrammar=function(b){var c=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;b=b.call(this);null!==this.context.firstCoverInitializedNameError&&
this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=c;this.context.isAssignmentTarget=f;this.context.firstCoverInitializedNameError=m;return b};d.prototype.inheritCoverGrammar=function(b){var c=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;b=b.call(this);this.context.isBindingElement=
this.context.isBindingElement&&c;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&f;this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError;return b};d.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};
d.prototype.parsePrimaryExpression=function(){var b=this.createNode();switch(this.lookahead.type){case 3:b=this.finalize(b,new n.Identifier(this.nextToken().value));break;case 6:case 8:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=this.nextToken();var f=this.getTokenRaw(c);b=this.finalize(b,new n.Literal(c.value,f));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();f=this.getTokenRaw(c);b=this.finalize(b,new n.Literal("true"===
c.value.toString().toLowerCase(),f));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();f=this.getTokenRaw(c);b=this.finalize(b,new n.Literal(null,f));break;case 10:b=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;b=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":b=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":b=this.inheritCoverGrammar(this.parseObjectInitializer);
break;default:b=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.throwUnexpectedToken(this.nextToken());break;default:b=this.throwUnexpectedToken(this.nextToken())}return b};d.prototype.parseArrayInitializer=function(){var b=this.createNode(),c=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),c.push(null)):(c.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||
this.expect(","));this.expect("]");return this.finalize(b,new n.ArrayExpression(c))};d.prototype.parseObjectPropertyKey=function(){var b=this.createNode(),c=this.nextToken();switch(c.type){case 8:case 6:b=this.finalize(b,new n.Literal(c.value,this.getTokenRaw(c)));break;case 3:case 1:case 5:case 4:b=this.finalize(b,new n.Identifier(c.value));break;default:b=this.throwUnexpectedToken(c)}return b};d.prototype.parseObjectProperty=function(){var b=this.createNode(),c=this.lookahead,f=!1,m=!1,r=null;if(3===
c.type){var p=c.value;this.nextToken();f=this.match("[");r=this.finalize(b,new n.Identifier(p))}else this.match("*")?this.nextToken():(f=this.match("["),r=this.parseObjectPropertyKey());r||this.throwUnexpectedToken(this.lookahead);p=null;this.match(":")?(this.nextToken(),p=this.inheritCoverGrammar(this.parseAssignmentExpression)):3===c.type?(p=this.finalize(b,new n.Identifier(c.value)),m=!0):this.throwUnexpectedToken(this.nextToken());return this.finalize(b,new n.Property("init",r,f,p,!1,m))};d.prototype.parseObjectInitializer=
function(){var b=this.createNode();this.expect("{");for(var c=[];!this.match("}");)c.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(b,new n.ObjectExpression(c))};d.prototype.parseTemplateHead=function(){a.assert(this.lookahead.head,"Template literal must start with a template head");var b=this.createNode(),c=this.nextToken();return this.finalize(b,new n.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};d.prototype.parseTemplateElement=
function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var b=this.createNode(),c=this.nextToken();return this.finalize(b,new n.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};d.prototype.parseTemplateLiteral=function(){var b=this.createNode(),c=[],f=[],m=this.parseTemplateHead();for(f.push(m);!m.tail;)c.push(this.parseExpression()),m=this.parseTemplateElement(),f.push(m);return this.finalize(b,new n.TemplateLiteral(f,c))};d.prototype.parseGroupExpression=function(){this.expect("(");
this.context.isBindingElement=!0;var b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expect(")");this.context.isBindingElement=!1;return b};d.prototype.parseArguments=function(){this.expect("(");var b=[];if(!this.match(")"))for(;;){var c=this.isolateCoverGrammar(this.parseAssignmentExpression);b.push(c);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return b};d.prototype.isIdentifierName=function(b){return 3===b.type||4===b.type||1===
b.type||5===b.type};d.prototype.parseIdentifierName=function(){var b=this.createNode(),c=this.nextToken();this.isIdentifierName(c)||this.throwUnexpectedToken(c);return this.finalize(b,new n.Identifier(c.value))};d.prototype.parseLeftHandSideExpressionAllowCall=function(){var b=this.lookahead,c=this.context.allowIn;this.context.allowIn=!0;for(var f=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match("(")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;var m=this.parseArguments();
f=this.finalize(this.startNode(b),new n.CallExpression(f,m))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),m=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),f=this.finalize(this.startNode(b),new n.ComputedMemberExpression(f,m));else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),m=this.parseIdentifierName(),f=this.finalize(this.startNode(b),new n.StaticMemberExpression(f,
m));else break;this.context.allowIn=c;return f};d.prototype.parseLeftHandSideExpression=function(){a.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var b=this.startNode(this.lookahead),c=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var f=this.isolateCoverGrammar(this.parseExpression);this.expect("]");c=this.finalize(b,new n.ComputedMemberExpression(c,
f))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),f=this.parseIdentifierName(),c=this.finalize(b,new n.StaticMemberExpression(c,f));else break;return c};d.prototype.parseUpdateExpression=function(){var b=this.lookahead;if(this.match("++")||this.match("--")){b=this.startNode(b);var c=this.nextToken();var f=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment);
f=this.finalize(b,new n.UpdateExpression(c.value,f,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else f=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,c=this.nextToken().value,f=this.finalize(this.startNode(b),
new n.UpdateExpression(c,f,!1)));return f};d.prototype.parseUnaryExpression=function(){if(this.match("+")||this.match("-")||this.match("~")||this.match("!")){var b=this.startNode(this.lookahead),c=this.nextToken();var f=this.inheritCoverGrammar(this.parseUnaryExpression);f=this.finalize(b,new n.UnaryExpression(c.value,f));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else f=this.parseUpdateExpression();return f};d.prototype.binaryPrecedence=function(b){var c=b.value;return 7===
b.type?this.operatorPrecedence[c]||0:4===b.type?this.context.allowIn&&"in"===c?12:0:0};d.prototype.parseBinaryExpression=function(){var b=this.lookahead,c=this.inheritCoverGrammar(this.parseUnaryExpression),f=this.lookahead,m=this.binaryPrecedence(f);if(0<m){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=[b,this.lookahead];var r=this.inheritCoverGrammar(this.parseUnaryExpression);f=[c,f.value,r];for(var p=[m];;){m=this.binaryPrecedence(this.lookahead);if(0>=
m)break;for(;2<f.length&&m<=p[p.length-1];){r=f.pop();var u=f.pop();p.pop();c=f.pop();b.pop();var y=b[b.length-1],x=this.startNode(y,y.lineStart);f.push(this.finalize(x,new n.BinaryExpression(u,c,r)))}f.push(this.nextToken().value);p.push(m);b.push(this.lookahead);f.push(this.inheritCoverGrammar(this.parseUnaryExpression))}m=f.length-1;c=f[m];for(u=b.pop();1<m;){y=b.pop();if(!y)break;x=this.startNode(y,u&&u.lineStart);u=f[m-1];c=this.finalize(x,new n.BinaryExpression(u,f[m-2],c));m-=2;u=y}}return c};
d.prototype.parseAssignmentExpression=function(){var b=this.lookahead,c=b,f=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment);this.match("\x3d")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);c=this.nextToken();c=c.value;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);f=this.finalize(this.startNode(b),new n.AssignmentExpression(c,f,m));this.context.firstCoverInitializedNameError=
null}return f};d.prototype.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};d.prototype.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":var b=this.parseFunctionDeclaration();break;default:b=this.parseStatement()}else b=this.parseStatement();return b};d.prototype.parseBlock=function(){var b=this.createNode();this.expect("{");for(var c=
[];!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");return this.finalize(b,new n.BlockStatement(c))};d.prototype.parseObjectStatement=function(){var b=this.createNode(),c=this.parseObjectInitializer();return this.finalize(b,new n.ExpressionStatement(c))};d.prototype.parseBlockOrObjectStatement=function(){var b="asObject"===this.context.curlyParsing;"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(function(c){var f=c();if(3===f.type||8===f.type)f=c(),7===f.type&&
":"===f.value&&(b=!0)});return b?this.parseObjectStatement():this.parseBlock()};d.prototype.parseVariableIdentifier=function(){var b=this.createNode(),c=this.nextToken();3!==c.type&&this.throwUnexpectedToken(c,l.Messages.IdentiferExpected);return this.finalize(b,new n.Identifier(c.value))};d.prototype.parseVariableDeclaration=function(b){var c=this.createNode(),f=this.parseVariableIdentifier(),m=null;this.match("\x3d")?(this.nextToken(),m=this.isolateCoverGrammar(this.parseAssignmentExpression)):
f.type===g.Syntax.Identifier||b.inFor||this.expect("\x3d");return this.finalize(c,new n.VariableDeclarator(f,m))};d.prototype.parseVariableDeclarationList=function(b){for(var c=[this.parseVariableDeclaration(b)];this.match(",");)this.nextToken(),c.push(this.parseVariableDeclaration(b));return c};d.prototype.parseVariableStatement=function(){var b=this.createNode();this.expectKeyword("var");var c=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(b,new n.VariableDeclaration(c,
"var"))};d.prototype.parseEmptyStatement=function(){var b=this.createNode();this.expect(";");return this.finalize(b,new n.EmptyStatement)};d.prototype.parseExpressionStatement=function(){var b=this.createNode(),c=this.parseExpression();this.consumeSemicolon();return this.finalize(b,new n.ExpressionStatement(c))};d.prototype.parseIfClause=function(){var b=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";var c=this.parseStatement();this.context.curlyParsing=b;return c};d.prototype.parseIfStatement=
function(){var b=this.createNode(),c=null;this.expectKeyword("if");this.expect("(");var f=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var m=this.finalize(this.createNode(),new n.EmptyStatement)}else this.expect(")"),m=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),c=this.parseIfClause());return this.finalize(b,new n.IfStatement(f,m,c))};d.prototype.parseForStatement=function(){var b=null,c=null,f=null,m=null,r=
null,p=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){var u=this.createNode();this.nextToken();var y=this.context.allowIn;this.context.allowIn=!1;var x=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=y;1===x.length&&this.matchKeyword("in")?(x[0].init&&this.tolerateError(l.Messages.ForInOfLoopInitializer,"for-in"),m=this.finalize(u,new n.VariableDeclaration(x,"var")),this.nextToken(),r=this.parseExpression()):
(b=this.finalize(u,new n.VariableDeclaration(x,"var")),this.expect(";"))}else{u=this.context.isBindingElement;x=this.context.isAssignmentTarget;var z=this.context.firstCoverInitializedNameError;y=this.context.allowIn;this.context.allowIn=!1;b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=y;this.matchKeyword("in")?(this.context.isAssignmentTarget&&b.type!==g.Syntax.AssignmentExpression||this.tolerateError(l.Messages.InvalidLHSInForIn),this.nextToken(),m=b,r=this.parseExpression(),
b=null):(this.context.isBindingElement=u,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=z,this.expect(";"))}m||(this.match(";")||(c=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(f=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),y=this.finalize(this.createNode(),new n.EmptyStatement)):(this.expect(")"),u=this.context.inIteration,x=this.context.curlyParsing,
this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",y=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=x,this.context.inIteration=u);return m&&r?this.finalize(p,new n.ForInStatement(m,r,y)):this.finalize(p,new n.ForStatement(b,c,f,y))};d.prototype.parseContinueStatement=function(){var b=this.createNode();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize(b,new n.ContinueStatement)};d.prototype.parseBreakStatement=function(){var b=
this.createNode();this.expectKeyword("break");this.consumeSemicolon();return this.finalize(b,new n.BreakStatement)};d.prototype.parseReturnStatement=function(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError(l.Messages.IllegalReturn);var b=this.createNode();this.expectKeyword("return");var c=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();
return this.finalize(b,new n.ReturnStatement(c))};d.prototype.parseStatement=function(){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 3:var b=this.parseExpressionStatement();break;case 7:b=this.lookahead.value;b="{"===b?this.parseBlockOrObjectStatement():"("===b?this.parseExpressionStatement():";"===b?this.parseEmptyStatement():this.parseExpressionStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":b=this.parseBreakStatement();break;case "continue":b=
this.parseContinueStatement();break;case "for":b=this.parseForStatement();break;case "function":b=this.parseFunctionDeclaration();break;case "if":b=this.parseIfStatement();break;case "return":b=this.parseReturnStatement();break;case "var":b=this.parseVariableStatement();break;default:b=this.parseExpressionStatement()}break;default:b=this.throwUnexpectedToken(this.lookahead)}return b};d.prototype.parseFunctionSourceElements=function(){var b=this.createNode();this.expect("{");var c=this.context.inIteration,
f=this.context.inFunctionBody;this.context.inIteration=!1;this.context.inFunctionBody=!0;for(var m=[];2!==this.lookahead.type&&!this.match("}");)m.push(this.parseStatementListItem());this.expect("}");this.context.inIteration=c;this.context.inFunctionBody=f;return this.finalize(b,new n.BlockStatement(m))};d.prototype.parseFormalParameters=function(){var b=[];this.expect("(");if(!this.match(")"))for(;2!==this.lookahead.type;){b.push(this.parseVariableIdentifier());if(this.match(")"))break;this.expect(",");
if(this.match(")"))break}this.expect(")");return b};d.prototype.parseFunctionDeclaration=function(){var b=this.createNode();this.expectKeyword("function");var c=this.parseVariableIdentifier(),f=this.parseFormalParameters(),m=this.parseFunctionSourceElements();return this.finalize(b,new n.FunctionDeclaration(c,f,m))};d.prototype.parseScript=function(){for(var b=this.createNode(),c=[];2!==this.lookahead.type;)c.push(this.parseStatementListItem());return this.finalize(b,new n.Program(c))};return d}();
w.Parser=D})},"esri/arcade/lib/assert":function(){define(["require","exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.assert=void 0;w.assert=function(a,t){if(!a)throw Error("ASSERT: "+t);}})},"esri/arcade/lib/error-handler":function(){define(["require","exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.ErrorHandler=void 0;D=function(){function a(){this.errors=[];this.tolerant=!1}a.prototype.recordError=function(t){this.errors.push(t)};a.prototype.tolerate=
function(t){if(this.tolerant)this.recordError(t);else throw t;};a.prototype.constructError=function(t,l){t=Error(t);try{throw t;}catch(n){Object.create&&Object.defineProperty&&(t=Object.create(n),Object.defineProperty(t,"column",{value:l}))}return t};a.prototype.createError=function(t,l,n,h){n=this.constructError("Line "+l+": "+h,n);n.index=t;n.lineNumber=l;n.description=h;return n};a.prototype.throwError=function(t,l,n,h){throw this.createError(t,l,n,h);};a.prototype.tolerateError=function(t,l,n,
h){t=this.createError(t,l,n,h);if(this.tolerant)this.recordError(t);else throw t;};return a}();w.ErrorHandler=D})},"esri/arcade/lib/messages":function(){define(["require","exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.Messages=void 0;w.Messages={ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",
IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidRegExp:"Invalid regular expression",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",
StrictParamDupe:"Strict mode function may not have duplicate parameter names",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnterminatedRegExp:"Invalid regular expression: missing /",IdentiferExpected:"Identifier expected"}})},
"esri/arcade/lib/nodes":function(){var D=this&&this.__extends||function(){var w=function(a,t){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h])};return w(a,t)};return function(a,t){function l(){this.constructor=a}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w(a,t);a.prototype=null===t?Object.create(t):(l.prototype=
t.prototype,new l)}}();define(["require","exports","./syntax"],function(w,a,t){Object.defineProperty(a,"__esModule",{value:!0});a.VariableDeclarator=a.VariableDeclaration=a.UpdateExpression=a.UpdateOperators=a.UnaryExpression=a.UnaryOperators=a.TemplateLiteral=a.TemplateElement=a.Program=a.ReturnStatement=a.Property=a.ObjectExpression=a.Literal=a.IfStatement=a.Identifier=a.FunctionDeclaration=a.ForStatement=a.ForInStatement=a.ExpressionStatement=a.EmptyStatement=a.ContinueStatement=a.StaticMemberExpression=
a.ComputedMemberExpression=a.CallExpression=a.BreakStatement=a.BlockStatement=a.BinaryExpression=a.BinaryOperators=a.LogicalOperators=a.AssignmentExpression=a.AssignmentOperators=a.ArrayExpression=a.Comment=void 0;w=function(){return function(){}}();var l=function(n){function h(g,e){var d=n.call(this)||this;d.type=g;d.value=e;return d}D(h,n);return h}(w);a.Comment=l;l=function(n){function h(g){var e=n.call(this)||this;e.elements=g;e.type=t.Syntax.ArrayExpression;return e}D(h,n);return h}(w);a.ArrayExpression=
l;a.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");l=function(n){function h(g,e,d){var b=n.call(this)||this;b.operator=g;b.left=e;b.right=d;b.type=t.Syntax.AssignmentExpression;return b}D(h,n);return h}(w);a.AssignmentExpression=l;a.LogicalOperators=["||","\x26\x26"];a.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");l=function(n){function h(g,e,d){var b=n.call(this)||this;b.operator=g;b.left=e;
b.right=d;b.type=a.LogicalOperators.includes(g)?t.Syntax.LogicalExpression:t.Syntax.BinaryExpression;return b}D(h,n);return h}(w);a.BinaryExpression=l;l=function(n){function h(g){var e=n.call(this)||this;e.body=g;e.type=t.Syntax.BlockStatement;return e}D(h,n);return h}(w);a.BlockStatement=l;l=function(n){function h(){var g=null!==n&&n.apply(this,arguments)||this;g.type=t.Syntax.BreakStatement;return g}D(h,n);return h}(w);a.BreakStatement=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.callee=
g;d.args=e;d.type=t.Syntax.CallExpression;d.arguments=e;return d}D(h,n);return h}(w);a.CallExpression=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.object=g;d.property=e;d.type=t.Syntax.MemberExpression;d.computed=!0;return d}D(h,n);return h}(w);a.ComputedMemberExpression=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.object=g;d.property=e;d.type=t.Syntax.MemberExpression;d.computed=!1;return d}D(h,n);return h}(w);a.StaticMemberExpression=l;l=function(n){function h(){var g=
null!==n&&n.apply(this,arguments)||this;g.type=t.Syntax.ContinueStatement;return g}D(h,n);return h}(w);a.ContinueStatement=l;l=function(n){function h(){var g=null!==n&&n.apply(this,arguments)||this;g.type=t.Syntax.EmptyStatement;return g}D(h,n);return h}(w);a.EmptyStatement=l;l=function(n){function h(g){var e=n.call(this)||this;e.expression=g;e.type=t.Syntax.ExpressionStatement;return e}D(h,n);return h}(w);a.ExpressionStatement=l;l=function(n){function h(g,e,d){var b=n.call(this)||this;b.left=g;b.right=
e;b.body=d;b.type=t.Syntax.ForInStatement;b.each=!1;return b}D(h,n);return h}(w);a.ForInStatement=l;l=function(n){function h(g,e,d,b){var c=n.call(this)||this;c.init=g;c.test=e;c.update=d;c.body=b;c.type=t.Syntax.ForStatement;return c}D(h,n);return h}(w);a.ForStatement=l;l=function(n){function h(g,e,d){var b=n.call(this)||this;b.id=g;b.params=e;b.body=d;b.type=t.Syntax.FunctionDeclaration;b.generator=!1;b.expression=!1;b.async=!1;return b}D(h,n);return h}(w);a.FunctionDeclaration=l;l=function(n){function h(g){var e=
n.call(this)||this;e.name=g;e.type=t.Syntax.Identifier;return e}D(h,n);return h}(w);a.Identifier=l;l=function(n){function h(g,e,d){var b=n.call(this)||this;b.test=g;b.consequent=e;b.alternate=d;b.type=t.Syntax.IfStatement;return b}D(h,n);return h}(w);a.IfStatement=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.value=g;d.raw=e;d.type=t.Syntax.Literal;return d}D(h,n);return h}(w);a.Literal=l;l=function(n){function h(g){var e=n.call(this)||this;e.properties=g;e.type=t.Syntax.ObjectExpression;
return e}D(h,n);return h}(w);a.ObjectExpression=l;l=function(n){function h(g,e,d,b,c,f){var m=n.call(this)||this;m.kind=g;m.key=e;m.computed=d;m.value=b;m.method=c;m.shorthand=f;m.type=t.Syntax.Property;return m}D(h,n);return h}(w);a.Property=l;l=function(n){function h(g){var e=n.call(this)||this;e.argument=g;e.type=t.Syntax.ReturnStatement;return e}D(h,n);return h}(w);a.ReturnStatement=l;l=function(n){function h(g){var e=n.call(this)||this;e.body=g;e.type=t.Syntax.Program;return e}D(h,n);return h}(w);
a.Program=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.value=g;d.tail=e;d.type=t.Syntax.TemplateElement;return d}D(h,n);return h}(w);a.TemplateElement=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.quasis=g;d.expressions=e;d.type=t.Syntax.TemplateLiteral;return d}D(h,n);return h}(w);a.TemplateLiteral=l;a.UnaryOperators=["-","+","!","~"];l=function(n){function h(g,e){var d=n.call(this)||this;d.operator=g;d.argument=e;d.type=t.Syntax.UnaryExpression;d.prefix=!0;return d}D(h,
n);return h}(w);a.UnaryExpression=l;a.UpdateOperators=["++","--"];l=function(n){function h(g,e,d){var b=n.call(this)||this;b.operator=g;b.argument=e;b.prefix=d;b.type=t.Syntax.UpdateExpression;return b}D(h,n);return h}(w);a.UpdateExpression=l;l=function(n){function h(g,e){var d=n.call(this)||this;d.declarations=g;d.kind=e;d.type=t.Syntax.VariableDeclaration;return d}D(h,n);return h}(w);a.VariableDeclaration=l;w=function(n){function h(g,e){var d=n.call(this)||this;d.id=g;d.init=e;d.type=t.Syntax.VariableDeclarator;
return d}D(h,n);return h}(w);a.VariableDeclarator=w})},"esri/arcade/lib/scanner":function(){define(["require","exports","./assert","./character","./messages"],function(D,w,a,t,l){Object.defineProperty(w,"__esModule",{value:!0});w.Scanner=void 0;D=function(){function n(h,g){this.source=h;this.errorHandler=g;this.isModule=this.trackComment=!1;this.length=h.length;this.index=0;this.lineNumber=0<h.length?1:0;this.lineStart=0;this.curlyStack=[]}n.prototype.saveState=function(){return{index:this.index,
lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};n.prototype.restoreState=function(h){this.index=h.index;this.lineNumber=h.lineNumber;this.lineStart=h.lineStart;this.curlyStack=h.curlyStack};n.prototype.eof=function(){return this.index>=this.length};n.prototype.throwUnexpectedToken=function(h){void 0===h&&(h=l.Messages.UnexpectedTokenIllegal);return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,h)};n.prototype.tolerateUnexpectedToken=
function(h){void 0===h&&(h=l.Messages.UnexpectedTokenIllegal);this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,h)};n.prototype.skipSingleLineComment=function(h){var g=[],e=0,d=null;this.trackComment&&(g=[],e=this.index-h,d={start:{line:this.lineNumber,column:this.index-this.lineStart-h},end:{line:0,column:0}});for(;!this.eof();){var b=this.source.charCodeAt(this.index);++this.index;if(t.Character.isLineTerminator(b))return d&&(d.end={line:this.lineNumber,column:this.index-
this.lineStart-1},h={multiLine:!1,slice:[e+h,this.index-1],range:[e,this.index-1],loc:d},g.push(h)),13===b&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,g}d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!1,slice:[e+h,this.index],range:[e,this.index],loc:d},g.push(h));return g};n.prototype.skipMultiLineComment=function(){var h=[],g=0,e=null;this.trackComment&&(g=this.index-2,e={start:{line:this.lineNumber,column:this.index-
this.lineStart-2},end:{line:0,column:0}});for(;!this.eof();){var d=this.source.charCodeAt(this.index);if(t.Character.isLineTerminator(d))13===d&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===d&&47===this.source.charCodeAt(this.index+1))return this.index+=2,e&&(e.end={line:this.lineNumber,column:this.index-this.lineStart},g={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:e},h.push(g)),h;++this.index}}e&&
(e.end={line:this.lineNumber,column:this.index-this.lineStart},g={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:e},h.push(g));this.tolerateUnexpectedToken();return h};n.prototype.scanComments=function(){var h=null;this.trackComment&&(h=[]);for(var g=0===this.index;!this.eof();){var e=this.source.charCodeAt(this.index);if(t.Character.isWhiteSpace(e))++this.index;else if(t.Character.isLineTerminator(e))++this.index,13===e&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,
this.lineStart=this.index,g=!0;else if(47===e)if(e=this.source.charCodeAt(this.index+1),47===e)this.index+=2,e=this.skipSingleLineComment(2),h&&(h=h.concat(e)),g=!0;else if(42===e)this.index+=2,e=this.skipMultiLineComment(),h&&(h=h.concat(e));else break;else if(g&&45===e)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,e=this.skipSingleLineComment(3),h&&(h=h.concat(e));else break;else if(60!==e||this.isModule)break;else if("!--"===this.source.slice(this.index+
1,this.index+4))this.index+=4,e=this.skipSingleLineComment(4),h&&(h=h.concat(e));else break}return h};n.prototype.isKeyword=function(h){h=h.toLowerCase();switch(h.length){case 2:return"if"===h||"in"===h;case 3:return"var"===h||"for"===h;case 4:return"else"===h;case 5:return"break"===h;case 6:return"return"===h;case 8:return"function"===h||"continue"===h;default:return!1}};n.prototype.codePointAt=function(h){var g=this.source.charCodeAt(h);55296<=g&&56319>=g&&(h=this.source.charCodeAt(h+1),56320<=
h&&57343>=h&&(g=1024*(g-55296)+h-56320+65536));return g};n.prototype.scanHexEscape=function(h){h="u"===h?4:2;for(var g=0,e=0;e<h;++e)if(!this.eof()&&t.Character.isHexDigit(this.source.charCodeAt(this.index)))g=16*g+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(g)};n.prototype.scanUnicodeCodePointEscape=function(){var h=this.source[this.index],g=0;for("}"===h&&this.throwUnexpectedToken();!this.eof();){h=this.source[this.index++];if(!t.Character.isHexDigit(h.charCodeAt(0)))break;
g=16*g+"0123456789abcdef".indexOf(h.toLowerCase())}(1114111<g||"}"!==h)&&this.throwUnexpectedToken();return t.Character.fromCodePoint(g)};n.prototype.getIdentifier=function(){for(var h=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(92===g||55296<=g&&57343>g)return this.index=h,this.getComplexIdentifier();if(t.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(h,this.index)};n.prototype.getComplexIdentifier=function(){var h=this.codePointAt(this.index),
g=t.Character.fromCodePoint(h);this.index+=g.length;if(92===h){117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken();++this.index;if("{"===this.source[this.index]){++this.index;var e=this.scanUnicodeCodePointEscape()}else e=this.scanHexEscape("u"),null!==e&&"\\"!==e&&t.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken();g=e}for(;!this.eof();){h=this.codePointAt(this.index);if(!t.Character.isIdentifierPart(h))break;e=t.Character.fromCodePoint(h);g+=e;this.index+=
e.length;92===h&&(g=g.substr(0,g.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):(e=this.scanHexEscape("u"),null!==e&&"\\"!==e&&t.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken()),g+=e)}return g};n.prototype.octalToDecimal=function(h){var g="0"!==h,e="01234567".indexOf(h);!this.eof()&&t.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=
!0,e=8*e+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(h)&&!this.eof()&&t.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=8*e+"01234567".indexOf(this.source[this.index++])));return{code:e,octal:g}};n.prototype.scanIdentifier=function(){var h=this.index,g=92===this.source.charCodeAt(h)?this.getComplexIdentifier():this.getIdentifier();var e=1===g.length?3:this.isKeyword(g)?4:"null"===g.toLowerCase()?5:"true"===g.toLowerCase()||"false"===g.toLowerCase()?1:3;if(3!==e&&
h+g.length!==this.index){var d=this.index;this.index=h;this.tolerateUnexpectedToken(l.Messages.InvalidEscapedReservedWord);this.index=d}return{type:e,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanPunctuator=function(){var h=this.index,g=this.source[this.index];switch(g){case "(":case "{":"{"===g&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;
break;default:g=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===g?this.index+=4:(g=g.substr(0,3),"\x3d\x3d\x3d"===g||"!\x3d\x3d"===g||"\x3e\x3e\x3e"===g||"\x3c\x3c\x3d"===g||"\x3e\x3e\x3d"===g||"**\x3d"===g?this.index+=3:(g=g.substr(0,2),"\x26\x26"===g||"||"===g||"\x3d\x3d"===g||"!\x3d"===g||"+\x3d"===g||"-\x3d"===g||"*\x3d"===g||"/\x3d"===g||"++"===g||"--"===g||"\x3c\x3c"===g||"\x3e\x3e"===g||"\x26\x3d"===g||"|\x3d"===g||"^\x3d"===g||"%\x3d"===g||"\x3c\x3d"===g||"\x3e\x3d"===g||"\x3d\x3e"===
g||"**"===g?this.index+=2:(g=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(g)&&++this.index)))}this.index===h&&this.throwUnexpectedToken();return{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanHexLiteral=function(h){for(var g="";!this.eof()&&t.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];0===g.length&&this.throwUnexpectedToken();t.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&
this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanBinaryLiteral=function(h){for(var g="";!this.eof();){var e=this.source[this.index];if("0"!==e&&"1"!==e)break;g+=this.source[this.index++]}0===g.length&&this.throwUnexpectedToken();this.eof()||(e=this.source.charCodeAt(this.index),(t.Character.isIdentifierStart(e)||t.Character.isDecimalDigit(e))&&this.throwUnexpectedToken());return{type:6,
value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanOctalLiteral=function(h,g){var e="",d=!1;t.Character.isOctalDigit(h.charCodeAt(0))?(d=!0,e="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&t.Character.isOctalDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];d||0!==e.length||this.throwUnexpectedToken();(t.Character.isIdentifierStart(this.source.charCodeAt(this.index))||t.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&
this.throwUnexpectedToken();return{type:6,value:parseInt(e,8),octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}};n.prototype.scanNumericLiteral=function(){var h=this.index,g=this.source[h];a.assert(t.Character.isDecimalDigit(g.charCodeAt(0))||"."===g,"Numeric literal must start with a decimal digit or a decimal point");var e="";if("."!==g){e=this.source[this.index++];g=this.source[this.index];if("0"===e){if("x"===g||"X"===g)return++this.index,this.scanHexLiteral(h);
if("b"===g||"B"===g)return++this.index,this.scanBinaryLiteral(h);if("o"===g||"O"===g)return this.scanOctalLiteral(g,h)}for(;t.Character.isDecimalDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];g=this.source[this.index]}if("."===g){for(e+=this.source[this.index++];t.Character.isDecimalDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];g=this.source[this.index]}if("e"===g||"E"===g){e+=this.source[this.index++];g=this.source[this.index];if("+"===g||"-"===
g)e+=this.source[this.index++];if(t.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;t.Character.isDecimalDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];else this.throwUnexpectedToken()}t.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(e),lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanStringLiteral=function(){var h=this.index,g=this.source[h];
a.assert("'"===g||'"'===g,"String literal must starts with a quote");++this.index;for(var e=!1,d="";!this.eof();){var b=this.source[this.index++];if(b===g){g="";break}if("\\"===b)if((b=this.source[this.index++])&&t.Character.isLineTerminator(b.charCodeAt(0)))++this.lineNumber,"\r"===b&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(b){case "u":"{"===this.source[this.index]?(++this.index,d+=this.scanUnicodeCodePointEscape()):(b=this.scanHexEscape(b),null===b&&this.throwUnexpectedToken(),
d+=b);break;case "x":b=this.scanHexEscape(b);null===b&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence);d+=b;break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+="\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;case "8":case "9":d+=b;this.tolerateUnexpectedToken();break;default:b&&t.Character.isOctalDigit(b.charCodeAt(0))?(b=this.octalToDecimal(b),e=b.octal||e,d+=String.fromCharCode(b.code)):d+=b}else if(t.Character.isLineTerminator(b.charCodeAt(0)))break;
else d+=b}""!==g&&(this.index=h,this.throwUnexpectedToken());return{type:8,value:d,octal:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.scanTemplate=function(){var h="",g=!1,e=this.index,d="`"===this.source[e],b=!1,c=2;for(++this.index;!this.eof();){var f=this.source[this.index++];if("`"===f){c=1;g=b=!0;break}if("$"===f){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;g=!0;break}h+=f}else if("\\"===f)if(f=this.source[this.index++],
t.Character.isLineTerminator(f.charCodeAt(0)))++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(f){case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "u":if("{"===this.source[this.index])++this.index,h+=this.scanUnicodeCodePointEscape();else{var m=this.index,r=this.scanHexEscape(f);null!==r?h+=r:(this.index=m,h+=f)}break;case "x":f=this.scanHexEscape(f);null===f&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence);
h+=f;break;case "b":h+="\b";break;case "f":h+="\f";break;case "v":h+="\v";break;default:"0"===f?(t.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral),h+="\x00"):t.Character.isOctalDigit(f.charCodeAt(0))?this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral):h+=f}else t.Character.isLineTerminator(f.charCodeAt(0))?(++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,h+="\n"):h+=f}g||
this.throwUnexpectedToken();d||this.curlyStack.pop();return{type:10,value:this.source.slice(e+1,this.index-c),cooked:h,head:d,tail:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}};n.prototype.testRegExp=function(h,g){var e=this,d=h;0<=g.indexOf("u")&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(b,c,f){b=parseInt(c||f,16);1114111<b&&e.throwUnexpectedToken(l.Messages.InvalidRegExp);return 65535>=b?String.fromCharCode(b):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
"\uffff"));try{RegExp(d)}catch(b){this.throwUnexpectedToken(l.Messages.InvalidRegExp)}try{return new RegExp(h,g)}catch(b){return null}};n.prototype.scanRegExpBody=function(){var h=this.source[this.index];a.assert("/"===h,"Regular expression literal must start with a slash");for(var g=this.source[this.index++],e=!1,d=!1;!this.eof();)if(h=this.source[this.index++],g+=h,"\\"===h)h=this.source[this.index++],t.Character.isLineTerminator(h.charCodeAt(0))&&this.throwUnexpectedToken(l.Messages.UnterminatedRegExp),
g+=h;else if(t.Character.isLineTerminator(h.charCodeAt(0)))this.throwUnexpectedToken(l.Messages.UnterminatedRegExp);else if(e)"]"===h&&(e=!1);else{if("/"===h){d=!0;break}"["===h&&(e=!0)}d||this.throwUnexpectedToken(l.Messages.UnterminatedRegExp);return g.substr(1,g.length-2)};n.prototype.scanRegExpFlags=function(){for(var h="";!this.eof();){var g=this.source[this.index];if(!t.Character.isIdentifierPart(g.charCodeAt(0)))break;++this.index;if("\\"!==g||this.eof())h+=g;else{g=this.source[this.index];
if("u"===g){++this.index;g=this.index;var e=this.scanHexEscape("u");if(null!==e)for(h+=e;g<this.index;++g);else this.index=g,h+="u"}this.tolerateUnexpectedToken()}}return h};n.prototype.scanRegExp=function(){var h=this.index,g=this.scanRegExpBody(),e=this.scanRegExpFlags(),d=this.testRegExp(g,e);return{type:9,value:"",pattern:g,flags:e,regex:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};n.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,
lineStart:this.lineStart,start:this.index,end:this.index};var h=this.source.charCodeAt(this.index);return t.Character.isIdentifierStart(h)?this.scanIdentifier():40===h||41===h||59===h?this.scanPunctuator():39===h||34===h?this.scanStringLiteral():46===h?t.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():t.Character.isDecimalDigit(h)?this.scanNumericLiteral():96===h||125===h&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():
55296<=h&&57343>h&&t.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return n}();w.Scanner=D})},"esri/arcade/lib/character":function(){define(["require","exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.Character=void 0;var a=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
t=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
w.Character={fromCodePoint:function(l){return 65536>l?String.fromCharCode(l):String.fromCharCode(55296+(l-65536>>10))+String.fromCharCode(56320+(l-65536&1023))},isWhiteSpace:function(l){return 32===l||9===l||11===l||12===l||160===l||5760<=l&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(l)},isLineTerminator:function(l){return 10===l||13===l||8232===l||8233===l},isIdentifierStart:function(l){return 36===l||95===l||65<=l&&90>=l||97<=l&&122>=l||92===l||
128<=l&&a.test(w.Character.fromCodePoint(l))},isIdentifierPart:function(l){return 36===l||95===l||65<=l&&90>=l||97<=l&&122>=l||48<=l&&57>=l||92===l||128<=l&&t.test(w.Character.fromCodePoint(l))},isDecimalDigit:function(l){return 48<=l&&57>=l},isHexDigit:function(l){return 48<=l&&57>=l||65<=l&&70>=l||97<=l&&102>=l},isOctalDigit:function(l){return 48<=l&&55>=l}}})},"esri/arcade/lib/token":function(){define(["require","exports"],function(D,w){Object.defineProperty(w,"__esModule",{value:!0});w.TokenName=
w.TokenType=void 0;D=w.TokenType||(w.TokenType={});D[D.BooleanLiteral=1]="BooleanLiteral";D[D.EOF=2]="EOF";D[D.Identifier=3]="Identifier";D[D.Keyword=4]="Keyword";D[D.NullLiteral=5]="NullLiteral";D[D.NumericLiteral=6]="NumericLiteral";D[D.Punctuator=7]="Punctuator";D[D.StringLiteral=8]="StringLiteral";D[D.RegularExpression=9]="RegularExpression";D[D.Template=10]="Template";w.TokenName={};w.TokenName[1]="Boolean";w.TokenName[2]="\x3cend\x3e";w.TokenName[3]="Identifier";w.TokenName[4]="Keyword";w.TokenName[5]=
"Null";w.TokenName[6]="Numeric";w.TokenName[7]="Punctuator";w.TokenName[8]="String";w.TokenName[9]="RegularExpression";w.TokenName[10]="Template"})},"esri/arcade/lib/tokenizer":function(){var D=this&&this.__spreadArray||function(w,a){for(var t=0,l=a.length,n=w.length;t<l;t++,n++)w[n]=a[t];return w};define("require exports ./error-handler ./nodes ./scanner ./token".split(" "),function(w,a,t,l,n,h){Object.defineProperty(a,"__esModule",{value:!0});a.Tokenizer=void 0;var g=function(){function e(){this.values=
[];this.curly=this.paren=-1}e.prototype.beforeFunctionExpression=function(d){return 0<=D(D(D(D(["(","{","[","return",","],l.AssignmentOperators),l.BinaryOperators),l.LogicalOperators),l.UnaryOperators).indexOf(d)};e.prototype.isRegexStart=function(){var d=this.values[this.values.length-1],b=null!==d;switch(d){case "this":case "]":b=!1;break;case ")":d=this.values[this.paren-1];b="if"===d||"while"===d||"for"===d||"with"===d;break;case "}":b=!0,"function"===this.values[this.curly-3]?b=(d=this.values[this.curly-
4])?!this.beforeFunctionExpression(d):!1:"function"===this.values[this.curly-4]&&(b=(d=this.values[this.curly-5])?!this.beforeFunctionExpression(d):!0)}return b};e.prototype.push=function(d){7===d.type||4===d.type?("{"===d.value?this.curly=this.values.length:"("===d.value&&(this.paren=this.values.length),this.values.push(d.value)):this.values.push(null)};return e}();w=function(){function e(d,b){this.errorHandler=new t.ErrorHandler;this.errorHandler.tolerant=b?"boolean"===typeof b.tolerant&&b.tolerant:
!1;this.scanner=new n.Scanner(d,this.errorHandler);this.scanner.trackComment=b?"boolean"===typeof b.comment&&b.comment:!1;this.trackRange=b?"boolean"===typeof b.range&&b.range:!1;this.trackLoc=b?"boolean"===typeof b.loc&&b.loc:!1;this.buffer=[];this.reader=new g}e.prototype.errors=function(){return this.errorHandler.errors};e.prototype.getNextToken=function(){if(0===this.buffer.length){var d=this.scanner.scanComments();if(d)for(var b=0;b<d.length;++b){var c=d[b],f=this.scanner.source.slice(c.slice[0],
c.slice[1]);f={type:c.multiLine?"BlockComment":"LineComment",value:f};this.trackRange&&(f.range=c.range);this.trackLoc&&(f.loc=c.loc);this.buffer.push(f)}if(!this.scanner.eof()){d=null;this.trackLoc&&(d={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{line:0,column:0}});b=void 0;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){c=this.scanner.saveState();try{b=this.scanner.scanRegExp()}catch(m){this.scanner.restoreState(c),b=this.scanner.lex()}}else b=
this.scanner.lex();this.reader.push(b);c={type:h.TokenName[b.type],value:this.scanner.source.slice(b.start,b.end)};this.trackRange&&(c.range=[b.start,b.end]);this.trackLoc&&d&&(d.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},c.loc=d);9===b.type&&(c.regex={pattern:b.pattern,flags:b.flags});this.buffer.push(c)}}return this.buffer.shift()};return e}();a.Tokenizer=w})},"esri/arcadeProfiles/visualizationProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../support/expressionUtils ./utils".split(" "),
function(D,w,a,t,l,n,h){D=new (D(null,{declaredClass:"esri.arcadeProfiles.VisualizationProfile",initialize:function(g){var e=[];h.hasGeometryOperations(g)&&e.push(n.enableGeometryOperations());return l(e)}}));a("extend-esri")&&w.setObject("arcadeProfiles.visualizationProfile",D,t);return D})},"esri/arcadeProfiles/utils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","../kernel","../support/expressionUtils"],function(D,w,a,t,l){var n=/(\/(MapServer|FeatureServer)).*/ig,h={hasGeometryOperations:function(g){return w.some(g,
function(e){return e.hasGeometryOperations?e.hasGeometryOperations():l.hasGeometryOperations(e)})},hasFeatureSetOperations:function(g){return w.some(g,function(e){return e.hasFeatureSetOperations?e.hasFeatureSetOperations():l.hasFeatureSetOperations(e)})},hasVariables:function(g,e){return w.some(g,function(d){return w.some(e,function(b){return d.hasVariable?d.hasVariable(b):l.hasVariable(d,b)})})},isAsync:function(g){return w.some(g,function(e){return e.async})},getServiceUrl:function(g){return n.test(g)?
g.replace(n,"$1"):null}};a("extend-esri")&&D.setObject("arcadeProfiles.utils",h,t);return h})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(D,w,a,t,l,n,h){D=D(h,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(g,e){if(g&&!g.declaredClass){var d=g;this.symbol=(g=d.symbol)&&(g.declaredClass?g:n.fromJson(g,e));this.label=d.label;this.description=d.description}else this.symbol=
g},getSymbol:function(g){return this.symbol},toJson:function(){var g=w.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return l.fixJson(g)}});a("extend-esri")&&w.setObject("renderer.SimpleRenderer",D,t);return D})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
function(D,w,a,t,l,n,h,g,e){D=D(g,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(d,b,c,f,m,r){this.values=[];this._symbols={};this.infos=[];d&&!d.declaredClass?(b=d,c=r&&r.geometryType,this.defaultSymbol=(d=b.defaultSymbol)&&(d.declaredClass?d:h.fromJson(d,r)),this.attributeField=b.field1,this.attributeField2=b.field2,this.attributeField3=b.field3,this.fieldDelimiter=b.fieldDelimiter,this.defaultLabel=b.defaultLabel,this.setValueExpression(b.valueExpression),this.valueExpressionTitle=
b.valueExpressionTitle,this.legendOptions=b.legendOptions,b.backgroundFillSymbol&&(this.backgroundFillSymbol=h.fromJson(b.backgroundFillSymbol,c?{geometryType:"esriGeometryPolygon"}:null)),"esriGeometryPolygon"===c&&this.hasVisualVariables("sizeInfo",!1)&&(r={geometryType:"esriGeometryPoint"}),w.forEach(b.uniqueValueInfos,function(p){this._addValueInfo(p,r)},this)):(this.defaultSymbol=d,this.attributeField=b,this.attributeField2=c,this.attributeField3=f,this.fieldDelimiter=m);this._multiple=!!this.attributeField2},
addValue:function(d,b){d=a.isObject(d)?d:{value:d,symbol:b};this._addValueInfo(d)},removeValue:function(d){var b=w.indexOf(this.values,d);-1!==b&&(this.values.splice(b,1),this._hasNullKeyword=this._evalNullKeyword(this.values),delete this._symbols[d],this.infos.splice(b,1))},getUniqueValueInfo:function(d){var b=this.attributeField,c=d.attributes;if(this.valueExpression)b=this._getDataValue(d,this._uvInfo,null,this._cache.uvInfo),b=this._normalizeNullValue(b);else if(this._multiple){d=this.attributeField2;
var f=this.attributeField3,m=[];b&&m.push(this._normalizeNullValue(c[b]));d&&m.push(this._normalizeNullValue(c[d]));f&&m.push(this._normalizeNullValue(c[f]));b=m.join(this.fieldDelimiter||"")}else b=a.isFunction(b)?b(d):c[b],b=this._normalizeNullValue(b);return this._symbols[b]},setValueExpression:function(d){this.valueExpression=d;this._uvInfo={valueExpression:d};this._cache.uvInfo=this._createCache(this._uvInfo,!0)},getFieldsUsedInExpressions:function(d){var b=this.inherited(arguments);this.valueExpression&&
(b=b.concat(e.extractFieldNames(this.valueExpression,d)));b.sort();return w.filter(b,function(c,f){return 0===f||b[f-1]!==c})},getSymbol:function(d){return(d=this.getUniqueValueInfo(d))&&d.symbol||this.defaultSymbol},_addValueInfo:function(d,b){var c=d.value;this.values.push(c);this._hasNullKeyword=this._evalNullKeyword(this.values);this.infos.push(d);var f=d.symbol;f&&!f.declaredClass&&(d.symbol=h.fromJson(f,b));this._symbols[c]=d},_nullCode:"\x3cNull\x3e",_normalizeNullValue:function(d){return this._hasNullKeyword&&
null==d?this._nullCode:d},_evalNullKeyword:function(d){var b=this.fieldDelimiter||"",c=new RegExp("(^|"+b+")("+this._nullCode+")("+b+"|$)");return w.some(d,function(f){return c.test(f)})},toJson:function(){var d=n.fixJson;var b={type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:a.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&
this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:w.map(this.infos||[],function(c){c=a.mixin({},c);c.symbol=c.symbol&&c.symbol.toJson();c.value+="";return d(c)})};this.backgroundFillSymbol&&(b.backgroundFillSymbol=this.backgroundFillSymbol.toJson());b=a.mixin(this.inherited(arguments),b);return d(b)}});t("extend-esri")&&a.setObject("renderer.UniqueValueRenderer",D,l);return D})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
function(D,w,a,t,l,n,h,g,e){D=D(g,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(d,b,c){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(d&&!d.declaredClass){var f=d;b=c&&c.geometryType;this.attributeField=f.field;this.setValueExpression(f.valueExpression);this.valueExpressionTitle=f.valueExpressionTitle;this.legendOptions=f.legendOptions;this.defaultSymbol=(d=f.defaultSymbol)&&(d.declaredClass?d:h.fromJson(d,c));this.backgroundFillSymbol=(d=f.backgroundFillSymbol)&&
(d.declaredClass?d:h.fromJson(d,b?{geometryType:"esriGeometryPolygon"}:null));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],f,this);var m=f.minValue;(d=f.classBreakInfos)&&d[0]&&n.isDefined(d[0].classMaxValue)&&w.forEach(d,function(r){var p=r.classMaxValue;r.minValue=m;m=r.maxValue=p},this);"esriGeometryPolygon"===b&&(this.hasVisualVariables("sizeInfo",!1)||h.isPointSymbol(h.getFirstSupportedSymbol(w.map(d,function(r){return r.symbol}))))&&
(c={geometryType:"esriGeometryPoint"});w.forEach(d,function(r){this._addBreakInfo(r,c)},this)}else this.defaultSymbol=d,this.attributeField=b},addBreak:function(d,b,c){d=a.isObject(d)?d:{minValue:d,maxValue:b,symbol:c};this._addBreakInfo(d)},removeBreak:function(d,b){var c=this.breaks,f,m=c.length,r=this._symbols;for(f=0;f<m;f++){var p=c[f];if(p[0]==d&&p[1]==b){c.splice(f,1);delete r[d+"-"+b];this.infos.splice(f,1);break}}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(d){var b=
this.attributeField,c=d.attributes,f=this.breaks,m=f.length,r=this.isMaxInclusive;if(this.valueExpression)d=this._getDataValue(d,this._cbInfo,null,this._cache.cbInfo);else if(a.isFunction(b))d=b(d);else if(d=parseFloat(c[b]),b=this.normalizationType,b){var p=parseFloat(this.normalizationTotal);c=parseFloat(c[this.normalizationField]);if("log"===b)d=Math.log(d)*Math.LOG10E;else if("percent-of-total"===b&&!isNaN(p))d=d/p*100;else if("field"===b){if(isNaN(d)||isNaN(c))return-1;d/=c}}if(null!=d&&!isNaN(d)&&
"number"===typeof d)for(c=0;c<m;c++)if(b=f[c],b[0]<=d&&(r?d<=b[1]:d<b[1]))return c;return-1},getBreakInfo:function(d){d=this.getBreakIndex(d);return-1!==d?this.infos[d]:null},getSymbol:function(d){return(d=this.breaks[this.getBreakIndex(d)])?this._symbols[d[0]+"-"+d[1]]:this.defaultSymbol},setMaxInclusive:function(d){this.isMaxInclusive=d},setValueExpression:function(d){this.valueExpression=d;this._cbInfo={valueExpression:d};this._cache.cbInfo=this._createCache(this._cbInfo)},getFieldsUsedInExpressions:function(d){var b=
this.inherited(arguments);this.valueExpression&&(b=b.concat(e.extractFieldNames(this.valueExpression,d)));b.sort();return w.filter(b,function(c,f){return 0===f||b[f-1]!==c})},isContinuousRenderer:function(){var d=!1;if(this.infos&&1===this.infos.length){var b=this.attributeField,c=this.normalizationField,f=this.valueExpression;d=this.getVisualVariablesForType("colorInfo",!1)||[];var m=this.getVisualVariablesForType("sizeInfo",!1)||[],r=this.getVisualVariablesForType("opacityInfo",!1)||[];d=d.concat(m).concat(r);
d=w.some(d,function(p){return(p.field===b||p.valueExpression===f)&&p.normalizationField==c})}return d},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"],
["defined-interval","esriClassifyDefinedInterval"]],_copy:function(d,b,c){w.forEach(d,function(f){var m=f.split(":");if(1<m.length){f=m[0];var r=this["_"+f+"Enums"];if("rest"===m[1]){var p="1";var u="0"}else"sdk"===m[1]&&(p="0",u="1")}m=b[f];if(void 0!==m&&(c[f]=m,r&&p)){var y,x=r.length;for(y=0;y<x;y++)if(r[y][p]===m){c[f]=r[y][u];break}}},this)},_addBreakInfo:function(d,b){var c=d.minValue,f=d.maxValue;this.breaks.push([c,f]);this.infos.push(d);var m=d.symbol;m&&!m.declaredClass&&(d.symbol=h.fromJson(m,
b));this._symbols[c+"-"+f]=d.symbol},toJson:function(){var d=this.infos||[],b=n.fixJson,c=d[0]&&d[0].minValue,f=this.backgroundFillSymbol;d=a.mixin(this.inherited(arguments),{type:"classBreaks",field:this.attributeField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:a.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:f&&f.toJson(),minValue:-Infinity===c?-Number.MAX_VALUE:c,classBreakInfos:w.map(d,
function(m){m=a.mixin({},m);m.symbol=m.symbol&&m.symbol.toJson();m.classMaxValue=Infinity===m.maxValue?Number.MAX_VALUE:m.maxValue;delete m.minValue;delete m.maxValue;return b(m)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,d);d.hasOwnProperty("normalizationType")&&!d.normalizationType&&delete d.normalizationType;d.hasOwnProperty("classificationMethod")&&!d.classificationMethod&&delete d.classificationMethod;return b(d)}});
t("extend-esri")&&a.setObject("renderer.ClassBreaksRenderer",D,l);return D})},"esri/renderers/TemporalRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Renderer"],function(D,w,a,t,l){D=D(l,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(n,h,g,e){this.observationRenderer=n;this.latestObservationRenderer=h;this.trackRenderer=g;this.observationAger=e},getSymbol:function(n){var h=n.getLayer(),g=this.getObservationRenderer(n),e=g&&g.getSymbol(n),
d=this.observationAger;h.timeInfo&&h._map.timeExtent&&g===this.observationRenderer&&d&&e&&(e=d.getAgedSymbol(e,n));return e},getObservationRenderer:function(n){return 0===n.getLayer()._getKind(n)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer},toJson:function(){var n={type:"temporal"};n.observationRenderer=this.observationRenderer.toJson();this.latestObservationRenderer&&(n.latestObservationRenderer=this.latestObservationRenderer.toJson());this.trackRenderer&&(n.trackRenderer=
this.trackRenderer.toJson());this.observationAger&&(n.observationAger=this.observationAger.toJson());return n}});a("extend-esri")&&w.setObject("renderer.TemporalRenderer",D,t);return D})},"esri/renderers/SymbolAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(D,w,a,t){D=D(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(l,n){},_setSymbolSize:function(l,n){switch(l.type){case "simplemarkersymbol":l.setSize(n);break;case "picturemarkersymbol":l.setWidth(n);
l.setHeight(n);break;case "simplelinesymbol":case "cartographiclinesymbol":l.setWidth(n);break;case "simplefillsymbol":case "picturefillsymbol":l.outline&&l.outline.setWidth(n)}}});a("extend-esri")&&w.setObject("renderer.SymbolAger",D,t);return D})},"esri/renderers/TimeClassBreaksAger":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/date ../kernel ../lang ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(D,w,a,t,l,n,h,g,e,d){var b=D(d,{declaredClass:"esri.renderer.TimeClassBreaksAger",
constructor:function(c,f){this.infos=c;this.timeUnits=f||"day";c.sort(function(m,r){return m.minAge<r.minAge?-1:m.minAge>r.minAge?1:0})},getAgedSymbol:function(c,f){var m=f.getLayer();f=f.attributes;var r=h.isDefined;c=g.fromJson(c.toJson());var p=m._map.timeExtent.endTime;if(!p)return c;var u=l.difference(new Date(f[m._startTimeField]),p,this.timeUnits);w.some(this.infos,function(y){if(u>=y.minAge&&u<=y.maxAge){var x=y.color,z=y.size;y=y.alpha;x&&c.setColor(x);r(z)&&this._setSymbolSize(c,z);r(y)&&
c.color&&(c.color.a=y);return!0}},this);return c},toJson:function(){var c={agerClassBreakInfos:[]},f;c.timeUnits=this._getRestUnits(this.timeUnits);for(f=0;f<this.infos.length;f+=1){var m=this.infos[f];var r={};r.oldestAge=Infinity===m.maxAge?null:m.maxAge;r.size=m.size;m.color&&(r.color=e.toJsonColor(m.color));m.alpha&&(r.alpha=Math.round(255*m.alpha));c.agerClassBreakInfos[f]=r}return c},_getRestUnits:function(c){var f="esriTimeUnitsDays";switch(c){case b.UNIT_SECONDS:f="esriTimeUnitsSeconds";break;
case b.UNIT_MILLISECONDS:f="esriTimeUnitsMilliseconds";break;case b.UNIT_HOURS:f="esriTimeUnitsHours";break;case b.UNIT_MINUTES:f="esriTimeUnitsMinutes";break;case b.UNIT_MONTHS:f="esriTimeUnitsMonths";break;case b.UNIT_WEEKS:f="esriTimeUnitsWeeks";break;case b.UNIT_YEARS:f="esriTimeUnitsYears"}return f}});a.mixin(b,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});t("extend-esri")&&
a.setObject("renderer.TimeClassBreaksAger",b,n);return b})},"esri/renderers/TimeRampAger":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(D,w,a,t,l,n,h,g){D=D(g,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(e,d,b){this.colorRange=e;this.sizeRange=d;this.alphaRange=b},getAgedSymbol:function(e,d){var b=d.getLayer(),c=d.attributes;e=n.fromJson(e.toJson());var f=b._map.timeExtent;
d=f.startTime;f=f.endTime;if(!d||!f)return e;d=d.getTime();f=f.getTime();b=new Date(c[b._startTimeField]);b=b.getTime();b<d&&(b=d);b=f===d?1:(b-d)/(f-d);if(d=this.sizeRange)c=d[0],f=d[1],d=Math.abs(f-c)*b,this._setSymbolSize(e,c<f?c+d:c-d);if(d=this.colorRange){f=d[0];var m=d[1],r=Math.round;c=new a;var p=f.r,u=m.r;d=Math.abs(u-p)*b;c.r=r(p<u?p+d:p-d);p=f.g;u=m.g;d=Math.abs(u-p)*b;c.g=r(p<u?p+d:p-d);p=f.b;u=m.b;d=Math.abs(u-p)*b;c.b=r(p<u?p+d:p-d);f=f.a;m=m.a;d=Math.abs(m-f)*b;c.a=f<m?f+d:f-d;e.setColor(c)}c=
e.color;(d=this.alphaRange)&&c&&(f=d[0],m=d[1],d=Math.abs(m-f)*b,c.a=f<m?f+d:f-d);return e},toJson:function(){var e={};this.sizeRange&&(e.sizeRange=this.sizeRange);this.colorRange&&(e.colorRange=[h.toJsonColor(this.colorRange[0]),h.toJsonColor(this.colorRange[1])]);this.alphaRange&&(e.alphaRange=[Math.round(255*this.alphaRange[0]),Math.round(255*this.alphaRange[1])]);return e}});t("extend-esri")&&w.setObject("renderer.TimeRampAger",D,l);return D})},"esri/renderers/StretchRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),
function(D,w,a,t,l,n,h,g){var e={TYPE_NONE:"none",TYPE_STANDARDDEVIATION:"standardDeviation",TYPE_HISTOGRAMEQUALIZATION:"histogramEqualization",TYPE_MINMAX:"minMax",TYPE_PERCENTCLIP:"percentClip",TYPE_SIGMOID:"sigmoid"};D=D(null,{declaredClass:"esri.renderer.StretchRenderer",constructor:function(d){d=d||{};this.stretchType=e.TYPE_NONE;this.dra=!0;this.statistics=[];this.gamma=[];this.computeGamma=this.useGamma=!1;this.sigmoidStrengthLevel=this.numberOfStandardDeviations=this.minPercent=this.maxPercent=
this.min=this.max=null;a.mixin(this,d);this.colorRamp=g.fromJson(d.colorRamp)},toJson:function(){var d={type:"rasterStretch",stretchType:this.stretchType,colorRamp:this.colorRamp&&this.colorRamp.toJson(),min:this.min,max:this.max,numberOfStandardDeviations:this.numberOfStandardDeviations,statistics:a.clone(this.statistics),dra:this.dra,minPercent:this.minPercent,maxPercent:this.maxPercent,useGamma:this.useGamma,gamma:a.clone(this.gamma),computeGamma:this.computeGamma,sigmoidStrengthLevel:this.sigmoidStrengthLevel};
return n.fixJson(d)},toRenderingRule:function(d){d=d||{};var b=new h;b.functionName="Stretch";var c=this._convertStretchTypeEnumToIndex(this.stretchType),f={StretchType:c,Statistics:this.statistics,DRA:this.dra,UseGamma:this.useGamma,Gamma:this.gamma,ComputeGamma:this.computeGamma};n.isDefined(this.min)&&(f.Min=this.min);n.isDefined(this.min)&&(f.Max=this.max);3===c?(f.NumberOfStandardDeviations=this.numberOfStandardDeviations,b.outputPixelType="U8"):6===c?(f.MinPercent=parseFloat(this.minPercent),
f.MaxPercent=parseFloat(this.maxPercent),b.outputPixelType="U8"):5===c?b.outputPixelType="U8":9===c&&(f.SigmoidStrengthLevel=this.sigmoidStrengthLevel);b.functionArguments=f;b.variableName="Raster";return this.colorRamp?(c=new h,c.functionArguments=d.convertToColormap?{Colormap:g.convertColorRampToColormap(this.colorRamp,256)}:{colorRamp:this.colorRamp.toJson()},c.variableName="Raster",c.functionName="Colormap",c.functionArguments.Raster=b,c):b},_convertStretchTypeEnumToIndex:function(d){var b=0;
d===e.TYPE_STANDARDDEVIATION?b=3:d===e.TYPE_HISTOGRAMEQUALIZATION?b=4:d===e.TYPE_MINMAX?b=5:d===e.TYPE_PERCENTCLIP?b=6:d===e.TYPE_SIGMOID&&(b=9);return b},_convertStretchTypeIndexToEnum:function(d){var b=e.TYPE_NONE;3===d?b=e.TYPE_STANDARDDEVIATION:4===d?b=e.TYPE_HISTOGRAMEQUALIZATION:5===d?b=e.TYPE_MINMAX:6===d?b=e.TYPE_PERCENTCLIP:9===d&&(b=e.TYPE_SIGMOID);return b}});a.mixin(D,e);t("extend-esri")&&a.setObject("renderer.StretchRenderer",D,l);return D})},"esri/layers/RasterFunction":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/has","../kernel","../lang"],function(D,w,a,t,l){var n=D(null,{declaredClass:"esri.layers.RasterFunction",functionName:null,arguments:null,functionArguments:null,variableName:null,outputPixelType:null,_isTemplate:null,_templateJson:null,constructor:function(h){if(w.isObject(h)){this._isRFTJson(h)&&(this._isTemplate=!0,this._templateJson=h);var g=0;this.functionName=h.rasterFunction||h.name;this.functionArguments=w.clone(h.rasterFunctionArguments||h.arguments);w.mixin(this,h);
if(h=this.functionArguments)if(h.Raster=this._toRasterFunction(h.Raster),h.Raster2=this._toRasterFunction(h.Raster2),h.DEM=this._toRasterFunction(h.DEM),h.FillRaster=this._toRasterFunction(h.FillRaster),h.Rasters&&h.Rasters.length)for(g=0;g<h.Rasters.length;g++)h.Rasters[g]=this._toRasterFunction(h.Rasters[g])}},_isRFTJson:function(h){return h.name&&h.arguments&&h.function&&h.hasOwnProperty("functionType")},_toRasterFunction:function(h){return h&&(h.rasterFunction||h.functionName)?new n(h):h},_rfToJson:function(h){h&&
"esri.layers.RasterFunction"===h.declaredClass&&(h=h.toJson());return h},toJson:function(){if(this._isTemplate)return this._templateJson;var h=w.clone(this.functionArguments||this.arguments);if(h&&(h.Raster=this._rfToJson(h.Raster),h.Raster2=this._rfToJson(h.Raster2),h.DEM=this._rfToJson(h.DEM),h.FillRaster=this._rfToJson(h.FillRaster),h.Rasters&&h.Rasters.length)){var g,e=[];for(g=0;g<h.Rasters.length;g++)e.push(this._rfToJson(h.Rasters[g]));h.Rasters=e}return l.filter({rasterFunction:this.functionName,
rasterFunctionArguments:h,variableName:this.variableName,outputPixelType:this.outputPixelType?this.outputPixelType:null},function(d){if(null!==d&&void 0!==d)return!0})}});a("extend-esri")&&w.setObject("layers.RasterFunction",n,t);return n})},"esri/renderers/colorRampUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/store/Memory ../tasks/AlgorithmicColorRamp ../tasks/MultipartColorRamp ../Color ./colorUtils".split(" "),function(D,w,a,t,l,n,h){function g(x){if(null==x||"algorithmic"!==
x.type&&!x.fromColor)return x;var z=x.declaredClass?new t:D.clone(x);z.fromColor=x.toColor;z.toColor=x.fromColor;z.algorithm=x.algorithm;return z}function e(x){if(null==x)return null;if("multipart"===x.type||x.colorRamps&&0<x.colorRamps.length){var z=x.declaredClass?new l:D.clone(x);z.colorRamps=w.map(x.colorRamps.slice().reverse(),function(q){return g(q)});return z}return g(x)}function d(x,z,q){if(!x)return{id:null,isInverted:!1};var k=x.name;k&&(x.fromColor||x.colorRamps)&&(x.name=void 0);var v=
b(x,z,q);if(v)return k&&(x.name=k),{id:v,isInverted:!1};v=b(x,z,q,!0);k&&(x.name=k);return v?{id:v,isInverted:!0}:k&&(v=b(x,z,q))?{id:v,isInverted:!1}:{id:null,isInverted:!1}}function b(x,z,q,k){if(x){k&&(x=e(x));z=z||p;q=q||u;var v=null;k=x.declaredClass;var B,E;if((B="string"===typeof x?x:x.name)&&w.some(q,function(N){if(N.name===B)return v=N.id,!0})&&v)return v;"esri.tasks.AlgorithmicColorRamp"===k?w.some(z,function(N){if(f(x.fromColor.toRgb(),N.fromColor)&&f(x.toColor.toRgb(),N.toColor))return v=
N.id,!0},this):"esri.tasks.MultipartColorRamp"===k&&w.some(z,function(N){if(x.colorRamps&&N.colorRamps&&x.colorRamps.length===N.colorRamps.length&&(E=x.colorRamps,!w.some(N.colorRamps,function(G,K){if(!f(E[K].fromColor.toRgb(),G.fromColor)||!f(E[K].toColor.toRgb(),G.toColor))return!0},this))){if(v)return!0;v=N.id}},this);return v}}function c(x){var z=new t,q=x.algorithm;z.fromColor=n.toDojoColor(x.fromColor);z.toColor=n.toDojoColor(x.toColor);q?"esriCIELabAlgorithm"===q?z.algorithm="cie-lab":"esriHSVAlgorithm"===
q?z.algorithm="hsv":"esriLabLChAlgorithm"===q&&(z.algorithm="lab-lch"):z.algorithm="hsv";return z}function f(x,z){if(!x||!z)return!1;x=x.slice(0,3);z=z.slice(0,3);return!w.some(x,function(q,k){if(q>z[k]+2||q<z[k]-2)return!0})}function m(x,z,q){x=h.toLAB(x);z=h.toLAB(z);return h.toRGB({l:x.l*(1-q)+q*z.l,a:x.a*(1-q)+q*z.a,b:x.b*(1-q)+q*z.b})}var r={},p=[{id:"none",selected:!0},{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,
181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,
229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",
colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"cividis_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,32,77,255],toColor:[0,33,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,33,79,255],toColor:[0,34,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,34,80,255],toColor:[0,35,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[0,35,82,255],toColor:[0,35,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,35,84,255],toColor:[0,36,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,36,85,255],toColor:[0,37,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,37,87,255],toColor:[0,38,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,38,89,255],toColor:[0,38,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
38,91,255],toColor:[0,39,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,39,92,255],toColor:[0,40,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,40,94,255],toColor:[0,40,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,40,96,255],toColor:[0,41,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,41,98,255],toColor:[0,42,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,42,100,
255],toColor:[0,42,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,42,101,255],toColor:[0,43,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,43,103,255],toColor:[0,44,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,44,105,255],toColor:[0,45,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,45,107,255],toColor:[0,45,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,45,
109,255],toColor:[0,46,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,46,110,255],toColor:[0,47,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,111,255],toColor:[0,47,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,112,255],toColor:[0,47,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,112,255],toColor:[0,48,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
48,112,255],toColor:[0,49,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,49,112,255],toColor:[0,49,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,49,112,255],toColor:[0,50,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,50,112,255],toColor:[0,51,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,51,111,255],toColor:[0,52,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
52,111,255],toColor:[0,52,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,52,111,255],toColor:[0,53,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,53,111,255],toColor:[1,54,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,54,111,255],toColor:[6,55,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,55,110,255],toColor:[11,55,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,
55,110,255],toColor:[15,56,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[15,56,110,255],toColor:[18,57,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,57,110,255],toColor:[21,57,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,57,110,255],toColor:[24,58,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,58,110,255],toColor:[26,59,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[26,59,109,255],toColor:[29,60,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,60,109,255],toColor:[31,60,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,60,109,255],toColor:[33,61,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,61,109,255],toColor:[35,62,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,62,109,255],toColor:[37,63,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[37,63,109,255],toColor:[38,63,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,63,109,255],toColor:[40,64,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,64,108,255],toColor:[42,65,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,65,108,255],toColor:[43,65,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,65,108,255],toColor:[45,66,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[45,66,108,255],toColor:[46,67,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,67,108,255],toColor:[48,68,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,68,108,255],toColor:[49,68,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,68,108,255],toColor:[51,69,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,69,108,255],toColor:[52,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[52,70,108,255],toColor:[53,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,70,108,255],toColor:[55,71,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,71,108,255],toColor:[56,72,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,72,108,255],toColor:[57,73,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,73,108,255],toColor:[58,73,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[58,73,108,255],toColor:[60,74,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,74,108,255],toColor:[61,75,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,75,108,255],toColor:[62,75,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,75,108,255],toColor:[63,76,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,76,108,255],toColor:[64,77,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[64,77,108,255],toColor:[65,78,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,78,108,255],toColor:[67,78,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,78,108,255],toColor:[68,79,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,79,108,255],toColor:[69,80,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,80,108,255],toColor:[70,80,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[70,80,108,255],toColor:[71,81,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,81,108,255],toColor:[72,82,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,82,108,255],toColor:[73,83,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,83,108,255],toColor:[74,83,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,83,108,255],toColor:[75,84,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[75,84,108,255],toColor:[76,85,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,85,108,255],toColor:[77,86,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[77,86,108,255],toColor:[78,86,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,86,108,255],toColor:[79,87,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,87,108,255],toColor:[80,88,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[80,88,108,255],toColor:[81,88,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,88,109,255],toColor:[82,89,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[82,89,109,255],toColor:[83,90,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,90,109,255],toColor:[84,91,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,91,109,255],toColor:[85,91,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[85,91,109,255],toColor:[86,92,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,92,109,255],toColor:[87,93,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,93,109,255],toColor:[88,93,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,93,109,255],toColor:[89,94,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,94,110,255],toColor:[90,95,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[90,95,110,255],toColor:[91,96,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,96,110,255],toColor:[92,96,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,96,110,255],toColor:[93,97,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[93,97,110,255],toColor:[94,98,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[94,98,110,255],toColor:[94,99,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[94,99,111,255],toColor:[95,99,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,99,111,255],toColor:[96,100,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[96,100,111,255],toColor:[97,101,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,101,111,255],toColor:[98,101,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,101,111,255],toColor:[99,102,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[99,102,112,255],toColor:[100,103,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,103,112,255],toColor:[101,104,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,104,112,255],toColor:[102,104,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[102,104,112,255],toColor:[103,105,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,105,113,255],toColor:[104,106,113,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[104,106,113,255],toColor:[104,107,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[104,107,113,255],toColor:[105,107,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,107,113,255],toColor:[106,108,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,108,114,255],toColor:[107,109,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,109,114,255],toColor:[108,
109,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,109,114,255],toColor:[109,110,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[109,110,115,255],toColor:[110,111,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,111,115,255],toColor:[111,112,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,112,115,255],toColor:[111,112,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,
112,115,255],toColor:[112,113,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,113,116,255],toColor:[113,114,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,114,116,255],toColor:[114,115,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[114,115,116,255],toColor:[115,115,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,115,117,255],toColor:[116,116,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[116,116,117,255],toColor:[117,117,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,117,117,255],toColor:[117,118,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,118,118,255],toColor:[118,118,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[118,118,118,255],toColor:[119,119,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,119,119,255],toColor:[120,120,119,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[120,120,119,255],toColor:[121,121,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,121,119,255],toColor:[122,121,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,121,120,255],toColor:[123,122,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,122,120,255],toColor:[124,123,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,123,120,255],toColor:[124,
124,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,124,121,255],toColor:[125,124,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,124,121,255],toColor:[126,125,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[126,125,121,255],toColor:[127,126,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,126,121,255],toColor:[128,127,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,
127,121,255],toColor:[129,127,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[129,127,121,255],toColor:[130,128,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,128,121,255],toColor:[131,129,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,129,121,255],toColor:[132,130,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,130,121,255],toColor:[133,130,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[133,130,121,255],toColor:[134,131,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,131,121,255],toColor:[135,132,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,132,121,255],toColor:[136,133,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,133,121,255],toColor:[137,134,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,134,121,255],toColor:[138,134,121,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[138,134,121,255],toColor:[139,135,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[139,135,121,255],toColor:[140,136,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,136,121,255],toColor:[141,137,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[141,137,121,255],toColor:[142,137,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,137,121,255],toColor:[143,
138,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,138,121,255],toColor:[144,139,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[144,139,121,255],toColor:[145,140,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,140,121,255],toColor:[146,141,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,141,121,255],toColor:[147,141,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,
141,121,255],toColor:[148,142,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,142,121,255],toColor:[149,143,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[149,143,121,255],toColor:[150,144,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,144,121,255],toColor:[151,145,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,145,120,255],toColor:[152,145,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[152,145,120,255],toColor:[153,146,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[153,146,120,255],toColor:[154,147,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,147,120,255],toColor:[155,148,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,148,120,255],toColor:[156,149,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,149,120,255],toColor:[157,149,120,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[157,149,120,255],toColor:[158,150,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[158,150,120,255],toColor:[159,151,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,151,119,255],toColor:[160,152,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,152,119,255],toColor:[161,153,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[161,153,119,255],toColor:[162,
153,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,153,119,255],toColor:[163,154,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,154,119,255],toColor:[164,155,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,155,118,255],toColor:[165,156,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[165,156,118,255],toColor:[166,157,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[166,
157,118,255],toColor:[167,158,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,158,118,255],toColor:[168,158,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,158,118,255],toColor:[169,159,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,159,117,255],toColor:[170,160,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,160,117,255],toColor:[171,161,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[171,161,117,255],toColor:[172,162,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,162,117,255],toColor:[173,162,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[173,162,116,255],toColor:[174,163,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,163,116,255],toColor:[175,164,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,164,116,255],toColor:[177,165,115,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[177,165,115,255],toColor:[178,166,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,166,115,255],toColor:[179,167,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,167,115,255],toColor:[180,168,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,168,115,255],toColor:[181,168,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[181,168,114,255],toColor:[182,
169,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,169,114,255],toColor:[183,170,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,170,114,255],toColor:[184,171,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,171,113,255],toColor:[185,172,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,172,113,255],toColor:[186,173,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[186,
173,113,255],toColor:[187,173,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,173,112,255],toColor:[188,174,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,174,112,255],toColor:[189,175,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[189,175,111,255],toColor:[190,176,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,176,111,255],toColor:[191,177,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[191,177,111,255],toColor:[192,178,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,178,110,255],toColor:[194,179,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,179,110,255],toColor:[195,180,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,180,109,255],toColor:[196,180,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,180,109,255],toColor:[197,181,109,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[197,181,109,255],toColor:[198,182,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,182,108,255],toColor:[199,183,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[199,183,108,255],toColor:[200,184,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,184,107,255],toColor:[201,185,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,185,107,255],toColor:[202,
186,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[202,186,106,255],toColor:[203,187,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,187,106,255],toColor:[204,187,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,187,105,255],toColor:[205,188,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,188,105,255],toColor:[207,189,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[207,
189,104,255],toColor:[208,190,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,190,104,255],toColor:[209,191,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,191,103,255],toColor:[210,192,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[210,192,103,255],toColor:[211,193,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,193,102,255],toColor:[212,194,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[212,194,101,255],toColor:[213,195,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,195,101,255],toColor:[214,196,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,196,100,255],toColor:[215,196,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,196,100,255],toColor:[217,197,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,197,99,255],toColor:[218,198,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[218,198,98,255],toColor:[219,199,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,199,98,255],toColor:[220,200,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,200,97,255],toColor:[221,201,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[221,201,96,255],toColor:[222,202,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,202,96,255],toColor:[223,203,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[223,203,95,255],toColor:[224,204,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,204,94,255],toColor:[226,205,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,205,94,255],toColor:[227,206,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,206,93,255],toColor:[228,207,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[228,207,92,255],toColor:[229,208,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[229,208,91,255],toColor:[230,209,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,209,91,255],toColor:[231,209,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,209,90,255],toColor:[233,210,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,210,89,255],toColor:[234,211,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,211,88,255],toColor:[235,212,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[235,212,87,255],toColor:[236,213,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,213,86,255],toColor:[237,214,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,214,86,255],toColor:[238,215,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,215,85,255],toColor:[239,216,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,216,84,255],toColor:[241,217,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[241,217,83,255],toColor:[242,218,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,218,82,255],toColor:[243,219,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,219,81,255],toColor:[244,220,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,220,80,255],toColor:[245,221,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,221,79,255],toColor:[246,222,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[246,222,78,255],toColor:[248,223,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,223,77,255],toColor:[249,224,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,224,75,255],toColor:[250,225,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,225,74,255],toColor:[251,226,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,226,73,255],toColor:[252,227,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[252,227,72,255],toColor:[254,228,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,228,71,255],toColor:[255,229,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,229,69,255],toColor:[255,230,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,230,68,255],toColor:[255,231,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,231,67,255],toColor:[255,232,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[255,232,66,255],toColor:[255,233,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,233,67,255],toColor:[255,234,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,234,69,255],toColor:[255,235,70,255]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},
{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,
0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,
255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",
fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"inferno_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,0,4,255],toColor:[1,0,5,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,0,5,255],toColor:[1,1,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,
1,6,255],toColor:[1,1,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,1,8,255],toColor:[2,1,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,1,10,255],toColor:[2,2,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,12,255],toColor:[2,2,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,14,255],toColor:[3,2,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[3,2,16,255],toColor:[4,
3,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,18,255],toColor:[4,3,21,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,21,255],toColor:[5,4,23,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[5,4,23,255],toColor:[6,4,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,4,25,255],toColor:[7,5,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[7,5,27,255],toColor:[8,6,29,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[8,6,29,255],toColor:[9,6,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[9,6,32,255],toColor:[10,7,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[10,7,34,255],toColor:[11,7,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,7,36,255],toColor:[12,8,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[12,8,38,255],toColor:[13,8,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[13,8,41,255],toColor:[14,9,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[14,9,43,255],toColor:[16,9,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,9,45,255],toColor:[17,10,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[17,10,48,255],toColor:[18,10,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,10,50,255],toColor:[20,11,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[20,
11,53,255],toColor:[21,11,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,11,55,255],toColor:[22,11,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[22,11,58,255],toColor:[24,12,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,12,60,255],toColor:[25,12,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,12,62,255],toColor:[27,12,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[27,
12,65,255],toColor:[28,12,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[28,12,67,255],toColor:[30,12,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[30,12,70,255],toColor:[31,12,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,12,72,255],toColor:[33,12,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,12,74,255],toColor:[35,12,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,
12,77,255],toColor:[36,12,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,12,79,255],toColor:[38,12,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,12,81,255],toColor:[40,11,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,11,83,255],toColor:[42,11,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,11,85,255],toColor:[43,11,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,
11,87,255],toColor:[45,11,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,11,89,255],toColor:[47,10,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,10,91,255],toColor:[49,10,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,10,93,255],toColor:[51,10,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,10,94,255],toColor:[52,10,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,
10,96,255],toColor:[54,9,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,9,97,255],toColor:[56,9,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,9,98,255],toColor:[58,9,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,9,99,255],toColor:[59,9,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,9,100,255],toColor:[61,9,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,9,
101,255],toColor:[63,9,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,9,102,255],toColor:[64,10,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,10,103,255],toColor:[66,10,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,10,104,255],toColor:[68,10,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,10,105,255],toColor:[69,10,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,
10,105,255],toColor:[71,11,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,11,106,255],toColor:[73,11,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,11,107,255],toColor:[74,12,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,12,107,255],toColor:[76,12,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,12,108,255],toColor:[78,13,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[78,13,108,255],toColor:[79,13,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,13,108,255],toColor:[81,14,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,14,109,255],toColor:[83,14,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,14,109,255],toColor:[84,15,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,15,109,255],toColor:[86,15,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[86,15,110,255],toColor:[87,16,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,16,110,255],toColor:[89,17,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,17,110,255],toColor:[91,17,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,17,110,255],toColor:[92,18,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,18,110,255],toColor:[94,18,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[94,18,111,255],toColor:[95,19,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,19,111,255],toColor:[97,20,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,20,111,255],toColor:[99,20,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,20,111,255],toColor:[100,21,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,21,111,255],toColor:[102,21,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[102,21,111,255],toColor:[103,22,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,22,111,255],toColor:[105,23,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,23,111,255],toColor:[107,23,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,23,111,255],toColor:[108,24,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,24,111,255],toColor:[110,24,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[110,24,111,255],toColor:[111,25,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,25,111,255],toColor:[113,25,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,25,110,255],toColor:[115,26,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,26,110,255],toColor:[116,27,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,27,110,255],toColor:[118,27,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[118,27,110,255],toColor:[119,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,28,110,255],toColor:[121,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,28,110,255],toColor:[123,29,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,29,109,255],toColor:[124,29,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,29,109,255],toColor:[126,30,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[126,30,109,255],toColor:[127,31,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,31,109,255],toColor:[129,31,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[129,31,108,255],toColor:[130,32,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,32,108,255],toColor:[132,32,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,32,108,255],toColor:[134,33,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[134,33,107,255],toColor:[135,33,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,33,107,255],toColor:[137,34,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,34,107,255],toColor:[138,34,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,34,106,255],toColor:[140,35,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,35,106,255],toColor:[142,36,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[142,36,105,255],toColor:[143,36,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,36,105,255],toColor:[145,37,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,37,105,255],toColor:[146,37,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,37,104,255],toColor:[148,38,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,38,104,255],toColor:[150,38,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[150,38,103,255],toColor:[151,39,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,39,102,255],toColor:[153,40,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[153,40,102,255],toColor:[154,40,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,40,101,255],toColor:[156,41,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,41,101,255],toColor:[158,41,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[158,41,100,255],toColor:[159,42,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,42,100,255],toColor:[161,43,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[161,43,99,255],toColor:[162,43,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,43,98,255],toColor:[164,44,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,44,98,255],toColor:[165,45,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[165,45,97,255],toColor:[167,45,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,45,96,255],toColor:[169,46,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,46,95,255],toColor:[170,46,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,46,95,255],toColor:[172,47,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,47,94,255],toColor:[173,48,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[173,48,93,255],toColor:[175,49,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,49,92,255],toColor:[176,49,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[176,49,92,255],toColor:[178,50,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,50,91,255],toColor:[179,51,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,51,90,255],toColor:[181,51,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[181,51,89,255],toColor:[182,52,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,52,88,255],toColor:[184,53,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,53,87,255],toColor:[185,54,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,54,86,255],toColor:[187,54,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,54,85,255],toColor:[188,55,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[188,55,85,255],toColor:[190,56,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,56,84,255],toColor:[191,57,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[191,57,83,255],toColor:[193,58,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[193,58,82,255],toColor:[194,59,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,59,81,255],toColor:[196,60,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[196,60,80,255],toColor:[197,60,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[197,60,79,255],toColor:[198,61,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,61,78,255],toColor:[200,62,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,62,77,255],toColor:[201,63,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,63,76,255],toColor:[203,64,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[203,64,75,255],toColor:[204,65,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,65,74,255],toColor:[205,66,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,66,72,255],toColor:[207,67,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[207,67,71,255],toColor:[208,68,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,68,70,255],toColor:[209,69,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[209,69,69,255],toColor:[211,70,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,70,68,255],toColor:[212,72,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,72,67,255],toColor:[213,73,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,73,66,255],toColor:[214,74,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,74,65,255],toColor:[216,75,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[216,75,64,255],toColor:[217,76,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,76,62,255],toColor:[218,77,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,77,61,255],toColor:[219,79,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,79,60,255],toColor:[220,80,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,80,59,255],toColor:[221,81,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[221,81,58,255],toColor:[223,82,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,82,57,255],toColor:[224,84,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,84,56,255],toColor:[225,85,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,85,54,255],toColor:[226,86,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,86,53,255],toColor:[227,88,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[227,88,52,255],toColor:[228,89,51,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[228,89,51,255],toColor:[229,90,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,90,50,255],toColor:[230,92,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,92,48,255],toColor:[231,93,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,93,47,255],toColor:[232,95,46,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[232,95,46,255],toColor:[233,96,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,96,45,255],toColor:[234,98,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,98,43,255],toColor:[235,99,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,99,42,255],toColor:[235,101,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,101,41,255],toColor:[236,102,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[236,102,40,255],toColor:[237,104,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,104,38,255],toColor:[238,105,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,105,37,255],toColor:[239,107,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,107,36,255],toColor:[240,109,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,109,35,255],toColor:[240,110,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[240,110,33,255],toColor:[241,112,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,112,32,255],toColor:[242,113,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,113,31,255],toColor:[242,115,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,115,30,255],toColor:[243,117,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,117,28,255],toColor:[244,118,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[244,118,27,255],toColor:[244,120,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,120,26,255],toColor:[245,122,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,122,24,255],toColor:[246,123,23,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,123,23,255],toColor:[246,125,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,125,22,255],toColor:[247,127,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[247,127,20,255],toColor:[247,129,19,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,129,19,255],toColor:[248,130,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,130,18,255],toColor:[248,132,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,132,16,255],toColor:[249,134,15,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,134,15,255],toColor:[249,136,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[249,136,14,255],toColor:[249,137,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,137,12,255],toColor:[250,139,11,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,139,11,255],toColor:[250,141,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,141,10,255],toColor:[250,143,9,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,143,9,255],toColor:[251,145,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[251,145,8,255],toColor:[251,146,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,146,7,255],toColor:[251,148,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,148,7,255],toColor:[252,150,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,150,6,255],toColor:[252,152,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,152,6,255],toColor:[252,154,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[252,154,6,255],toColor:[252,156,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,156,6,255],toColor:[252,158,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,158,7,255],toColor:[253,160,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,160,7,255],toColor:[253,161,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,161,8,255],toColor:[253,163,9,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,163,9,255],toColor:[253,165,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,165,10,255],toColor:[253,167,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,167,12,255],toColor:[253,169,13,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,169,13,255],toColor:[253,171,15,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,171,15,255],toColor:[253,173,17,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,173,17,255],toColor:[253,175,19,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,175,19,255],toColor:[253,177,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,177,20,255],toColor:[253,179,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,179,22,255],toColor:[253,181,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,181,25,255],toColor:[252,183,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[252,183,27,255],toColor:[252,185,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,185,29,255],toColor:[252,186,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,186,31,255],toColor:[252,188,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,188,33,255],toColor:[252,190,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,190,35,255],toColor:[251,192,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[251,192,38,255],toColor:[251,194,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,194,40,255],toColor:[251,196,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,196,43,255],toColor:[251,198,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,198,45,255],toColor:[250,200,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,200,48,255],toColor:[250,202,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[250,202,50,255],toColor:[250,204,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,204,53,255],toColor:[249,206,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,206,56,255],toColor:[249,208,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,208,58,255],toColor:[248,210,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,210,61,255],toColor:[248,212,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[248,212,64,255],toColor:[247,214,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,214,67,255],toColor:[247,216,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,216,70,255],toColor:[246,218,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,218,73,255],toColor:[246,220,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,220,76,255],toColor:[245,222,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[245,222,80,255],toColor:[245,224,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,224,83,255],toColor:[244,226,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,226,86,255],toColor:[244,228,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,228,90,255],toColor:[244,229,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,229,94,255],toColor:[243,231,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[243,231,97,255],toColor:[243,233,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,233,101,255],toColor:[243,235,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,235,105,255],toColor:[242,237,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,237,109,255],toColor:[242,238,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,238,113,255],toColor:[242,240,117,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[242,240,117,255],toColor:[242,242,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,242,122,255],toColor:[243,243,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,243,126,255],toColor:[243,245,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,245,130,255],toColor:[244,246,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,246,134,255],toColor:[244,
247,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,247,138,255],toColor:[245,249,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,249,142,255],toColor:[246,250,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,250,146,255],toColor:[247,251,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,251,150,255],toColor:[249,252,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,
252,154,255],toColor:[250,253,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,253,158,255],toColor:[251,254,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,254,162,255],toColor:[253,255,165,255]}]},{id:"magma_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,0,4,255],toColor:[1,0,5,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,0,5,255],toColor:[1,1,6,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[1,1,6,255],toColor:[1,1,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,1,8,255],toColor:[2,1,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,1,10,255],toColor:[2,2,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,12,255],toColor:[2,2,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,14,255],toColor:[3,3,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[3,3,16,255],toColor:[4,3,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,18,255],toColor:[4,4,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,4,20,255],toColor:[5,4,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[5,4,22,255],toColor:[6,5,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,5,24,255],toColor:[6,5,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,5,26,
255],toColor:[7,6,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[7,6,28,255],toColor:[8,7,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[8,7,30,255],toColor:[9,7,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[9,7,32,255],toColor:[10,8,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[10,8,34,255],toColor:[11,9,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,9,36,255],toColor:[12,
9,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[12,9,38,255],toColor:[13,10,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[13,10,41,255],toColor:[14,11,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[14,11,43,255],toColor:[16,11,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,11,45,255],toColor:[17,12,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[17,12,47,255],toColor:[18,
13,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,13,50,255],toColor:[19,13,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[19,13,52,255],toColor:[20,14,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[20,14,54,255],toColor:[21,14,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,14,57,255],toColor:[23,15,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[23,15,59,255],toColor:[24,
15,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,15,61,255],toColor:[25,16,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,16,64,255],toColor:[26,16,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[26,16,66,255],toColor:[28,16,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[28,16,68,255],toColor:[29,17,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,17,71,255],toColor:[30,
17,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[30,17,73,255],toColor:[32,17,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,17,76,255],toColor:[33,17,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,17,78,255],toColor:[35,18,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,18,81,255],toColor:[36,18,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,18,83,255],toColor:[38,
18,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,18,86,255],toColor:[39,18,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,18,88,255],toColor:[41,18,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,18,90,255],toColor:[42,17,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,17,93,255],toColor:[44,17,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,17,95,255],toColor:[46,
17,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,17,97,255],toColor:[47,17,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,17,99,255],toColor:[49,17,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,17,101,255],toColor:[51,16,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,16,103,255],toColor:[52,16,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,16,105,255],toColor:[54,
16,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,16,107,255],toColor:[56,16,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,16,109,255],toColor:[58,15,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,15,111,255],toColor:[59,15,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,15,112,255],toColor:[61,15,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,15,113,255],
toColor:[63,15,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,15,115,255],toColor:[65,15,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,15,116,255],toColor:[66,15,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,15,117,255],toColor:[68,15,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,15,118,255],toColor:[70,16,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,
16,119,255],toColor:[71,16,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,16,120,255],toColor:[73,16,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,16,121,255],toColor:[75,17,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[75,17,122,255],toColor:[76,17,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,17,122,255],toColor:[78,17,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[78,17,123,255],toColor:[79,18,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,18,124,255],toColor:[81,18,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,18,124,255],toColor:[83,19,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,19,125,255],toColor:[84,19,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,19,125,255],toColor:[86,20,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[86,20,126,255],toColor:[87,21,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,21,126,255],toColor:[89,21,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,21,126,255],toColor:[91,22,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,22,127,255],toColor:[92,22,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,22,127,255],toColor:[94,23,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[94,23,127,255],toColor:[95,24,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,24,128,255],toColor:[97,24,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,24,128,255],toColor:[98,25,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,25,128,255],toColor:[100,26,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,26,128,255],toColor:[101,26,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[101,26,129,255],toColor:[103,27,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,27,129,255],toColor:[105,28,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,28,129,255],toColor:[106,28,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,28,129,255],toColor:[108,29,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,29,129,255],toColor:[109,30,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[109,30,129,255],toColor:[111,30,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,30,130,255],toColor:[112,31,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,31,130,255],toColor:[114,31,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[114,31,130,255],toColor:[116,32,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,32,130,255],toColor:[117,33,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[117,33,130,255],toColor:[119,33,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,33,130,255],toColor:[120,34,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[120,34,130,255],toColor:[122,34,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,34,130,255],toColor:[123,35,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,35,130,255],toColor:[125,36,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[125,36,130,255],toColor:[127,36,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,36,130,255],toColor:[128,37,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,37,130,255],toColor:[130,37,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,37,130,255],toColor:[131,38,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,38,130,255],toColor:[133,39,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[133,39,130,255],toColor:[134,39,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,39,130,255],toColor:[136,40,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,40,130,255],toColor:[138,40,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,40,130,255],toColor:[139,41,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[139,41,130,255],toColor:[141,41,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[141,41,129,255],toColor:[142,42,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,42,129,255],toColor:[144,42,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[144,42,129,255],toColor:[146,43,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,43,129,255],toColor:[147,43,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,43,129,255],toColor:[149,44,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[149,44,129,255],toColor:[151,44,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,44,129,255],toColor:[152,45,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[152,45,128,255],toColor:[154,46,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,46,128,255],toColor:[155,46,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,46,128,255],toColor:[157,47,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[157,47,128,255],toColor:[159,47,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,47,127,255],toColor:[160,48,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,48,127,255],toColor:[162,48,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,48,127,255],toColor:[164,49,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,49,127,255],toColor:[165,49,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[165,49,126,255],toColor:[167,50,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,50,126,255],toColor:[169,50,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,50,126,255],toColor:[170,51,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,51,125,255],toColor:[172,51,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,51,125,255],toColor:[174,52,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[174,52,124,255],toColor:[175,52,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,52,124,255],toColor:[177,53,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[177,53,124,255],toColor:[178,53,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,53,123,255],toColor:[180,54,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,54,123,255],toColor:[182,54,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[182,54,122,255],toColor:[183,55,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,55,122,255],toColor:[185,56,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,56,121,255],toColor:[187,56,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,56,121,255],toColor:[188,57,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,57,120,255],toColor:[190,57,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[190,57,120,255],toColor:[192,58,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,58,119,255],toColor:[193,59,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[193,59,118,255],toColor:[195,59,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,59,118,255],toColor:[196,60,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,60,117,255],toColor:[198,60,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[198,60,117,255],toColor:[200,61,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,61,116,255],toColor:[201,62,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,62,115,255],toColor:[203,63,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,63,115,255],toColor:[204,63,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,63,114,255],toColor:[206,64,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[206,64,113,255],toColor:[208,65,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,65,112,255],toColor:[209,66,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,66,112,255],toColor:[211,66,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,66,111,255],toColor:[212,67,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,67,110,255],toColor:[214,68,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[214,68,109,255],toColor:[215,69,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,69,109,255],toColor:[217,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,70,108,255],toColor:[218,71,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,71,107,255],toColor:[220,72,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,72,106,255],toColor:[221,73,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[221,73,106,255],toColor:[222,74,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,74,105,255],toColor:[224,75,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,75,104,255],toColor:[225,76,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,76,103,255],toColor:[226,77,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,77,102,255],toColor:[228,78,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[228,78,102,255],toColor:[229,79,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,79,101,255],toColor:[230,81,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,81,100,255],toColor:[231,82,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,82,99,255],toColor:[233,83,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,83,99,255],toColor:[234,84,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[234,84,98,255],toColor:[235,86,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,86,97,255],toColor:[236,87,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,87,97,255],toColor:[237,89,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,89,96,255],toColor:[238,90,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,90,95,255],toColor:[239,92,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[239,92,95,255],toColor:[240,93,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,93,94,255],toColor:[241,95,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,95,94,255],toColor:[242,97,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,97,93,255],toColor:[242,98,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,98,93,255],toColor:[243,100,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[243,100,93,255],toColor:[244,102,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,102,93,255],toColor:[245,104,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,104,92,255],toColor:[245,105,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,105,92,255],toColor:[246,107,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,107,92,255],toColor:[247,109,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[247,109,92,255],toColor:[247,111,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,111,92,255],toColor:[248,113,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,113,92,255],toColor:[248,114,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,114,92,255],toColor:[249,116,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,116,92,255],toColor:[249,118,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[249,118,93,255],toColor:[250,120,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,120,93,255],toColor:[250,122,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,122,93,255],toColor:[250,124,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,124,94,255],toColor:[251,126,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,126,94,255],toColor:[251,128,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[251,128,95,255],toColor:[251,130,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,130,95,255],toColor:[252,131,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,131,96,255],toColor:[252,133,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,133,96,255],toColor:[252,135,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,135,97,255],toColor:[253,137,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,137,98,255],toColor:[253,139,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,139,99,255],toColor:[253,141,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,141,99,255],toColor:[253,143,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,143,100,255],toColor:[253,145,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,145,101,255],toColor:[254,147,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[254,147,102,255],toColor:[254,149,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,149,103,255],toColor:[254,150,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,150,104,255],toColor:[254,152,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,152,105,255],toColor:[254,154,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,154,106,255],toColor:[254,156,107,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[254,156,107,255],toColor:[255,158,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,158,108,255],toColor:[255,160,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,160,109,255],toColor:[255,162,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,162,111,255],toColor:[255,164,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,164,112,255],toColor:[255,
165,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,165,113,255],toColor:[255,167,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,167,114,255],toColor:[255,169,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,169,116,255],toColor:[255,171,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,171,117,255],toColor:[255,173,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,
173,118,255],toColor:[255,175,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,175,119,255],toColor:[255,177,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,177,121,255],toColor:[255,179,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,179,122,255],toColor:[255,180,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,180,124,255],toColor:[255,182,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[255,182,125,255],toColor:[255,184,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,184,126,255],toColor:[255,186,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,186,128,255],toColor:[255,188,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,188,129,255],toColor:[255,190,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,190,131,255],toColor:[255,191,132,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[255,191,132,255],toColor:[255,193,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,193,134,255],toColor:[255,195,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,195,135,255],toColor:[255,197,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,197,137,255],toColor:[255,199,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,199,139,255],toColor:[255,
201,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,201,140,255],toColor:[255,203,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,203,142,255],toColor:[255,204,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,204,143,255],toColor:[255,206,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,206,145,255],toColor:[255,208,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,
208,147,255],toColor:[255,210,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,210,148,255],toColor:[255,212,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,212,150,255],toColor:[255,214,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,214,152,255],toColor:[255,215,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,215,153,255],toColor:[255,217,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[255,217,155,255],toColor:[254,219,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,219,157,255],toColor:[254,221,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,221,159,255],toColor:[254,223,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,223,160,255],toColor:[254,225,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,225,162,255],toColor:[254,226,164,255]},{type:"algorithmic",
algorithm:"esriCIELabAlgorithm",fromColor:[254,226,164,255],toColor:[254,228,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,228,166,255],toColor:[254,230,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,230,167,255],toColor:[254,232,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,232,169,255],toColor:[254,234,171,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,234,171,255],toColor:[254,
236,173,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,236,173,255],toColor:[253,237,175,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,237,175,255],toColor:[253,239,177,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,239,177,255],toColor:[253,241,179,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,241,179,255],toColor:[253,243,180,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,
243,180,255],toColor:[253,245,182,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,245,182,255],toColor:[253,247,184,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,247,184,255],toColor:[253,248,186,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,248,186,255],toColor:[253,250,188,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,250,188,255],toColor:[253,252,190,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,252,190,255],toColor:[253,254,192,255]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",
colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",
type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"plasma_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[13,8,135,255],toColor:[16,7,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,
7,136,255],toColor:[19,7,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[19,7,138,255],toColor:[22,7,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[22,7,139,255],toColor:[25,6,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,6,140,255],toColor:[27,6,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[27,6,141,255],toColor:[29,6,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,
6,142,255],toColor:[32,6,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,6,143,255],toColor:[34,6,144,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,6,144,255],toColor:[36,6,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,6,145,255],toColor:[38,5,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,5,146,255],toColor:[40,5,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,
5,147,255],toColor:[42,5,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,5,148,255],toColor:[44,5,149,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,5,149,255],toColor:[46,5,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,5,150,255],toColor:[48,5,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,5,150,255],toColor:[50,5,151,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,
5,151,255],toColor:[51,5,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,5,152,255],toColor:[53,4,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,4,153,255],toColor:[55,4,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,4,153,255],toColor:[57,4,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,4,154,255],toColor:[58,4,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,
4,155,255],toColor:[60,4,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,4,156,255],toColor:[62,4,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,4,156,255],toColor:[64,4,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,4,157,255],toColor:[65,4,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,4,158,255],toColor:[67,3,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,
3,158,255],toColor:[69,3,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,3,159,255],toColor:[70,3,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,3,159,255],toColor:[72,3,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,3,160,255],toColor:[73,3,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,3,161,255],toColor:[75,3,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[75,
3,161,255],toColor:[77,2,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[77,2,162,255],toColor:[78,2,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,2,162,255],toColor:[80,2,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[80,2,163,255],toColor:[82,2,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[82,2,163,255],toColor:[83,2,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,
2,164,255],toColor:[85,2,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[85,2,164,255],toColor:[86,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,1,165,255],toColor:[88,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,1,165,255],toColor:[90,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[90,1,165,255],toColor:[91,1,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,
1,166,255],toColor:[93,1,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[93,1,166,255],toColor:[94,1,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[94,1,167,255],toColor:[96,1,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[96,1,167,255],toColor:[98,0,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,0,167,255],toColor:[99,0,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,
0,167,255],toColor:[101,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,0,168,255],toColor:[102,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[102,0,168,255],toColor:[104,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[104,0,168,255],toColor:[105,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,0,168,255],toColor:[107,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,
0,169,255],toColor:[108,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,0,169,255],toColor:[110,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,0,169,255],toColor:[112,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,0,169,255],toColor:[113,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,0,169,255],toColor:[115,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,
1,169,255],toColor:[116,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,1,169,255],toColor:[118,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[118,1,169,255],toColor:[119,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,1,169,255],toColor:[121,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,1,169,255],toColor:[122,2,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,
2,169,255],toColor:[124,2,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,2,169,255],toColor:[125,3,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,3,169,255],toColor:[127,3,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,3,168,255],toColor:[128,4,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,4,168,255],toColor:[130,4,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,
4,168,255],toColor:[131,5,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,5,168,255],toColor:[133,6,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[133,6,167,255],toColor:[134,6,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,6,167,255],toColor:[136,7,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,7,167,255],toColor:[137,8,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,
8,166,255],toColor:[138,9,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,9,166,255],toColor:[140,10,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,10,166,255],toColor:[141,11,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[141,11,165,255],toColor:[143,12,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,12,165,255],toColor:[144,13,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[144,13,164,255],toColor:[145,14,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,14,164,255],toColor:[147,15,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,15,163,255],toColor:[148,16,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,16,163,255],toColor:[150,18,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,18,162,255],toColor:[151,19,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[151,19,161,255],toColor:[152,20,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[152,20,161,255],toColor:[154,21,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,21,160,255],toColor:[155,22,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,22,159,255],toColor:[156,23,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,23,159,255],toColor:[158,24,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[158,24,158,255],toColor:[159,25,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,25,157,255],toColor:[160,26,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,26,156,255],toColor:[162,28,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,28,156,255],toColor:[163,29,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,29,155,255],toColor:[164,30,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[164,30,154,255],toColor:[165,31,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[165,31,153,255],toColor:[167,32,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,32,152,255],toColor:[168,33,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,33,152,255],toColor:[169,34,151,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,34,151,255],toColor:[170,35,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[170,35,150,255],toColor:[171,37,149,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[171,37,149,255],toColor:[173,38,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[173,38,148,255],toColor:[174,39,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,39,147,255],toColor:[175,40,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,40,146,255],toColor:[176,41,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[176,41,145,255],toColor:[177,42,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[177,42,145,255],toColor:[179,43,144,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,43,144,255],toColor:[180,45,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,45,143,255],toColor:[181,46,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[181,46,142,255],toColor:[182,47,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[182,47,141,255],toColor:[183,48,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,48,140,255],toColor:[184,49,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,49,139,255],toColor:[185,50,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,50,138,255],toColor:[186,51,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[186,51,137,255],toColor:[187,52,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[187,52,136,255],toColor:[188,54,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,54,135,255],toColor:[189,55,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[189,55,134,255],toColor:[191,56,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[191,56,133,255],toColor:[192,57,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,57,132,255],toColor:[193,58,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[193,58,131,255],toColor:[194,59,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,59,130,255],toColor:[195,60,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,60,129,255],toColor:[196,62,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,62,129,255],toColor:[197,63,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[197,63,128,255],toColor:[198,64,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[198,64,127,255],toColor:[199,65,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[199,65,126,255],toColor:[200,66,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,66,125,255],toColor:[201,67,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,67,124,255],toColor:[202,68,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[202,68,123,255],toColor:[202,69,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[202,69,122,255],toColor:[203,71,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,71,121,255],toColor:[204,72,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,72,120,255],toColor:[205,73,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,73,119,255],toColor:[206,74,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[206,74,118,255],toColor:[207,75,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[207,75,117,255],toColor:[208,76,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,76,117,255],toColor:[209,77,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,77,116,255],toColor:[210,79,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[210,79,115,255],toColor:[211,80,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,80,114,255],toColor:[212,81,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[212,81,113,255],toColor:[212,82,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,82,112,255],toColor:[213,83,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,83,111,255],toColor:[214,84,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,84,110,255],toColor:[215,85,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,85,109,255],toColor:[216,87,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[216,87,109,255],toColor:[217,88,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,88,108,255],toColor:[218,89,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,89,107,255],toColor:[218,90,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,90,106,255],toColor:[219,91,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,91,105,255],toColor:[220,92,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[220,92,104,255],toColor:[221,93,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[221,93,103,255],toColor:[222,95,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,95,102,255],toColor:[223,96,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,96,102,255],toColor:[223,97,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,97,101,255],toColor:[224,98,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[224,98,100,255],toColor:[225,99,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,99,99,255],toColor:[226,100,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,100,98,255],toColor:[226,102,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,102,97,255],toColor:[227,103,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,103,96,255],toColor:[228,104,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[228,104,96,255],toColor:[229,105,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,105,95,255],toColor:[229,106,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,106,94,255],toColor:[230,108,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,108,93,255],toColor:[231,109,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,109,92,255],toColor:[232,110,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[232,110,91,255],toColor:[232,111,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[232,111,90,255],toColor:[233,112,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,112,90,255],toColor:[234,114,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,114,89,255],toColor:[234,115,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,115,88,255],toColor:[235,116,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[235,116,87,255],toColor:[236,117,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,117,86,255],toColor:[236,119,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,119,85,255],toColor:[237,120,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,120,84,255],toColor:[238,121,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,121,83,255],toColor:[238,122,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[238,122,83,255],toColor:[239,124,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,124,82,255],toColor:[240,125,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,125,81,255],toColor:[240,126,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,126,80,255],toColor:[241,127,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,127,79,255],toColor:[241,129,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[241,129,78,255],toColor:[242,130,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,130,77,255],toColor:[242,131,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,131,77,255],toColor:[243,133,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,133,76,255],toColor:[244,134,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,134,75,255],toColor:[244,135,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[244,135,74,255],toColor:[245,136,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,136,73,255],toColor:[245,138,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,138,72,255],toColor:[246,139,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,139,71,255],toColor:[246,140,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,140,70,255],toColor:[247,142,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[247,142,70,255],toColor:[247,143,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,143,69,255],toColor:[248,144,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,144,68,255],toColor:[248,146,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,146,67,255],toColor:[248,147,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,147,66,255],toColor:[249,149,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[249,149,65,255],toColor:[249,150,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,150,64,255],toColor:[250,151,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,151,64,255],toColor:[250,153,63,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,153,63,255],toColor:[250,154,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,154,62,255],toColor:[251,156,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[251,156,61,255],toColor:[251,157,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,157,60,255],toColor:[251,158,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,158,59,255],toColor:[252,160,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,160,58,255],toColor:[252,161,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,161,58,255],toColor:[252,163,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[252,163,57,255],toColor:[253,164,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,164,56,255],toColor:[253,166,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,166,55,255],toColor:[253,167,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,167,54,255],toColor:[253,168,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,168,53,255],toColor:[253,170,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,170,52,255],toColor:[254,171,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,171,52,255],toColor:[254,173,51,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,173,51,255],toColor:[254,174,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,174,50,255],toColor:[254,176,49,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,176,49,255],toColor:[254,177,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[254,177,48,255],toColor:[254,179,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,179,48,255],toColor:[254,180,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,180,47,255],toColor:[254,182,46,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,182,46,255],toColor:[255,183,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,183,45,255],toColor:[255,185,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[255,185,45,255],toColor:[255,187,44,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,187,44,255],toColor:[255,188,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,188,43,255],toColor:[255,190,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,190,43,255],toColor:[255,191,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,191,42,255],toColor:[255,193,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[255,193,41,255],toColor:[254,194,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,194,41,255],toColor:[254,196,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,196,40,255],toColor:[254,198,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,198,40,255],toColor:[254,199,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,199,39,255],toColor:[254,201,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[254,201,39,255],toColor:[254,202,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,202,38,255],toColor:[254,204,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,204,38,255],toColor:[253,206,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,206,38,255],toColor:[253,207,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,207,37,255],toColor:[253,209,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[253,209,37,255],toColor:[253,211,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,211,37,255],toColor:[252,212,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,212,37,255],toColor:[252,214,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,214,36,255],toColor:[252,216,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,216,36,255],toColor:[251,217,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[251,217,36,255],toColor:[251,219,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,219,36,255],toColor:[250,221,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,221,37,255],toColor:[250,222,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,222,37,255],toColor:[249,224,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,224,37,255],toColor:[249,226,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[249,226,37,255],toColor:[248,227,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,227,37,255],toColor:[248,229,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,229,38,255],toColor:[247,231,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,231,38,255],toColor:[247,232,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,232,38,255],toColor:[246,234,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[246,234,39,255],toColor:[246,236,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,236,39,255],toColor:[245,238,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,238,39,255],toColor:[244,239,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,239,39,255],toColor:[244,241,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,241,39,255],toColor:[243,243,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[243,243,39,255],toColor:[242,245,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,245,38,255],toColor:[242,246,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,246,38,255],toColor:[241,248,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,248,36,255],toColor:[241,250,34,255]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,
255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,
255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,
17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",
type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,
168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",
colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,
0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"viridis_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,1,84,255],toColor:[69,2,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,2,86,255],toColor:[69,
4,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,4,87,255],toColor:[69,5,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,5,89,255],toColor:[70,7,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,7,90,255],toColor:[70,8,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,8,92,255],toColor:[70,10,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,10,93,255],toColor:[71,11,95,
255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,11,95,255],toColor:[71,13,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,13,96,255],toColor:[71,14,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,14,98,255],toColor:[71,16,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,16,99,255],toColor:[72,17,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,17,100,255],toColor:[72,
19,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,19,102,255],toColor:[72,20,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,20,103,255],toColor:[72,22,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,22,104,255],toColor:[72,23,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,23,106,255],toColor:[72,24,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,24,107,255],
toColor:[72,26,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,26,108,255],toColor:[72,27,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,27,109,255],toColor:[72,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,28,110,255],toColor:[73,30,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,30,112,255],toColor:[73,31,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,
31,113,255],toColor:[72,32,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,32,114,255],toColor:[72,34,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,34,115,255],toColor:[72,35,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,35,116,255],toColor:[72,36,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,36,117,255],toColor:[72,37,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[72,37,118,255],toColor:[72,39,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,39,119,255],toColor:[72,40,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,40,120,255],toColor:[72,41,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,41,121,255],toColor:[72,42,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,42,122,255],toColor:[72,44,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[72,44,123,255],toColor:[71,45,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,45,124,255],toColor:[71,46,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,46,125,255],toColor:[71,47,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,47,125,255],toColor:[71,49,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,49,126,255],toColor:[70,50,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[70,50,127,255],toColor:[70,51,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,51,128,255],toColor:[70,52,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,52,128,255],toColor:[70,54,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,54,129,255],toColor:[69,55,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,55,130,255],toColor:[69,56,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[69,56,130,255],toColor:[69,57,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,57,131,255],toColor:[68,58,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,58,132,255],toColor:[68,60,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,60,132,255],toColor:[68,61,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,61,133,255],toColor:[67,62,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[67,62,133,255],toColor:[67,63,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,63,134,255],toColor:[66,64,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,64,134,255],toColor:[66,66,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,66,135,255],toColor:[65,67,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,67,135,255],toColor:[65,68,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[65,68,136,255],toColor:[65,69,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,69,136,255],toColor:[64,70,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,70,136,255],toColor:[64,71,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,71,137,255],toColor:[63,73,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,73,137,255],toColor:[63,74,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[63,74,138,255],toColor:[62,75,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,75,138,255],toColor:[62,76,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,76,138,255],toColor:[61,77,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,77,138,255],toColor:[61,78,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,78,139,255],toColor:[60,79,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[60,79,139,255],toColor:[60,80,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,80,139,255],toColor:[59,81,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,81,139,255],toColor:[59,83,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,83,140,255],toColor:[58,84,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,84,140,255],toColor:[58,85,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[58,85,140,255],toColor:[57,86,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,86,140,255],toColor:[57,87,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,87,140,255],toColor:[56,88,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,88,141,255],toColor:[56,89,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,89,141,255],toColor:[55,90,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[55,90,141,255],toColor:[55,91,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,91,141,255],toColor:[54,92,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,92,141,255],toColor:[54,93,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,93,141,255],toColor:[53,94,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,94,141,255],toColor:[53,95,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[53,95,142,255],toColor:[52,96,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,96,142,255],toColor:[52,97,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,97,142,255],toColor:[52,98,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,98,142,255],toColor:[51,99,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,99,142,255],toColor:[51,100,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[51,100,142,255],toColor:[50,101,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,101,142,255],toColor:[50,102,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,102,142,255],toColor:[49,103,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,103,142,255],toColor:[49,104,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,104,142,255],toColor:[48,105,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[48,105,142,255],toColor:[48,106,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,106,142,255],toColor:[48,107,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,107,143,255],toColor:[47,108,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,108,143,255],toColor:[47,109,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,109,143,255],toColor:[46,110,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[46,110,143,255],toColor:[46,111,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,111,143,255],toColor:[45,112,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,112,143,255],toColor:[45,113,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,113,143,255],toColor:[45,114,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,114,143,255],toColor:[44,115,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[44,115,143,255],toColor:[44,116,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,116,143,255],toColor:[43,117,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,117,143,255],toColor:[43,118,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,118,143,255],toColor:[43,119,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,119,143,255],toColor:[42,120,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[42,120,143,255],toColor:[42,121,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,121,143,255],toColor:[42,122,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,122,143,255],toColor:[41,123,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,123,143,255],toColor:[41,123,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,123,143,255],toColor:[40,124,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[40,124,143,255],toColor:[40,125,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,125,143,255],toColor:[40,126,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,126,143,255],toColor:[39,127,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,127,143,255],toColor:[39,128,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,128,143,255],toColor:[39,129,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[39,129,143,255],toColor:[38,130,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,130,143,255],toColor:[38,131,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,131,143,255],toColor:[37,132,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[37,132,143,255],toColor:[37,133,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[37,133,142,255],toColor:[37,134,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[37,134,142,255],toColor:[36,135,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,135,142,255],toColor:[36,136,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,136,142,255],toColor:[36,137,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,137,142,255],toColor:[35,138,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,138,142,255],toColor:[35,139,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[35,139,142,255],toColor:[35,139,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,139,142,255],toColor:[34,140,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,140,142,255],toColor:[34,141,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,141,142,255],toColor:[34,142,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,142,141,255],toColor:[33,143,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[33,143,141,255],toColor:[33,144,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,144,141,255],toColor:[33,145,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,145,141,255],toColor:[32,146,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,146,141,255],toColor:[32,147,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,147,141,255],toColor:[32,148,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[32,148,140,255],toColor:[32,149,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,149,140,255],toColor:[31,150,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,150,140,255],toColor:[31,151,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,151,140,255],toColor:[31,152,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,152,139,255],toColor:[31,153,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[31,153,139,255],toColor:[31,154,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,154,139,255],toColor:[31,155,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,155,139,255],toColor:[31,156,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,156,138,255],toColor:[31,156,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,156,138,255],toColor:[31,157,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[31,157,138,255],toColor:[31,158,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,158,137,255],toColor:[31,159,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,159,137,255],toColor:[31,160,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,160,137,255],toColor:[31,161,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,161,136,255],toColor:[31,162,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[31,162,136,255],toColor:[32,163,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,163,135,255],toColor:[32,164,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,164,135,255],toColor:[32,165,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,165,134,255],toColor:[33,166,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,166,134,255],toColor:[33,167,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[33,167,134,255],toColor:[34,168,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,168,133,255],toColor:[34,169,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,169,133,255],toColor:[35,170,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,170,132,255],toColor:[36,170,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,170,131,255],toColor:[37,171,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[37,171,131,255],toColor:[38,172,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,172,130,255],toColor:[38,173,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,173,130,255],toColor:[39,174,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,174,129,255],toColor:[40,175,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,175,128,255],toColor:[41,176,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[41,176,128,255],toColor:[43,177,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,177,127,255],toColor:[44,178,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,178,126,255],toColor:[45,179,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,179,126,255],toColor:[46,180,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,180,125,255],toColor:[48,180,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[48,180,124,255],toColor:[49,181,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,181,123,255],toColor:[50,182,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,182,123,255],toColor:[52,183,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,183,122,255],toColor:[53,184,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,184,121,255],toColor:[55,185,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[55,185,120,255],toColor:[56,186,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,186,119,255],toColor:[58,187,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,187,118,255],toColor:[60,187,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,187,118,255],toColor:[61,188,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,188,117,255],toColor:[63,189,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[63,189,116,255],toColor:[65,190,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,190,115,255],toColor:[67,191,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,191,114,255],toColor:[68,192,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,192,113,255],toColor:[70,193,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,193,112,255],toColor:[72,193,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[72,193,111,255],toColor:[74,194,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,194,110,255],toColor:[76,195,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,195,109,255],toColor:[78,196,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,196,108,255],toColor:[80,197,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[80,197,106,255],toColor:[82,197,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[82,197,105,255],toColor:[84,198,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,198,104,255],toColor:[86,199,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,199,103,255],toColor:[88,200,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,200,102,255],toColor:[90,200,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[90,200,101,255],toColor:[92,201,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[92,201,99,255],toColor:[95,202,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,202,98,255],toColor:[97,203,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,203,97,255],toColor:[99,203,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,203,95,255],toColor:[101,204,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,204,94,255],toColor:[103,205,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[103,205,93,255],toColor:[106,206,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,206,91,255],toColor:[108,206,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,206,90,255],toColor:[110,207,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,207,89,255],toColor:[113,208,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,208,87,255],toColor:[115,208,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[115,208,86,255],toColor:[117,209,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,209,84,255],toColor:[120,210,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[120,210,83,255],toColor:[122,210,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,210,81,255],toColor:[125,211,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,211,80,255],toColor:[127,212,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[127,212,78,255],toColor:[130,212,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,212,77,255],toColor:[132,213,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,213,75,255],toColor:[135,213,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,213,74,255],toColor:[137,214,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,214,72,255],toColor:[140,215,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[140,215,71,255],toColor:[142,215,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,215,69,255],toColor:[145,216,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,216,67,255],toColor:[147,216,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,216,66,255],toColor:[150,217,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,217,64,255],toColor:[153,217,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[153,217,62,255],toColor:[155,218,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,218,61,255],toColor:[158,218,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[158,218,59,255],toColor:[160,219,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,219,57,255],toColor:[163,219,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,219,55,255],toColor:[166,220,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[166,220,54,255],toColor:[168,220,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,220,52,255],toColor:[171,221,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[171,221,50,255],toColor:[174,221,49,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,221,49,255],toColor:[176,222,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[176,222,47,255],toColor:[179,222,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[179,222,45,255],toColor:[182,222,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,222,43,255],toColor:[184,223,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,223,42,255],toColor:[187,223,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,223,40,255],toColor:[190,224,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,224,38,255],toColor:[192,224,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[192,224,37,255],toColor:[195,224,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,224,35,255],toColor:[198,225,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,225,34,255],toColor:[201,225,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,225,32,255],toColor:[203,225,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,225,31,255],toColor:[206,226,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[206,226,29,255],toColor:[209,226,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,226,28,255],toColor:[211,226,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,226,27,255],toColor:[214,227,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,227,26,255],toColor:[216,227,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[216,227,26,255],toColor:[219,227,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[219,227,25,255],toColor:[222,228,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,228,25,255],toColor:[224,228,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,228,24,255],toColor:[227,228,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,228,24,255],toColor:[229,229,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,229,25,255],toColor:[232,229,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[232,229,25,255],toColor:[235,229,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,229,26,255],toColor:[237,230,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,230,27,255],toColor:[240,230,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,230,28,255],toColor:[242,230,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,230,29,255],toColor:[245,231,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
fromColor:[245,231,30,255],toColor:[247,231,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,231,32,255],toColor:[249,231,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,231,33,255],toColor:[252,232,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,232,35,255],toColor:[254,232,37,255]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,
255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,
107,45]}],u=[{name:"Aspect",id:"aspect_predefined"},{name:"Black to White",id:"blackToWhite_predefined"},{name:"Blue Bright",id:"blueBright_predefined"},{name:"Blue Light to Dark",id:"blueLightToDark_predefined"},{name:"Blue-Green Bright",id:"blueGreenBright_predefined"},{name:"Blue-Green Light to Dark",id:"blueGreenLightToDark_predefined"},{name:"Brown Light to Dark",id:"brownLightToDark_predefined"},{name:"Brown to Blue Green Diverging, Bright",id:"brownToBlueGreenDivergingBright_predefined"},{name:"Brown to Blue Green Diverging, Dark",
id:"brownToBlueGreenDivergingDark_predefined"},{name:"Cividis",id:"cividis_predefined"},{name:"Coefficient Bias",id:"coefficientBias_predefined"},{name:"Cold to Hot Diverging",id:"coldToHotDiverging_predefined"},{name:"Condition Number",id:"conditionNumber_predefined"},{name:"Cyan to Purple",id:"cyanToPurple_predefined"},{name:"Cyan-Light to Blue-Dark",id:"cyanLightToBlueDark_predefined"},{name:"Distance",id:"distance_predefined"},{id:"elevation1_predefined",name:"Elevation #1"},{id:"elevation2_predefined",
name:"Elevation #2"},{id:"errors_predefined",name:"Errors"},{id:"grayLightToDark_predefined",name:"Gray Light to Dark"},{id:"greenBright_predefined",name:"Green Bright"},{id:"greenLightToDark_predefined",name:"Green Light to Dark"},{name:"Green to Blue",id:"greenToBlue_predefined"},{name:"Inferno",id:"inferno_predefined"},{name:"Magma",id:"magma_predefined"},{name:"Orange Bright",id:"orangeBright_predefined"},{name:"Orange Light to Dark",id:"orangeLightToDark_predefined"},{id:"partialSpectrum_predefined",
name:"Partial Spectrum"},{id:"partialSpectrum1Diverging_predefined",name:"Partial Spectrum 1 Diverging",type:"multipart"},{id:"partialSpectrum2Diverging_predefined",name:"Partial Spectrum 2 Diverging"},{name:"Plasma",id:"plasma_predefined"},{name:"Pink to YellowGreen Diverging, Bright",id:"pinkToYellowGreenDivergingBright_predefined"},{name:"Pink to YellowGreen Diverging, Dark",id:"pinkToYellowGreenDivergingDark_predefined"},{id:"precipitation_predefined",name:"Precipitation"},{id:"prediction_predefined",
name:"Prediction"},{name:"Purple Bright",id:"purpleBright_predefined"},{id:"purpleToGreenDivergingBright_predefined",name:"Purple to Green Diverging, Bright"},{id:"purpleToGreenDivergingDark_predefined",name:"Purple to Green Diverging, Dark"},{name:"Purple-Blue Bright",id:"purpleBlueBright_predefined"},{name:"Purple-Blue Light to Dark",id:"purpleBlueLightToDark_predefined"},{name:"Purple-Red Bright",id:"purpleRedBright_predefined"},{name:"Purple-Red Light to Dark",id:"purpleRedLightToDark_predefined"},
{name:"Red Bright",id:"redBright_predefined"},{name:"Red Light to Dark",id:"redLightToDark_predefined"},{id:"redToBlueDivergingBright_predefined",name:"Red to Blue Diverging, Bright"},{id:"redToBlueDivergingDark_predefined",name:"Red to Blue Diverging, Dark"},{id:"redToGreen_predefined",name:"Red to Green"},{id:"redToGreenDivergingBright_predefined",name:"Red to Green Diverging, Bright"},{id:"redToGreenDivergingDark_predefined",name:"Red to Green Diverging, Dark"},{name:"Slope",id:"slope_predefined"},
{id:"spectrumFullBright_predefined",name:"Spectrum-Full Bright"},{id:"spectrumFullDark_predefined",name:"Spectrum-Full Dark"},{id:"spectrumFullLight_predefined",name:"Spectrum-Full Light"},{id:"surface_predefined",name:"Surface"},{id:"temperature_predefined",name:"Temperature"},{name:"Viridis",id:"viridis_predefined"},{name:"White to Black",id:"whiteToBlack_predefined"},{id:"yellowToDarkRed_predefined",name:"Yellow to Dark Red"},{id:"yellowToGreenToDarkBlue_predefined",name:"Yellow to Green to Dark Blue"},
{name:"Yellow to Red",id:"yellowToRed_predefined"},{name:"Yellow-Green Bright",id:"yellowGreenBright_predefined"},{name:"Yellow-Green Light to Dark",id:"yellowGreenLightToDark_predefined"}],y=new a({data:u});D.mixin(r,{predefinedColorRamps:p,predefinedColorRampNameMap:u,getColorRampName:function(x){x=d(x);return x.id?(x=y.query({id:x.id}),x[0]?x[0].name:null):null},fromJson:function(x){var z=null;if(!x)return z;"multipart"===x.type?(z=new l,z.colorRamps=w.map(x.colorRamps,function(q){return c(q)},
this)):"algorithmic"===x.type&&(z=c(x));return z},colorsEqual:f,getColorRampId:d,invertColorRamp:e,convertColorRampToColormap:function(x,z){if(x&&z){var q=x.colorRamps?x.colorRamps.length:1,k=[],v=[],B,E,N,G,K=0,I=0;for(K=0;K<q;K++)k[K]={},k[K].start=I,k[K].end=I+1/q,I=k[K].end;for(K=0;K<z;K++){var O=(K+.5)/z;w.forEach(k,function(V,na){O>=V.start&&O<V.end&&(G=(O-V.start)/(V.end-V.start),1<k.length?(B=h.getDojoColor(x.colorRamps[na].fromColor),E=h.getDojoColor(x.colorRamps[na].toColor)):(B=h.getDojoColor(x.fromColor),
E=h.getDojoColor(x.toColor)),N=m(B,E,G),v.push([K,N.r,N.g,N.b]))},this)}return v}},interpolateLabColor:m});return r})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(D,w,a){return D("dojo.store.Memory",null,{constructor:function(t){for(var l in t)this[l]=t[l];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:a,get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},
put:function(t,l){var n=this.data,h=this.index,g=this.idProperty;g=t[g]=l&&"id"in l?l.id:g in t?t[g]:Math.random();if(g in h){if(l&&!1===l.overwrite)throw Error("Object already exists");n[h[g]]=t}else h[g]=n.push(t)-1;return g},add:function(t,l){(l=l||{}).overwrite=!1;return this.put(t,l)},remove:function(t){var l=this.index,n=this.data;if(t in l)return n.splice(l[t],1),this.setData(n),!0},query:function(t,l){return w(this.queryEngine(t,l)(this.data))},setData:function(t){t.items?(this.idProperty=
t.identifier||this.idProperty,t=this.data=t.items):this.data=t;this.index={};for(var l=0,n=t.length;l<n;l++)this.index[t[l][this.idProperty]]=l}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(D,w,a){var t=function(l){function n(g){l[g]=function(){var e=arguments,d=a(l,function(b){Array.prototype.unshift.call(e,b);return t(D[g].apply(D,e))});if("forEach"!==g||h)return d}}if(!l)return l;var h=!!l.then;h&&(l=w.delegate(l));n("forEach");
n("filter");n("map");null==l.total&&(l.total=a(l,function(g){return g.length}));return l};w.setObject("dojo.store.util.QueryResults",t);return t})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(D){return function(w,a){function t(n){n=D.filter(n,w);var h=a&&a.sort;h&&n.sort("function"==typeof h?h:function(e,d){for(var b,c=0;b=h[c];c++){var f=e[b.attribute],m=d[b.attribute];f=null!=f?f.valueOf():f;m=null!=m?m.valueOf():m;if(f!=m)return!!b.descending==(null==f||
f>m)?-1:1}return 0});if(a&&(a.start||a.count)){var g=n.length;n=n.slice(a.start||0,(a.start||0)+(a.count||Infinity));n.total=g}return n}switch(typeof w){default:throw Error("Can not query with a "+typeof w);case "object":case "undefined":var l=w;w=function(n){for(var h in l){var g=l[h];if(g&&g.test){if(!g.test(n[h],n))return!1}else if(g!=n[h])return!1}return!0};break;case "string":if(!this[w])throw Error("No filter function "+w+" was found in store");w=this[w];case "function":}t.matches=w;return t}})},
"esri/tasks/AlgorithmicColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../Color ./ColorRamp".split(" "),function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.tasks.AlgorithmicColorRamp",type:"algorithmic",fromColor:null,toColor:null,algorithm:null,toJson:function(){switch(this.algorithm&&this.algorithm.toLowerCase()){case "cie-lab":var h="esriCIELabAlgorithm";break;case "hsv":h="esriHSVAlgorithm";break;case "lab-lch":h="esriLabLChAlgorithm"}h={type:"algorithmic",algorithm:h};
h.fromColor=l.toJsonColor(this.fromColor);h.toColor=l.toJsonColor(this.toColor);return h}});a("extend-esri")&&w.setObject("tasks.AlgorithmicColorRamp",D,t);return D})},"esri/tasks/ColorRamp":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(D,w,a,t){D=D(null,{declaredClass:"esri.tasks.ColorRamp",type:null});a("extend-esri")&&w.setObject("tasks.ColorRamp",D,t);return D})},"esri/tasks/MultipartColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../symbols/Symbol ./ColorRamp".split(" "),
function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.tasks.MultipartColorRamp",type:"multipart",constructor:function(){this.colorRamps=[]},addColorRamp:function(h){this.colorRamps.push(h)},toJson:function(){return{type:"multipart",colorRamps:a.map(this.colorRamps,function(h){return h.toJson()})}}});t("extend-esri")&&w.setObject("tasks.MultipartColorRamp",D,l);return D})},"esri/renderers/colorUtils":function(){define(["dojo/_base/Color","dojo/_base/array"],function(D,w){var a={COEF_RGB2XYZ:[[.4124,.3576,
.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],COEF_XYZ2RGB:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],matrixProduct:function(l,n){var h=[],g,e;if(l[0].length!==n.length)throw"dimensions do not match";var d=l.length,b=l[0].length,c=0;for(g=0;g<d;g++){for(e=c=0;e<b;e++)c+=l[g][e]*n[e];h.push(c)}return h},rgb2xyz:function(l){l=[l.r/255,l.g/255,l.b/255].map(function(n){return.04045>=n?n/12.92:Math.pow((n+.055)/1.055,2.4)});l=this.matrixProduct(this.COEF_RGB2XYZ,l);return{x:100*
l[0],y:100*l[1],z:100*l[2]}},xyz2rgb:function(l){l=this.matrixProduct(this.COEF_XYZ2RGB,[l.x/100,l.y/100,l.z/100]).map(function(n){return Math.min(1,Math.max(.0031308>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055,0))});return{r:Math.round(255*l[0]),g:Math.round(255*l[1]),b:Math.round(255*l[2])}},xyz2lab:function(l){l=[l.x/95.047,l.y/100,l.z/108.883].map(function(n){return n>Math.pow(6/29,3)?Math.pow(n,1/3):1/3*Math.pow(29/6,2)*n+4/29});return{l:116*l[1]-16,a:500*(l[0]-l[1]),b:200*(l[1]-l[2])}},lab2xyz:function(l){var n=
l.l;l=[(n+16)/116+l.a/500,(n+16)/116,(n+16)/116-l.b/200].map(function(h){return h>6/29?Math.pow(h,3):3*Math.pow(6/29,2)*(h-4/29)});return{x:95.047*l[0],y:100*l[1],z:108.883*l[2]}},lab2lch:function(l){var n=l.l,h=l.a,g=l.b;l=Math.sqrt(h*h+g*g);h=Math.atan2(g,h);h=0<h?h:h+2*Math.PI;return{l:n,c:l,h:h}},lch2lab:function(l){var n=l.c,h=l.h;return{l:l.l,a:n*Math.cos(h),b:n*Math.sin(h)}},rgb2lab:function(l){return this.xyz2lab(this.rgb2xyz(l))},lab2rgb:function(l){return this.xyz2rgb(this.lab2xyz(l))},
rgb2lch:function(l){return this.lab2lch(this.xyz2lab(this.rgb2xyz(l)))},lch2rgb:function(l){return this.xyz2rgb(this.lab2xyz(this.lch2lab(l)))}},t={rgb2hsv:function(l){var n=l.r,h=l.g;l=l.b;var g=Math.max(n,h,l),e=g-Math.min(n,h,l),d;0===e?d=0:g===n?d=(h-l)/e%6:g===h?d=(l-n)/e+2:g===l&&(d=(n-h)/e+4);0>d&&(d+=6);return{h:60*d,s:100*(0===e?0:e/g),v:100/255*g}},hsv2rgb:function(l){var n=(l.h+360)%360/60,h=l.v/100*255;l=l.s/100*h;var g=l*(1-Math.abs(n%2-1));switch(Math.floor(n)){case 0:n={r:l,g:g,b:0};
break;case 1:n={r:g,g:l,b:0};break;case 2:n={r:0,g:l,b:g};break;case 3:n={r:0,g:g,b:l};break;case 4:n={r:g,g:0,b:l};break;case 5:case 6:n={r:l,g:0,b:g};break;default:n={r:0,g:0,b:0}}n.r=Math.round(n.r+h-l);n.g=Math.round(n.g+h-l);n.b=Math.round(n.b+h-l);return n}};return{toRGB:function(l){var n;void 0!==l.r&&void 0!==l.g&&void 0!==l.b?n=l:void 0!==l.l&&void 0!==l.c&&void 0!==l.h?n=a.lch2rgb(l):void 0!==l.l&&void 0!==l.a&&void 0!==l.b?n=a.lab2rgb(l):void 0!==l.x&&void 0!==l.y&&void 0!==l.z?n=a.xyz2rgb(l):
void 0!==l.h&&void 0!==l.s&&void 0!==l.v&&(n=t.hsv2rgb(l));return n},toHSV:function(l){if(void 0!==l.h&&void 0!==l.s&&void 0!==l.v)return l;l=this.toRGB(l);return t.rgb2hsv(l)},toLAB:function(l){return void 0!==l.l&&void 0!==l.a&&void 0!==l.b?l:a.rgb2lab(this.toRGB(l))},toLCH:function(l){return void 0!==l.l&&void 0!==l.c&&void 0!==l.h?l:a.rgb2lch(this.toRGB(l))},toXYZ:function(l){return void 0!==l.x&&void 0!==l.y&&void 0!==l.z?l:a.rgb2xyz(this.toRGB(l))},getDojoColor:function(l){if(l){if(Array.isArray(l))return D.fromArray(l);
if(void 0!==l.r&&void 0!==l.g&&void 0!==l.b)return l}},correctRGBLimits:function(l){var n=[l.r,l.g,l.b];w.forEach(n,function(h,g){0>n[g]?n[g]=0:255<n[g]&&(n[g]=255);n[g]=Math.floor(n[g])});return{r:n[0],g:n[1],b:n[2],a:1}}}})},"esri/renderers/jsonUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../Color ../symbols/jsonUtils ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer ./VectorFieldRenderer ./DotDensityRenderer ./ScaleDependentRenderer ./TimeClassBreaksAger ./TimeRampAger ./TemporalRenderer ./HeatmapRenderer ./StretchRenderer ./ShadedReliefRenderer ./ColormapRenderer".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z){var q={createDefaultRenderer:function(k){k=h.createDefaultSymbol(k);return new g(k)},fromJson:function(k,v){switch(k.type||""){case "simple":k=new g(k,v);break;case "uniqueValue":k=new e(k,null,null,null,null,v);break;case "classBreaks":k=new d(k,null,v);break;case "vectorField":k=new b(k);break;case "scaleDependent":k=this._scaleDependentFromJson(k);break;case "dotDensity":k=k.attributes?q.createDefaultRenderer("esriGeometryPolygon"):this._dotDensityFromJson(k);
break;case "temporal":k=this._temporalFromJson(k,v);break;case "heatmap":k=this._heatmapFromJson(k);break;case "rasterStretch":k=new y(k);break;case "rasterShadedRelief":k=new x(k);break;case "rasterColormap":k=new z(k);break;default:k=(k=v&&v.geometryType)?q.createDefaultRenderer(k):null}return k},_scaleDependentFromJson:function(k){var v={},B=k.minScale;v.rendererInfos=D.map(k.rendererInfos,function(E){var N=E.maxScale;E={minScale:B,maxScale:N,renderer:E.renderer&&this.fromJson(E.renderer)};B=N;
return E},this);return new f(v)},_dotDensityFromJson:function(k){k.backgroundColor&&w.isArray(k.backgroundColor)&&(k.backgroundColor=n.toDojoColor(k.backgroundColor));0<k.dotSize&&(k.dotSize=t.pt2px(k.dotSize));k.fields&&D.forEach(k.fields,function(v){v&&w.isArray(v.color)&&(v.color=n.toDojoColor(v.color))});k.legendOptions&&(k.legendOptions.backgroundColor&&w.isArray(k.legendOptions.backgroundColor)&&(k.legendOptions.backgroundColor=n.toDojoColor(k.legendOptions.backgroundColor)),k.legendOptions.outline&&
(k.legendOptions.outline=h.fromJson(k.legendOptions.outline)));k.outline&&(k.outline=h.fromJson(k.outline));return new c(k)},_temporalFromJson:function(k,v){var B=v&&v.geometryType;k=k||{};var E=this.fromJson(k.observationRenderer,v);v=k.latestObservationRenderer?this.fromJson(k.latestObservationRenderer,v):null;B=k.trackRenderer?this.fromJson(k.trackRenderer,B?{geometryType:"esriGeometryPolyline"}:null):null;k=this._agerFromJson(k.observationAger);return new p(E,v,B,k)},_agerFromJson:function(k){var v;
k=k||{};k.colorRange||k.sizeRange||k.alphaRange?v=this._timeRampFromJson(k):k.agerClassBreakInfos&&(v=this._timeClassBreaksFromJson(k));return v},_timeRampFromJson:function(k){var v,B,E;k.colorRange&&1<k.colorRange.length&&(v=[n.toDojoColor(k.colorRange[0]),n.toDojoColor(k.colorRange[1])]);k.sizeRange&&1<k.sizeRange.length&&(B=[k.sizeRange[0],k.sizeRange[1]]);k.alphaRange&&1<k.alphaRange.length&&(E=[k.alphaRange[0]/255,k.alphaRange[1]/255]);return new r(v,B,E)},_timeClassBreaksFromJson:function(k){var v=
k.agerClassBreakInfos,B=[],E;var N=m.UNIT_DAYS;switch(k.timeUnits){case "esriTimeUnitsSeconds":N=m.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":N=m.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":N=m.UNIT_HOURS;break;case "esriTimeUnitsMinutes":N=m.UNIT_MINUTES;break;case "esriTimeUnitsMonths":N=m.UNIT_MONTHS;break;case "esriTimeUnitsWeeks":N=m.UNIT_WEEKS;break;case "esriTimeUnitsYears":N=m.UNIT_YEARS}for(E=0;E<v.length;E+=1){k=v[E];var G={minAge:0,maxAge:k.oldestAge||Infinity};k.color&&
(G.color=n.toDojoColor(k.color));k.alpha&&(G.alpha=k.alpha/255);G.size=k.size;B[E]=G}return new m(B,N)},_heatmapFromJson:function(k){var v=k.colorStops;v&&v instanceof Array&&D.forEach(v,function(B){B.color=n.toDojoColor(B.color)});return new u(k)}};a("extend-esri")&&w.mixin(w.getObject("renderer",!0,l),q);return q})},"esri/renderers/VectorFieldRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/_base/array ../kernel ../lang ../Color ./Renderer ./ClassBreaksRenderer ../symbols/SimpleMarkerSymbol ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/jsonUtils require".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m){var r=D(g,{declaredClass:"esri.renderer.VectorFieldRenderer",iconFolderPath:"../images/symbol/sfs/",constructor:function(p){n.isDefined(p)||(p={});p.attributeField=p.attributeField||"Magnitude";p.rotationInfo=p.rotationInfo||this._getRotationInfo(p);D.safeMixin(this,p);this.setRotationInfo(this.rotationInfo);this.style=this.style||r.STYLE_SINGLE_ARROW;this.singleArrowSymbol&&(this.singleArrowSymbol=this.singleArrowSymbol.declaredClass?this.singleArrowSymbol:f.fromJson(this.singleArrowSymbol));
this.renderer=new e(this._getDefaultSymbol(),p.attributeField);this._updateRenderer(this.style);this.flowRepresentation=this.flowRepresentation||this.FLOW_FROM},getSymbol:function(p){return this.renderer&&this.renderer.getSymbol(p)},setVisualVariables:function(p){p=t.filter(p,function(u){if("sizeInfo"===u.type)return n.isDefined(this._updateSizeInfo(u))},this);this.inherited(arguments);return this},setSizeInfo:function(p){this._updateSizeInfo(p);this.inherited(arguments);return this},setProportionalSymbolInfo:function(p){this.setSizeInfo(p);
return this},setColorInfo:function(p){return this},_updateRenderer:function(p){return n.isDefined(this.renderer)?p===r.STYLE_SINGLE_ARROW?this._createSingleArrowRenderer():p===r.STYLE_BEAUFORT_KN?this._createBeaufortKnotsRenderer():p===r.STYLE_BEAUFORT_METER?this._createBeaufortMeterRenderer():p===r.STYLE_BEAUFORT_FEET?this._createBeaufortFeetRenderer():p===r.STYLE_BEAUFORT_MILE?this._createBeaufortMilesRenderer():p===r.STYLE_BEAUFORT_KM?this._createBeaufortKilometersRenderer():p===r.STYLE_OCEAN_CURRENT_M?
this._createCurrentMeterRenderer():p===r.STYLE_OCEAN_CURRENT_KN?this._createCurrentKnotsRenderer():p===r.STYLE_SCALAR?this._createSimpleScalarRenderer():p===r.STYLE_WIND_BARBS?this._createWindBarbsRenderer():this._createClassifiedArrowRenderer():Error("Invalid Renderer!")},_updateSizeInfo:function(p){return p&&n.isDefined(p.minSize)&&n.isDefined(p.maxSize)&&n.isDefined(p.minDataValue)&&n.isDefined(p.maxDataValue)?(this.style===r.STYLE_WIND_BARBS&&(p.minSize=p.maxSize),p.field=p.field||"Magnitude",
p.type="sizeInfo",this.minDataValue=p.minDataValue,this.maxDataValue=p.maxDataValue,p):null},_createClassifiedArrowRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new h([56,168,0]));var p=[0,1E-6,3.5,7,10.5,14];if(n.isDefined(this.minDataValue)&&n.isDefined(this.maxDataValue)){var u=(this.maxDataValue-this.minDataValue)/5;p=[];var y;var x=this.minDataValue;for(y=0;6>y;y++)p[y]=x,x+=u}this._addBreaks(p,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])},_createSingleArrowRenderer:function(){this.renderer.defaultSymbol=
this.singleArrowSymbol||this._getDefaultSymbol()},_createBeaufortMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new h([214,47,39]));this._addBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new h([214,
47,39]));this._addBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])},_createBeaufortFeetRenderer:function(){var p=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];t.forEach(p,function(u,y){p[y]*=3.28084});this.renderer.defaultSymbol=this._getDefaultSymbol(new h([214,47,39]));this._addBreaks(p,[[69,117,181],[101,137,184],[132,158,186],
[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortMilesRenderer:function(){var p=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];t.forEach(p,function(u,y){p[y]*=2.23694});this.renderer.defaultSymbol=this._getDefaultSymbol(new h([214,47,39]));this._addBreaks(p,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,
117,81],[232,21,21]])},_createBeaufortKilometersRenderer:function(){var p=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];t.forEach(p,function(u,y){p[y]*=3.6});this.renderer.defaultSymbol=this._getDefaultSymbol(new h([214,47,39]));this._addBreaks(p,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createCurrentMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new h([177,
177,177]));this._addBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])},_createCurrentKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new h([177,177,177]));this._addBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])},_createSimpleScalarRenderer:function(){this.renderer.defaultSymbol=new b({url:m.toUrl(this.iconFolderPath+"scalar.png"),height:20,width:20,
type:"esriPMS",angle:0})},_createWindBarbsRenderer:function(){var p=[],u;for(u=0;150>=u;u+=5)p.push(u);var y="M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20;M25 0 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40;M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35;M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15 M25 10 M25 5 L17.5 7.5".split(";");
var x=new b({url:m.toUrl(this.iconFolderPath+"windbarb.png"),height:20,width:20,type:"esriPMS",angle:0});this.renderer.defaultSymbol=x;for(u=0;u<p.length-1;u++)0===u?this.renderer.addBreak({minValue:p[u],maxValue:p[u+1],symbol:x}):this.renderer.addBreak({minValue:p[u],maxValue:p[u+1],symbol:(new d).setPath(y[u]).setOutline((new c).setWidth(1.5)).setSize(20).setColor(new h([0,0,0,255]))})},_getDefaultSymbol:function(p){return(new d).setPath("M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z").setOutline((new c).setWidth(0)).setSize(20).setColor(p||
new h([0,92,230]))},_getRotationInfo:function(p){var u=p&&p.flowRepresentation||r.FLOW_FROM,y=p&&p.rotationField||"Direction",x=r.FLOW_FROM;return{field:function(z){z=z.attributes[y];return u===x?z:z+180},type:"geographic"}},_addBreaks:function(p,u){if(!n.isDefined(this.renderer))return Error("Invalid Renderer!");if(!(p&&u&&p.length&&u.length&&p.length>=u.length))return Error("AddBreaks: Input arguments break values and colors not valid");var y;for(y=0;y<u.length;y++)this.renderer.addBreak({minValue:p[y],
maxValue:p[y+1],symbol:this._getDefaultSymbol(new h(u[y]))})},toJson:function(){var p=w.mixin(this.inherited(arguments),{type:"vectorField",style:this.style,attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,symbolTileSize:this.symbolTileSize,inputUnit:this.inputUnit,outputUnit:this.outputUnit});this.renderer&&this.renderer.defaultSymbol&&this.style===r.STYLE_SINGLE_ARROW&&(p.singleArrowSymbol=this.renderer.defaultSymbol.toJson());return n.fixJson(p)}});w.mixin(r,{STYLE_WIND_BARBS:"wind_speed",
STYLE_SINGLE_ARROW:"single_arrow",STYLE_CLASSIFIED_ARROW:"classified_arrow",STYLE_BEAUFORT_KN:"beaufort_kn",STYLE_BEAUFORT_METER:"beaufort_m",STYLE_BEAUFORT_MILE:"beaufort_mi",STYLE_BEAUFORT_FEET:"beaufort_ft",STYLE_BEAUFORT_KM:"beaufort_km",STYLE_OCEAN_CURRENT_M:"ocean_current_m",STYLE_OCEAN_CURRENT_KN:"ocean_current_kn",STYLE_SCALAR:"simple_scalar"},{FLOW_FROM:"flow_from",FLOW_TO:"flow_to"});a("extend-esri")&&w.setObject("renderer.VectorFieldRenderer",r,l);return r})},"esri/renderers/DotDensityRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Renderer ../symbols/PictureFillSymbol ../geometry/ScreenPoint ../geometry/Point".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f){D=D(d,{declaredClass:"esri.renderer.DotDensityRenderer",constructor:function(m){this.dotSize=m.dotSize||3;this.dotValue=m.dotValue;this.fields=m.fields;this.outline=m.outline;this.backgroundColor=m.backgroundColor;this.exactCount=m.exactCount||!0;this.dotShape=m.dotShape||"square";this.legendOptions=m.legendOptions;this._exactCountMinArea=1E4;this._currentMapScale=this._map=this._canvas=null;this._symbolMap={};this._currentGraphic=this._currentResolution=this._objectIdField=
null;this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1;window.CanvasRenderingContext2D||console.log("The DotDensityRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(m){this._currentGraphic=m;if(!this._supportsCanvas)return null;this._map||(this._map=m.getLayer()._map,this._objectIdField=m.getLayer().objectIdField,this._currentMapScale=this._map.getScale(),this._currentResolution=this._map.extent.getWidth()/this._map.width,this._map.on("zoom-end",
w.hitch(this,function(u){this._currentMapScale=this._map.getScale();this._currentResolution=u.extent.getWidth()/this._map.width;this._symbolMap[this._currentMapScale]={}})));if(this._symbolMap[this._currentMapScale]&&this._symbolMap[this._currentMapScale][m.attributes[this._objectIdField]]){var r=this._symbolMap[this._currentMapScale][m.attributes[this._objectIdField]];var p=this._getShapeProperties(m);r.setOffset(p.dx,p.dy);return r}r=this._generateFieldsCount(this.fields,m.attributes,this.dotValue);
p=this._getShapeProperties(m);if(!p.width||!p.height)return null;r=new b(this._generateImageSrc(p.width,p.height,r,p.minXY,p.maxXY),this.outline,p.width,p.height);r.setOffset(p.dx,p.dy);this._symbolMap[this._currentMapScale]||(this._symbolMap[this._currentMapScale]={});return this._symbolMap[this._currentMapScale][m.attributes[this._objectIdField]]=r},_generateFieldsCount:function(m,r,p){var u;for(u=m.length-1;0<=u;u--){var y=r[m[u].name]/p;m[u].numPoints=Math.round(y)}return m},_getShapeProperties:function(m){var r=
m.geometry.getExtent();r.contains(this._map.extent)&&(r=this._map.extent);var p=Math.ceil(r.getWidth()/this._currentResolution);var u=Math.ceil(r.getHeight()/this._currentResolution);var y=this._map.toScreen(new f(r.xmin,r.ymin,r.spatialReference));r=this._map.toScreen(new f(r.xmax,r.ymax,r.spatialReference));m=m.getLayer().getNavigationTransform();return{minXY:y,maxXY:r,dx:(y.x-m.dx)%p,dy:(r.y-m.dy)%u,width:p,height:u}},_generateImageSrc:function(m,r,p,u,y,x){var z=this.dotSize,q;this._canvas?(this._canvas.width=
m,this._canvas.height=r):this._canvas=this._initCanvas(m,r);var k=this._canvas.getContext("2d");if(x=x||this.backgroundColor)k.fillStyle=x.toCss(!0),k.fillRect(0,0,m,r),k.fill();for(x=p.length-1;0<=x;x--)for(k.fillStyle=p[x].color.toCss(!0),q=p[x].numPoints-1;0<=q;q--){var v=this._getRandomPoint(m,r,u,y);"square"===this.dotShape?k.fillRect(v.x,v.y,z,z):"circle"===this.dotShape&&(k.beginPath(),k.arc(v.x,v.y,z/2,0,2*Math.PI,!0));k.fill()}return this._canvas.toDataURL()},_initCanvas:function(m,r){m=
t.create("canvas",{id:"canvas",width:m+"px",height:r+"px",style:"position: absolute; left: -10000px; top: 0px;"},null);document.body.appendChild(m);return m},_getRandomInt:function(m,r){return Math.floor(Math.random()*(r-m+1)+m)},_getRandomPoint:function(m,r,p,u){var y={},x=this.outline&&this.outline.width?this.outline.width:0;if(!0===this.exactCount&&m*r>this._exactCountMinArea){m=!1;do y.x=this._getRandomInt(p.x,u.x),y.y=this._getRandomInt(u.y,p.y),m=new c(y.x,y.y),m=this._checkPointShapeBounds(m,
this.dotSize+x,this._currentGraphic.geometry),!0===m&&(y.x-=p.x,y.y-=u.y);while(!1===m)}else y.x=this._getRandomInt(0,m),y.y=this._getRandomInt(0,r);return y},_checkPointShapeBounds:function(m,r,p){var u=null;u=!1;var y=!0,x=0;do{switch(x){case 1:m.x+=r;break;case 2:m.y+=r;break;case 3:m.x-=r}u=this._map.toMap(m);u=p.contains(u);!1===u&&(y=!1);x+=1}while(3>=x&&!0===y);return u},setDotSize:function(m){0<m&&(this.dotSize=m)},setDotValue:function(m){0<m&&(this.dotValue=m)},setOutline:function(m){this.outline=
m},setBackgroundColor:function(m){this.backgroundColor=m},toJson:function(){var m=w.mixin(this.inherited(arguments),{type:"dotDensity",backgroundColor:e.toJsonColor(this.backgroundColor),dotShape:this.dotShape,dotSize:0<this.dotSize?n.px2pt(this.dotSize):0,dotValue:this.dotValue,fields:a.map(this.fields,function(r){return g.fixJson({color:e.toJsonColor(r.color),name:r.name})}),legendOptions:this.legendOptions&&g.fixJson({backgroundColor:e.toJsonColor(this.legendOptions.backgroundColor),dotCoverage:this.legendOptions.dotCoverage,
outline:this.legendOptions.outline&&this.legendOptions.outline.toJson(),valueUnit:this.legendOptions.valueUnit}),outline:this.outline&&this.outline.toJson()});return g.fixJson(m)}});l("extend-esri")&&w.setObject("renderer.DotDensityRenderer",D,h);return D})},"esri/renderers/ScaleDependentRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ./Renderer".split(" "),function(D,w,a,t,l,n,h){D=D(h,{declaredClass:"esri.renderer.ScaleDependentRenderer",
constructor:function(g){this.setRendererInfos(g&&g.rendererInfos||[])},setRendererInfos:function(g){this.rendererInfos=g;this._setRangeType();return this},getSymbol:function(g){var e=this.getRendererInfo(g);return e&&e.renderer&&e.renderer.getSymbol(g)},getRendererInfo:function(g){g=g.getLayer().getMap();return"zoom"===this.rangeType?this.getRendererInfoByZoom(g.getZoom()):this.getRendererInfoByScale(g.getScale())},getRendererInfoByZoom:function(g){var e=this.rendererInfos,d,b=0;do{var c=e[b];g>=
c.minZoom&&g<=c.maxZoom&&(d=c);b++}while(!d&&b<e.length);return d},getRendererInfoByScale:function(g){var e=this.rendererInfos,d,b=0;do{var c=e[b];var f=c.minScale;var m=c.maxScale;var r=!f;var p=!m;!r&&g<=f&&(r=!0);!p&&g>=m&&(p=!0);r&&p&&(d=c);b++}while(!d&&b<e.length);return d},addRendererInfo:function(g){var e=0,d=this.rendererInfos,b=g.hasOwnProperty("minZoom")?"minZoom":"minScale",c=d.length;do{var f=d[e];if(c===e||g[b]<f[b]){d.splice(e,0,g);this._setRangeType();var m=!0}e++}while(!m&&e<c);return this},
_setRangeType:function(){var g=this.rendererInfos;if(g=g&&g[0])this.rangeType=g.hasOwnProperty("minZoom")?"zoom":g.hasOwnProperty("minScale")?"scale":""},toJson:function(){if("zoom"===this.rangeType)return null;var g=this.rendererInfos||[],e=g[0]&&g[0].minScale;g=a.mixin(this.inherited(arguments),{type:"scaleDependent",minScale:0<e?e:0,rendererInfos:w.map(g,function(d){return n.fixJson({maxScale:0<d.maxScale?d.maxScale:0,renderer:d.renderer&&d.renderer.toJson()})})});return n.fixJson(g)}});t("extend-esri")&&
a.setObject("renderer.ScaleDependentRenderer",D,l);return D})},"esri/renderers/HeatmapRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct ../sniff ../kernel ../lang ../symbols/PictureMarkerSymbol ../Color ./Renderer".split(" "),function(D,w,a,t,l,n,h,g,e,d){D=D([d],{declaredClass:"esri.renderer.HeatmapRenderer",colors:null,blurRadius:10,maxPixelIntensity:100,minPixelIntensity:0,field:null,fieldOffset:null,colorStops:null,constructor:function(b){(this._supportsCanvas=
window.CanvasRenderingContext2D?!0:!1)?("string"==typeof b&&(b=JSON.parse(b)),w.mixin(this,b),this._canvas=null,this.colors||this.colorStops||(this.colorStops=[{ratio:0,color:"rgba(255, 140, 0, 0)"},{ratio:.75,color:"rgba(255, 140, 0, 1)"},{ratio:.9,color:"rgba(255, 0,   0, 1)"}]),this.gradient=this._generateGradient(this.colorStops||this.colors)):console.log("The HeatmapRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(b){if(!this._supportsCanvas)return!1;
var c=b.attributes.imageData;b=b.attributes.size;if(!b)return null;var f=this._getContext(b[0],b[1]),m=f.getImageData(0,0,b[0],b[1]);window.ArrayBuffer&&c instanceof ArrayBuffer?c=window.Uint8ClampedArray?new Uint8ClampedArray(c):new Uint8Array(c):c.BYTES_PER_ELEMENT&&1!==c.BYTES_PER_ELEMENT&&(c=window.Uint8ClampedArray?new Uint8ClampedArray(c.buffer):new Uint8Array(c.buffer));if(window.CanvasPixelArray&&m.data instanceof window.CanvasPixelArray)for(var r=m.data,p=r.length;p--;)r[p]=c[p];else m.data.set(c);
f.putImageData(m,0,0);return new g(f.canvas.toDataURL(),b[0],b[1])},setColors:function(b){b&&(b instanceof Array||b.colors)&&(this.gradient=this._generateGradient(b.colors||b),this.colors=b);return this},setColorStops:function(b){b&&(b instanceof Array||b.colorStops)&&(this.gradient=this._generateGradient(b.colorStops||b),this.colorStops=b);return this},setMaxPixelIntensity:function(b){this.maxPixelIntensity=b;return this},setMinPixelIntensity:function(b){this.minPixelIntensity=b;return this},setField:function(b){this.field=
b;return this},setFieldOffset:function(b){this.fieldOffset=b;return this},setBlurRadius:function(b){this.blurRadius=b;return this},getStats:function(){},getHistogramData:function(){},toJson:function(){var b=w.mixin(this.inherited(arguments),{type:"heatmap",blurRadius:this.blurRadius,colorStops:this._colorsToStops(this.colorStops||this.colors),maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity,field:this.field});null!=this.fieldOffset&&(b.fieldOffset=this.fieldOffset);
a.forEach(b.colorStops,function(c){c.color=e.toJsonColor(c.color)});return h.fixJson(b)},_getContext:function(b,c){this._canvas?(this._canvas.width=b,this._canvas.height=c):this._canvas=this._initCanvas(b,c);return this._canvas.getContext("2d")},_initCanvas:function(b,c){var f=t.create("canvas",{id:"hm_canvas-"+Math.floor(1E3*Math.random()),style:"position: absolute; left: 0px; top: -10000px;"},null);f.width=b;f.height=c;document.body.appendChild(f);return f},_generateGradient:function(b,c){c||(c=
512);b=this._colorsToStops(b);for(var f=this._getContext(1,c||512),m=f.createLinearGradient(0,0,0,c),r=0,p;r<b.length;r++)p=b[r],m.addColorStop(p.ratio,p.color.toCss(!0));f.fillStyle=m;f.fillRect(0,0,1,c);return f.getImageData(0,0,1,c).data},_colorsToStops:function(b){var c=[];if(!b[0])return c;if(null!=b[0].ratio)c=a.map(b,function(y){return{ratio:y.ratio,color:this._toColor(y.color)}},this);else if(null!=b[0].value){var f=Infinity;c=-Infinity;var m=0,r;for(r=0;r<b.length;r++){var p=b[r].value;p<
f&&(f=p);p>c&&(c=p)}m=c-f;this.maxPixelIntensity=c;this.minPixelIntensity=f;c=a.map(b,function(y){var x=y.value;y=this._toColor(y.color);return{value:x,ratio:(x-f)/m,color:y}},this)}else{var u=b.length-1;c=a.map(b,function(y,x){return{color:this._toColor(y),ratio:x/u}},this)}return c},_toColor:function(b){b.toRgba||b.declaredClass||(b=new e(b));return b}});l("extend-esri")&&w.setObject("renderer.HeatmapRenderer",D,n);return D})},"esri/renderers/ShadedReliefRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),
function(D,w,a,t,l,n,h,g){D=D(null,{declaredClass:"esri.renderer.ShadedReliefRenderer",constructor:function(e){e=e||{};this.hillshadeType=e.hillshadeType||"traditional";this.azimuth=null!=e.azimuth?e.azimuth:315;this.altitude=null!=e.altitude?e.altitude:45;this.zFactor=e.zFactor||1;this.scalingType=e.scalingType||"none";this.pixelSizePower=null!=e.pixelSizePower?e.pixelSizePower:.664;this.pixelSizeFactor=null!=e.pixelSizeFactor?e.pixelSizeFactor:.024;this.removeEdgeEffect=e.removeEdgeEffect||!1;this.colorRamp=
g.fromJson(e.colorRamp)},toJson:function(){var e={type:"rasterShadedRelief",hillshadeType:this.hillshadeType,azimuth:this.azimuth,altitude:this.altitude,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizePower:this.pixelSizePower,pixelSizeFactor:this.pixelSizeFactor,colorRamp:this.colorRamp&&this.colorRamp.toJson()};return n.fixJson(e)},toRenderingRule:function(e){}});t("extend-esri")&&a.setObject("renderer.ShadedReliefRenderer",D,l);return D})},"esri/renderers/ColormapRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ./arcadeUtils".split(" "),
function(D,w,a,t,l,n,h,g,e){D=D(g,{declaredClass:"esri.renderer.ColormapRenderer",constructor:function(d){this.colormapInfos=d&&d.colormapInfos},toJson:function(){var d=n.fixJson;var b={type:"rasterColormap",colormapInfos:w.map(this.colormapInfos||[],function(c,f){var m={};c.color&&null!==c.color&&3<=c.color.length&&(m.color=c.color,m.value=c.value||f,m.label=(c.label||f)+"");return d(m)})};b=a.mixin(this.inherited(arguments),b);return d(b)}});t("extend-esri")&&a.setObject("renderer.ColormapRenderer",
D,l);return D})},"esri/renderers/arcadeUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","../support/expressionUtils"],function(D,w,a,t){w("extend-esri")&&D.setObject("renderer.arcadeUtils",t,a);return t})},"esri/utils":function(){define("./domUtils ./lang ./urlUtils ./request ./tileUtils ./graphicsUtils ./deferredUtils ./layerUtils ./geometry/normalizeUtils".split(" "),function(){return{}})},"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has",
"./kernel","./geometry/Extent"],function(D,w,a,t,l){var n={graphicsExtent:function(h){if(!h||!h.length)return null;var g=null,e,d=h.length;for(e=0;e<d;e++){var b=h[e].geometry;if(b){var c=b.getExtent();c||"point"!==b.type||null==b.x||null==b.y||(c=new l(b.x,b.y,b.x,b.y,b.spatialReference));c&&(g=g?g.union(c):c)}}return 0>g.getWidth()&&0>g.getHeight()?null:g},getGeometries:function(h){return w.map(h,function(g){return g.geometry})},_encodeGraphics:function(h,g){return w.map(h,function(e,d){e=e.toJson();
var b={};e.geometry&&(d=g&&g[d],b.geometry=d&&d.toJson()||e.geometry);e.attributes&&(b.attributes=e.attributes);return b})}};a("extend-esri")&&D.mixin(t,n);return n})},"esri/layers/graphics":function(){define(["./GraphicsLayer","../graphic","../renderer"],function(){return{}})},"esri/layers/agstiled":function(){define(["./agscommon","./ArcGISTiledMapServiceLayer"],function(){return{}})},"esri/layers/agscommon":function(){define("./ArcGISMapServiceLayer ./LayerInfo ./TimeInfo ./LayerTimeOptions ./TimeReference ./Field ./Domain ./RangeDomain ./CodedValueDomain ./InheritedDomain ./LayerSource ./LayerMapSource ./LayerDataSource ./DataSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource ./DynamicLayerInfo ./LayerDrawingOptions ../geometry ../utils".split(" "),
function(){return{}})},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Domain"],function(D,w,a,t,l){D=D([l],{declaredClass:"esri.layers.InheritedDomain"});a("extend-esri")&&w.setObject("layers.InheritedDomain",D,t);return D})},"esri/layers/LayerSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(D,w,a,t){D=D(null,{declaredClass:"esri.layers.LayerSource",type:null,constructor:function(l){l&&
w.mixin(this,l)},toJson:function(){}});a("extend-esri")&&w.setObject("layers.LayerSource",D,t);return D})},"esri/layers/LayerMapSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource".split(" "),function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.layers.LayerMapSource",type:"mapLayer",toJson:function(){return l.fixJson({type:"mapLayer",mapLayerId:this.mapLayerId,gdbVersion:this.gdbVersion})}});a("extend-esri")&&w.setObject("layers.LayerMapSource",D,t);
return D})},"esri/layers/LayerDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource".split(" "),function(D,w,a,t,l,n,h,g,e,d){D=D(n,{declaredClass:"esri.layers.LayerDataSource",type:"dataLayer",constructor:function(b){if(b&&b.dataSource){switch(b.dataSource.type){case "table":b=new h(b.dataSource);break;case "queryTable":b=new g(b.dataSource);break;case "joinTable":b=new e(b.dataSource);
break;case "raster":b=new d(b.dataSource);break;default:b=b.dataSource}this.dataSource=b}},toJson:function(){var b={type:"dataLayer",dataSource:this.dataSource&&this.dataSource.toJson()};return l.fixJson(b)}});a("extend-esri")&&w.setObject("layers.LayerDataSource",D,t);return D})},"esri/layers/TableDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.layers.TableDataSource",toJson:function(){return l.fixJson({type:"table",
workspaceId:this.workspaceId,dataSourceName:this.dataSourceName,gdbVersion:this.gdbVersion})}});a("extend-esri")&&w.setObject("layers.TableDataSource",D,t);return D})},"esri/layers/DataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(D,w,a,t){D=D(null,{declaredClass:"esri.layers.DataSource",constructor:function(l){l&&w.mixin(this,l)},toJson:function(){}});a("extend-esri")&&w.setObject("layers.DataSource",D,t);return D})},"esri/layers/QueryDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ../SpatialReference".split(" "),
function(D,w,a,t,l,n,h){D=D(n,{declaredClass:"esri.layers.QueryDataSource",constructor:function(g){g&&(g.oidFields&&w.isString(g.oidFields)&&(this.oidFields=g.oidFields.split(",")),g.spatialReference&&(this.spatialReference=new h(g.spatialReference)))},toJson:function(){var g={type:"queryTable",workspaceId:this.workspaceId,query:this.query,oidFields:this.oidFields&&this.oidFields.join(),spatialReference:this.spatialReference&&this.spatialReference.toJson()};if(this.geometryType){var e="point"===this.geometryType.toLowerCase()?
"esriGeometryPoint":"multipoint"===this.geometryType.toLowerCase()?"esriGeometryMultipoint":"polyline"===this.geometryType.toLowerCase()?"esriGeometryPolyline":"polygon"===this.geometryType.toLowerCase()?"esriGeometryPolygon":this.geometryType;g.geometryType=e}return l.fixJson(g)}});a("extend-esri")&&w.setObject("layers.QueryDataSource",D,t);return D})},"esri/layers/JoinDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ./LayerMapSource ./TableDataSource ./QueryDataSource ./RasterDataSource".split(" "),
function(D,w,a,t,l,n,h,g,e,d){var b=D(n,{declaredClass:"esri.layers.JoinDataSource",constructor:function(c){c&&(c.leftTableSource&&(this.leftTableSource=this._createLayerSource(c.leftTableSource)),c.rightTableSource&&(this.rightTableSource=this._createLayerSource(c.rightTableSource)))},_createLayerSource:function(c){if("mapLayer"===c.type)var f=new h(c);else{f={type:"dataLayer"};switch(c.dataSource.type){case "table":var m=new g(c.dataSource);break;case "queryTable":m=new e(c.dataSource);break;case "joinTable":m=
new b(c.dataSource);break;case "raster":m=new d(c.dataSource);break;default:m=c.dataSource}f.dataSource=m;f.toJson=function(){var r={type:"dataLayer",dataSource:m.toJson()};return l.fixJson(r)}}return f},toJson:function(){var c={type:"joinTable",leftTableSource:this.leftTableSource&&this.leftTableSource.toJson(),rightTableSource:this.rightTableSource&&this.rightTableSource.toJson(),leftTableKey:this.leftTableKey,rightTableKey:this.rightTableKey};var f="left-outer-join"===this.joinType.toLowerCase()?
"esriLeftOuterJoin":"left-inner-join"===this.joinType.toLowerCase()?"esriLeftInnerJoin":this.joinType;c.joinType=f;return l.fixJson(c)}});a("extend-esri")&&w.setObject("layers.JoinDataSource",b,t);return b})},"esri/layers/RasterDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),function(D,w,a,t,l,n){D=D(n,{declaredClass:"esri.layers.RasterDataSource",toJson:function(){return l.fixJson({type:"raster",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName})}});
a("extend-esri")&&w.setObject("layers.RasterDataSource",D,t);return D})},"esri/layers/DynamicLayerInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerInfo ./LayerMapSource ./LayerDataSource".split(" "),function(D,w,a,t,l,n,h,g){D=D(n,{declaredClass:"esri.layers.DynamicLayerInfo",defaultVisibility:!0,parentLayerId:-1,maxScale:0,minScale:0,constructor:function(e){e&&(e.source?e="mapLayer"===e.source.type?new h(e.source):new g(e.source):(e=new h,e.mapLayerId=
this.id),this.source=e)},toJson:function(){var e=this.inherited(arguments);e.source=this.source&&this.source.toJson();return l.fixJson(e)}});a("extend-esri")&&w.setObject("layers.DynamicLayerInfo",D,t);return D})},"esri/layers/LayerDrawingOptions":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../renderers/jsonUtils ./LabelClass".split(" "),function(D,w,a,t,l,n,h,g){D=D(null,{declaredClass:"esri.layers.LayerDrawingOptions",constructor:function(e){if(e&&
(w.mixin(this,e),e.renderer&&(this.renderer=h.fromJson(e.renderer)),e.labelingInfo&&0<e.labelingInfo.length)){this.labelingInfo=[];var d;a.forEach(e.labelingInfo,function(b){d=new g(b);this.labelingInfo.push(d)},this)}},toJson:function(){var e={renderer:this.renderer&&this.renderer.toJson(),transparency:this.transparency,scaleSymbols:this.scaleSymbols,showLabels:this.showLabels};this.labelingInfo&&0<this.labelingInfo.length&&(e.labelingInfo=[],a.forEach(this.labelingInfo,function(d){e.labelingInfo.push(d.toJson())}));
return n.fixJson(e)}});t("extend-esri")&&w.setObject("layers.LayerDrawingOptions",D,l);return D})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../symbols/TextSymbol ../symbols/ShieldLabelSymbol".split(" "),function(D,w,a,t,l,n,h,g){var e=/__begin__/ig,d=/__end__/ig,b=/^__begin__/i,c=/__end__$/i;D=D(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,format:null,fieldInfos:null,useCodedValues:null,
symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft",
"center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart",
"below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(f){f&&(w.mixin(this,f),this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)||(this.labelPlacement=n.valueOf(this._labelPlacementLookup,
f.labelPlacement)),f.format&&(this.format=f.format),f.fieldInfos&&(this.fieldInfos=f.fieldInfos),f.symbol&&(this.symbol="esriSHD"===f.symbol.type?new g(f.symbol):new h(f.symbol)),f=this.sizeInfo)&&(f.minSize&&(f.minSize=t.pt2px(f.minSize)),f.maxSize&&(f.maxSize=t.pt2px(f.maxSize)))},getSymbol:function(){return this.symbol},toJson:function(){var f=this.sizeInfo;f&&(f=w.mixin({},f),f.minSize&&(f.minSize=t.px2pt(f.minSize)),f.maxSize&&(f.maxSize=t.px2pt(f.maxSize)));var m=n.fixJson(this.labelExpressionInfo&&
w.clone(this.labelExpressionInfo));this._processLabelExpressionInfo(m);f={name:this.name,labelExpression:this.labelExpression,labelExpressionInfo:m,format:this.format||void 0,fieldInfos:this.fieldInfos||void 0,useCodedValues:this.useCodedValues,maxScale:this.maxScale,minScale:this.minScale,where:this.where,sizeInfo:f||void 0,labelPlacement:this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?this._labelPlacementLookup[this.labelPlacement]:this.labelPlacement,symbol:this.symbol&&this.symbol.toJson()};
return n.fixJson(f)},_processLabelExpressionInfo:function(f){f&&f.value&&(f.expression=this._convertTemplatedStringToArcade(f.value))},_convertTemplatedStringToArcade:function(f){if(f){var m=w.replace(f,function(r,p){return'__begin__$feature["'+p+'"]__end__'});m=b.test(m)?m.replace(b,""):'"'+m;m=c.test(m)?m.replace(c,""):m+'"';m=m.replace(e,'" + ').replace(d,' + "')}return m}});a("extend-esri")&&w.setObject("layers.LabelClass",D,l);return D})},"esri/symbols/ShieldLabelSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol ./Font".split(" "),
function(D,w,a,t,l,n,h,g,e){var d={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};D=D(g,{declaredClass:"esri.symbol.ShieldLabelSymbol",type:"shieldlabelsymbol",color:[255,255,255,1],width:32,height:32,font:t.defaultFont,constructor:function(b,c,f,m,r){b?w.isString(b)?(this.url=b,c&&(this.color=c),f&&(this.width=f),m&&(this.height=m),void 0!==r&&(this.font=r)):(this.width=t.pt2px(b.width),this.height=t.pt2px(b.height),c=b.imageData,9>a("ie")||!c||(f=this.url,this.url="data:"+(b.contentType||
"image")+";base64,"+c,this.imageData=f)):w.mixin(this,d)},getStroke:function(){return null},getFill:function(){return this.color},setWidth:function(b){this.width=b;return this},setHeight:function(b){this.height=b;return this},setUrl:function(b){b!==this.url&&(delete this.imageData,delete this.contentType);this.url=b;return this},setFont:function(b){this.font=b;return this},setText:function(b){this.text=b;return this},getWidth:function(){return this.width},getHeight:function(){return this.height},
getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var b=this.url,c=this.imageData;if(0===b.indexOf("data:")){var f=b;b=c;c=f.indexOf(";base64,")+8;c=f.substr(c)}b=h.getAbsoluteUrl(b);f=t.px2pt(this.width);f=isNaN(f)?void 0:f;var m=t.px2pt(this.height);m=isNaN(m)?void 0:m;b=n.fixJson(w.mixin(this.inherited("toJson",arguments),{type:"esriSHD",
url:b,imageData:c,contentType:this.contentType,width:f,height:m}));this.font?(c=new e(this.font),b.font=c.toJson()):b.font=null;delete b.size;b.imageData||delete b.imageData;return b}});D.defaultProps=d;a("extend-esri")&&(w.setObject("symbol.ShieldLabelSymbol",D,l),l.symbol.defaultShieldLabelSymbol=d);return D})},"esri/layers/agsdynamic":function(){define(["./agscommon","./ArcGISDynamicMapServiceLayer","../_time"],function(){return{}})},"esri/layers/ArcGISDynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/sniff dojo/io-query ../kernel ../config ../lang ../request ../urlUtils ../layerUtils ../geometry/scaleUtils ./DynamicMapServiceLayer ./ArcGISMapServiceLayer ./TimeInfo ./LayerTimeOptions ./ImageParameters ./DynamicLayerInfo ./LayerMapSource".split(" "),
function(D,w,a,t,l,n,h,g,e,d,b,c,f,m,r,p,u,y,x,z){D=D([m,r],{declaredClass:"esri.layers.ArcGISDynamicMapServiceLayer",_eventMap:{"visible-layers-change":["visibleLayers"]},constructor:function(q,k,v){q=k&&k.imageParameters;var B=w.hitch;if(q){var E=q.layerDefinitions;E&&this.setLayerDefinitions(E);q.layerOption===y.LAYER_OPTION_SHOW&&(this.visibleLayers=[].concat(q.layerIds),this.onVisibleLayersChange(this.visibleLayers))}this._setIsPNG32=B(this,this._setIsPNG32);this.dpi=q&&q.dpi||96;this.imageFormat=
q&&q.format||"png8";this.imageTransparency=q&&!1===q.transparent?!1:!0;this._setIsPNG32();this.gdbVersion=k&&k.gdbVersion;this._params.gdbVersion=this.gdbVersion;E=q&&q.layerDefinitions;w.mixin(this._params,this._url.query,{dpi:this.dpi,transparent:this.imageTransparency,format:this.imageFormat},q?q.toJson():{});E&&(this._params.layerDefs=E);this.getImageUrl=B(this,this.getImageUrl);this._initLayer=B(this,this._initLayer);this._load=B(this,this._load);this.useMapImage=k?k.useMapImage:!1;this._loadCallback=
k&&k.loadCallback;(k=k&&k.resourceInfo)?this._initLayer(k):(void 0===v||!1===v)&&this._load();this.registerConnectEvents()},disableClientCaching:!1,layerDefinitions:null,_initLayer:function(q,k){this.inherited(arguments);q.timeInfo&&(this.timeInfo=new p(q.timeInfo));this.loaded=!0;this.onLoad(this);var v=this._loadCallback;v&&(delete this._loadCallback,v(this))},getImageUrl:function(q,k,v,B){var E=this._url.path+"/export",N=this._params,G=N.token=this._getToken(),K=q.spatialReference.wkid||t.toJson(q.spatialReference.toJson()),
I=this._errorHandler;delete N._ts;w.mixin(N,{bbox:q.xmin+","+q.ymin+","+q.xmax+","+q.ymax,bboxSR:K,imageSR:K,size:k+","+v},this.disableClientCaching?{_ts:(new Date).getTime()}:{});N.layerDefs&&(q=c._serializeLayerDefinitions(N.layerDefs,10.5<=this.version),N=w.mixin({},N),delete N.layerDefs,N.layerDefs=q);q=b.addProxy(b.normalize(E)+"?"+n.objectToQuery(w.mixin({},N,{f:"image"})));q.length>g.defaults.io.postLength||this.useMapImage?this._jsonRequest=d({url:E,content:w.mixin(N,{f:"json"}),callbackParamName:"callback",
load:function(O){O.imageData?O="data:"+(O.contentType||"image")+";base64,"+O.imageData:(O=O.href,G&&(O+=-1===O.indexOf("?")?"?token\x3d"+G:"\x26token\x3d"+G),O=b.addProxy(O));B(O)},error:I}):B(q)},_setIsPNG32:function(){var q=this.imageFormat.toLowerCase(),k=l("ie");this.isPNG32=k&&6===k&&("png32"===q||"png24"===q)&&this.imageTransparency},_setTime:function(q){var k=this.timeInfo;q=this._params.time=q?q.toJson().join(","):null;if(10.02>this.version&&k)if(q)this._params.layerTimeOptions=c._serializeTimeOptions(this.layerTimeOptions);
else{var v=this.layerInfos;if(v){var B=this.layerTimeOptions,E=B?B.slice(0):[],N=[];a.forEach(v,function(G){G.subLayerIds||N.push(G.id)});N.length&&(a.forEach(N,function(G){if(!E[G]){var K=new u;K.useTime=!1;E[G]=K}}),this._params.layerTimeOptions=c._serializeTimeOptions(E,N))}}10.02<=this.version&&k&&!q&&!k.hasLiveData&&(this._params.time="null,null")},setDPI:function(q,k){this.dpi=this._params.dpi=q;k||this.refresh(!0)},setImageFormat:function(q,k){this.imageFormat=this._params.format=q;this._setIsPNG32();
k||this.refresh(!0)},setImageTransparency:function(q,k){this.imageTransparency=this._params.transparent=q;this._setIsPNG32();k||this.refresh(!0)},setVisibleLayers:function(q,k){this.visibleLayers=q;this._params.layers=y.LAYER_OPTION_SHOW+":"+(q.length?q.join():"-1");this._updateDynamicLayers();k||this.refresh(!0);this.onVisibleLayersChange(this.visibleLayers)},onVisibleLayersChange:function(){},setDefaultVisibleLayers:function(q){this.visibleLayers=this._defaultVisibleLayers;this._params.layers=null;
this._updateDynamicLayers();q||this.refresh(!0);this.onVisibleLayersChange(this.visibleLayers)},setLayerDefinitions:function(q,k){this.layerDefinitions=q;this._params.layerDefs=q;this._updateDynamicLayers();k||this.refresh(!0)},setDefaultLayerDefinitions:function(q){this.layerDefinitions=this._params.layerDefs=null;this._updateDynamicLayers();q||this.refresh(!0)},setDisableClientCaching:function(q){this.disableClientCaching=q},setLayerTimeOptions:function(q,k){this.layerTimeOptions=q;this._params.layerTimeOptions=
c._serializeTimeOptions(q);this._updateDynamicLayers();k||this.refresh(!0)},refresh:function(q){if(!0===q)this.inherited(arguments);else{var k=this.disableClientCaching;this.disableClientCaching=!0;this.inherited(arguments);this.disableClientCaching=k}},setLayerDrawingOptions:function(q,k){this.layerDrawingOptions=q;this._updateDynamicLayers();k||this.refresh(!0)},setDynamicLayerInfos:function(q,k){q&&0<q.length?(this.dynamicLayerInfos=q,this.visibleLayers=c._getDefaultVisibleLayers(q),this.onVisibleLayersChange(this.visibleLayers)):
this.dynamicLayerInfos=this.layerDrawingOptions=null;this._updateDynamicLayers();k||this.refresh(!0)},createDynamicLayerInfosFromLayerInfos:function(){var q=[],k;a.forEach(this.layerInfos,function(v){k=new x(v.toJson());k.source=new z({mapLayerId:v.id});q.push(k)});return q},_onDynamicLayersChange:function(){},_updateDynamicLayers:function(){if(this.dynamicLayerInfos&&0<this.dynamicLayerInfos.length||this.layerDrawingOptions&&0<this.layerDrawingOptions.length){this.dynamicLayerInfos&&0!==this.dynamicLayerInfos.length||
(this.dynamicLayerInfos=this.createDynamicLayerInfosFromLayerInfos());var q=this._map&&f.getScale(this._map);q=this._getDynLayerObjs(q);q=t.toJson(q);this._params.dynamicLayers&&this._params.dynamicLayers.length===q.length&&this._params.dynamicLayers===q||(this._params.dynamicLayers=q,this._onDynamicLayersChange(this._params.dynamicLayers))}else this._params.dynamicLayers?(this._params.dynamicLayers=null,this._onDynamicLayersChange(null)):this._params.dynamicLayers=null},_getDynLayerObjs:function(q){var k=
this.dynamicLayerInfos,v=[],B=this.visibleLayers,E=q?c._getLayersForScale(q,k):B;a.forEach(k,function(N){if(!N.subLayerIds){var G=N.id;if(-1!==a.indexOf(B,G)&&-1!==a.indexOf(E,G)){var K={id:G,name:N.name};K.source=N.source&&N.source.toJson();var I;this.layerDefinitions&&this.layerDefinitions[G]&&(I=this.layerDefinitions[G]);I&&(K.definitionExpression=I);var O;this.layerDrawingOptions&&this.layerDrawingOptions[G]&&(O=this.layerDrawingOptions[G]);O&&(I=O.toJson(),this._fixMarkerColor(I.renderer),K.drawingInfo=
I);var V;this.layerTimeOptions&&this.layerTimeOptions[G]&&(V=this.layerTimeOptions[G]);V&&(K.layerTimeOptions=V.toJson());K.minScale=N.minScale||0;K.maxScale=N.maxScale||0;v.push(K)}}},this);return v},_fixMarkerColor:function(q){a.forEach(this._getAllSimpleMarkerSymbols(q),function(k){if(!k.color){var v=[0,0,0,0],B=k.outline&&k.outline.color;"esriSMSX"!==k.style&&"esriSMSCross"!==k.style||!B||(v=B.slice(0));k.color=v}})},_getAllSimpleMarkerSymbols:function(q){return a.filter(this._getAllSymbols(q),
function(k){return"esriSMS"===k.type})},_getAllSymbols:function(q){var k=[];q&&(k.push(q.symbol),k.push(q.defaultSymbol),a.forEach(q.uniqueValueInfos||q.classBreakInfos,function(v){k.push(v.symbol)}),k=a.filter(k,e.isDefined));return k},_onExtentChangeHandler:function(q,k,v){v&&this._updateDynamicLayers();this.inherited(arguments)},_setMap:function(q,k,v){this._map=q;this._updateDynamicLayers();return this.inherited(arguments)},onGDBVersionChange:function(){},setGDBVersion:function(q,k){this.gdbVersion=
q;this._params.gdbVersion=q;this.onGDBVersionChange();k||this.refresh(!0)},exportMapImage:function(q,k){var v=w.hitch(this,function(){var B=g.defaults.map,E=q&&q.layerDefinitions;q=q?q.toJson(this.normalization):{};E&&(q.layerDefs=E);q=w.mixin({size:B.width+","+B.height},this._params,q,{f:"json"});delete q._ts;q.layerDefs&&(B=c._serializeLayerDefinitions(q.layerDefs,10.5<=this.version),delete q.layerDefs,q.layerDefs=B);this._exportMapImage(this._url.path+"/export",q,k)});if(this.loaded)v();else this.on("load",
v)}});l("extend-esri")&&w.setObject("layers.ArcGISDynamicMapServiceLayer",D,h);return D})},"esri/layers/DynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/dom-construct dojo/dom-style dojox/gfx/matrix ../kernel ../config ../sniff ../request ../domUtils ./layer ./MapImage".split(" "),function(D,w,a,t,l,n,h,g,e,d,b,c,f){var m=g.defaults.map.zoomDuration;D=D(c,{declaredClass:"esri.layers.DynamicMapServiceLayer",_eventMap:{"map-image-export":["mapImage"]},
constructor:function(r,p){this.useMapTime=p&&p.hasOwnProperty("useMapTime")?!!p.useMapTime:!0;this.extentProcessor=p&&p.extentProcessor;r=a.hitch;this._exportMapImageHandler=r(this,this._exportMapImageHandler);this._imgSrcFunc=r(this,this._imgSrcFunc);this._divAlphaImageFunc=r(this,this._divAlphaImageFunc);this._tileLoadHandler=r(this,this._tileLoadHandler);this._tileErrorHandler=r(this,this._tileErrorHandler);this.registerConnectEvents()},opacity:1,isPNG32:!1,_setMap:function(r,p,u){this.inherited(arguments);
this._map=r;var y=this._div=t.create("div",null,p),x=h._css.names,z={position:"absolute",width:r.width+"px",height:r.height+"px",overflow:"visible",opacity:this.opacity},q=e("ie"),k=w.connect,v=r.__visibleDelta;8===q&&delete z.opacity;"css-transforms"===r.navigationMode?(this._isChildLayer||(z[x.transform]=h._css.translate(v.x,v.y),l.set(y,z)),this._left=v.x,this._top=v.y):(z.left="0px",z.top="0px",l.set(y,z),this._left=this._top=0);l.set(y,z);this._onResizeHandler_connect=k(r,"onResize",this,"_onResizeHandler");
this._opacityChangeHandler_connect=k(this,"onOpacityChange",this,"_opacityChangeHandler");this._img_loading=null;this._dragOrigin={x:0,y:0};this.evaluateSuspension();if(this.suspended&&!r.loaded)var B=w.connect(r,"onLoad",this,function(){w.disconnect(B);B=null;this.evaluateSuspension()});this.extentProcessor&&(this._panEndEvalHandle=w.connect(r,"onPanEnd",this,this.evaluateSuspension),this._zoomEndEvalHandle=w.connect(r,"onZoomEnd",this,this.evaluateSuspension));return y},_unsetMap:function(r,p){this._img&&
this._clearEventListeners(this._img);this._img_loading&&this._clearEventListeners(this._img_loading);t.destroy(this._div);this._map=this._div=this._img=this._img_loading=null;var u=w.disconnect;u(this._onResizeHandler_connect);u(this._opacityChangeHandler_connect);u(this._panEndEvalHandle);u(this._zoomEndEvalHandle);this._panEndEvalHandle=this._zoomEndEvalHandle=this._onResizeHandler_connect=this._opacityChangeHandler_connect=null;this._fireUpdateEnd();this._toggleTime();clearTimeout(this._wakeTimer);
this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments)},_onResizeHandler:function(r,p,u){l.set(this._div,{width:p+"px",height:u+"px"});this._onExtentChangeHandler(r)},onSuspend:function(){this.inherited(arguments);this._fireUpdateEnd();this._toggleTime();b.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(){this.inherited(arguments);var r=this._map;this._toggleTime();"css-transforms"===r.navigationMode&&(r=r.__visibleDelta,
this._left=r.x,this._top=r.y,this._isChildLayer||l.set(this._div,h._css.names.transform,h._css.translate(this._left,this._top)));this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(a.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0)}),0)},canResume:function(){var r=this.inherited(arguments);if(r){var p=this._map.extent;this.extentProcessor&&p&&(r=!!this.extentProcessor({layer:this,extent:p,width:this._map.width}).extent)}return r},_enableDrawConnectors:function(){var r=
w.connect,p=this._map;p&&(this._onPanHandler_connect=r(p,"onPan",this,"_onPanHandler"),this._onExtentChangeHandler_connect=r(p,"onExtentChange",this,"_onExtentChangeHandler"),"css-transforms"===p.navigationMode?this._onScaleHandler_connect=r(p,"onScale",this,this._onScaleHandler):this._onZoomHandler_connect=r(p,"onZoom",this,"_onZoomHandler"))},_disableDrawConnectors:function(){var r=w.disconnect;r(this._onPanHandler_connect);r(this._onExtentChangeHandler_connect);r(this._onZoomHandler_connect);r(this._onScaleHandler_connect);
this._onPanHandler_connect=this._onExtentChangeHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=null},_toggleTime:function(){var r=this._map;this.timeInfo&&this.useMapTime&&r&&!this.suspended?(this._timeConnect||(this._timeConnect=w.connect(r,"onTimeExtentChange",this,this._onTimeExtentChangeHandler)),this._setTime(r.timeExtent)):(w.disconnect(this._timeConnect),this._timeConnect=null,this._setTime(null))},_setTime:function(r){this._params&&(this._params.time=r?r.toJson().join(","):
null)},_onPanHandler:function(r,p){this._panDx=p.x;this._panDy=p.y;r=this._dragOrigin;var u=this._map.__visibleDelta,y=this._img;y&&("css-transforms"===this._map.navigationMode?(this._left=u.x+p.x,this._top=u.y+p.y,this._isChildLayer||l.set(this._div,h._css.names.transform,h._css.translate(this._left,this._top))):l.set(y,{left:r.x+p.x+"px",top:r.y+p.y+"px"}))},_onExtentChangeHandler:function(r,p,u){if(!this.suspended){clearTimeout(this._wakeTimer);this._wakeTimer=null;var y=this._map,x=this._img,
z=x&&x.style,q=this._dragOrigin;!p||u||!x||p.x===this._panDx&&p.y===this._panDy||("css-transforms"===y.navigationMode?(p=y.__visibleDelta,this._left=p.x,this._top=p.y,this._isChildLayer||l.set(this._div,h._css.names.transform,h._css.translate(this._left,this._top))):l.set(x,{left:q.x+p.x+"px",top:q.y+p.y+"px"}));x?(q.x=parseInt(z.left,10),q.y=parseInt(z.top,10)):q.x=q.y=0;"css-transforms"===y.navigationMode&&u&&x&&(l.set(x,h._css.names.transition,"none"),x._multiply=x._multiply?n.multiply(x._matrix,
x._multiply):x._matrix);this._fireUpdateStart();if(u=this._img_loading)if(this._clearEventListeners(u),t.destroy(u),this._img_loading=null,u=this._jsonRequest){try{u.cancel()}catch(K){}this._jsonRequest=null}var k=y.width;u=y.height;p=k;var v=0;10<=this.version&&y.wrapAround180&&(r=r._normalize(!0));this.extentProcessor&&(v=this.extentProcessor({layer:this,extent:r,width:p}),r=v.extent,p=v.width,v=v.marginLeft||0);if(this.isPNG32)x=this._img_loading=t.create("div"),x.id=y.id+"_"+this.id+"_"+(new Date).getTime(),
l.set(x,{position:"absolute",left:"0px",top:"0px",width:p+"px",height:u+"px"}),y=x.appendChild(t.create("div")),l.set(y,{opacity:0,width:p+"px",height:u+"px"}),this.getImageUrl(r,p,u,this._divAlphaImageFunc),x=null;else{var B=this._img_loading=t.create("img"),E=h._css.names,N=e("ie"),G={position:"absolute",width:p+"px",height:u+"px"};B.setAttribute("decoding","sync");8===N&&(G.opacity=this.opacity);null!=v&&0!==v&&(G.marginLeft=v+"px");"css-transforms"===y.navigationMode?(G[E.transform]=h._css.translate(-this._left,
-this._top),B._tdx=-this._left,B._tdy=-this._top,G[E.transition]=E.transformName+" "+m+"ms ease",this.extentProcessor&&(G[E.origin]=k/2-v+"px "+u/2+"px")):(G.left="0px",G.top="0px");B.id=y.id+"_"+this.id+"_"+(new Date).getTime();l.set(B,G);B._onload_connect=w.connect(B,"onload",this,"_onLoadHandler");B._onerror_connect=w.connect(B,"onerror",this,"_onErrorHandler");B._onabort_connect=w.connect(B,"onabort",this,"_onErrorHandler");this._startRect={left:q.x,top:q.y,width:x?parseInt(z.width,10):p,height:x?
parseInt(z.height,10):u,marginLeft:x?parseInt(z.marginLeft||"0",10):v,zoom:z&&z.zoom?parseFloat(z.zoom):1};this.getImageUrl(r,p,u,this._imgSrcFunc);B=null}}},_onTimeExtentChangeHandler:function(r){this.suspended||(this._setTime(r),this.refresh(!0))},getImageUrl:function(r,p,u,y){},_imgSrcFunc:function(r){this._img_loading.src=r},_divAlphaImageFunc:function(r){l.set(this._img_loading,"filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+r+"', sizingMethod\x3d'scale')");this._onLoadHandler({currentTarget:this._img_loading})},
_onLoadHandler:function(r){r=r.currentTarget;var p=this._map;this._clearEventListeners(r);!p||p.__panning||p.__zooming?t.destroy(r):(this._img&&this._div.removeChild(this._img),this._img=r,p=r.style,this._startRect={left:0,top:0,width:parseInt(p.width,10),height:parseInt(p.height,10),marginLeft:parseInt(p.marginLeft||"0",10),zoom:1},this._div.appendChild(r),this.suspended||b.show(this._div),this._img_loading=null,r=this._dragOrigin,r.x=r.y=0,this.onUpdate());this._fireUpdateEnd()},_onErrorHandler:function(r){r=
r.currentTarget;l.set(r,"visibility","hidden");this._clearEventListeners(r);r=Error("Unable to load image: "+r.src);this.onError(r);this._fireUpdateEnd(r)},_clearEventListeners:function(r){w.disconnect(r._onload_connect);w.disconnect(r._onerror_connect);w.disconnect(r._onabort_connect);r._onload_connect=r._onerror_connect=r._onabort_connect=null},setUseMapTime:function(r,p){this.useMapTime=r;this._toggleTime();p||this.refresh(!0)},refresh:function(){this._map&&this._onExtentChangeHandler(this._map.extent)},
_onScaleHandler:function(r,p){var u={},y=h._css.names,x=this._img;if(x){l.set(x,y.transition,p?"none":y.transformName+" "+m+"ms ease");x._matrix=r;r=x._multiply?n.multiply(r,x._multiply):r;if(x._tdx||x._tdy)r=n.multiply(r,{xx:1,xy:0,yx:0,yy:1,dx:x._tdx,dy:x._tdy});u[y.transform]=h._css.matrix(r);l.set(x,u)}},_onZoomHandler:function(r,p,u){r=this._startRect;var y=r.width*p,x=r.height*p,z=r.marginLeft*p,q=this._img,k=e("ie");q&&(k&&8>k?l.set(q,{left:r.left-(y-r.width)*(u.x-r.left)/r.width+"px",top:r.top-
(x-r.height)*(u.y-r.top)/r.height+"px",zoom:p*r.zoom}):l.set(q,{left:r.left-(y-r.width)*(u.x-r.left)/r.width+"px",top:r.top-(x-r.height)*(u.y-r.top)/r.height+"px",width:y+"px",height:x+"px"}),null!=z&&0!==z&&l.set(q,{marginLeft:z+"px"}))},_exportMapImage:function(r,p,u){var y=this._exportMapImageHandler;p.token=this._getToken();d({url:r,content:p,callbackParamName:"callback",load:function(x,z){y(x,z,u)},error:g.defaults.io.errorHandler})},_exportMapImageHandler:function(r,p,u){r=new f(r);this.onMapImageExport(r);
u&&u(r)},onMapImageExport:function(){},setOpacity:function(r){if(this.opacity!=r)this.onOpacityChange(this.opacity=r)},onOpacityChange:function(){},_opacityChangeHandler:function(r){var p=8===e("ie")?this._img:this._div;l.set(p,"opacity",r)}});e("extend-esri")&&a.setObject("layers.DynamicMapServiceLayer",D,h);return D})},"esri/layers/MapImage":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has ../kernel ../domUtils ../geometry/Extent".split(" "),function(D,w,a,t,l,n,h){D=
D(null,{declaredClass:"esri.layers.MapImage",constructor:function(g){w.mixin(this,g);this.extent=new h(this.extent)},visible:!0,opacity:1,getLayer:function(){return this._layer},getNode:function(){return this._node},show:function(){if(!this.visible){this.visible=!0;var g=this._node,e=this._layer,d;if(g){if(d=e&&e._div)e.suspended||e._setPos(g,d._left,d._top),(e._active||d).appendChild(g);n.show(g)}}},hide:function(){if(this.visible){this.visible=!1;var g=this._node;g&&(n.hide(g),g.parentNode&&g.parentNode.removeChild(g))}},
setOpacity:function(g){var e=this._node;this.opacity=g;e&&a.set(e,"opacity",g)}});t("extend-esri")&&w.setObject("layers.MapImage",D,l);return D})},"esri/layers/ImageParameters":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../lang ../layerUtils".split(" "),function(D,w,a,t,l,n,h,g){w=w(null,{declaredClass:"esri.layers.ImageParameters",constructor:function(){this.layerDefinitions=[]},bbox:null,extent:null,width:null,height:null,dpi:null,
format:null,imageSpatialReference:null,layerOption:null,layerIds:null,transparent:null,timeExtent:null,layerTimeOptions:null,toJson:function(e){this.bbox&&D.deprecated(this.declaredClass+" : Property 'bbox' deprecated. Use property 'extent'.");var d=this.bbox||this.extent;d=d&&e&&d._normalize(!0);e=this.layerOption;var b=d?d.spatialReference.wkid||t.toJson(d.spatialReference.toJson()):null,c=this.imageSpatialReference;d={dpi:this.dpi,format:this.format,transparent:this.transparent,size:null!==this.width&&
null!==this.height?this.width+","+this.height:null,bbox:d?d.xmin+","+d.ymin+","+d.xmax+","+d.ymax:null,bboxSR:b,layers:e?e+":"+this.layerIds.join(","):null,imageSR:c?c.wkid||t.toJson(c.toJson()):b};d.layerDefs=g._serializeLayerDefinitions(this.layerDefinitions);e=this.timeExtent;d.time=e?e.toJson().join(","):null;d.layerTimeOptions=g._serializeTimeOptions(this.layerTimeOptions);return h.filter(d,function(f){if(null!==f)return!0})}});a.mixin(w,{LAYER_OPTION_SHOW:"show",LAYER_OPTION_HIDE:"hide",LAYER_OPTION_INCLUDE:"include",
LAYER_OPTION_EXCLUDE:"exclude"});l("extend-esri")&&a.setObject("layers.ImageParameters",w,n);return w})},"esri/_time":function(){define(["./TimeExtent"],function(){return{}})},"url:esri/core/request/iframe.html":'\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\x3chead\x3e\r\n  \x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"default-src \'none\'; script-src * \'unsafe-inline\'"\x3e\r\n\r\n  \x3cscript\x3e\r\n    var dojoConfig \x3d {\r\n      async: true,\r\n      baseUrl: "../../../dojo/",\r\n      has: {\r\n        "csp-restrictions": true,\r\n        "dojo-preload-i18n-Api": false\r\n      }\r\n    };\r\n  \x3c/script\x3e\r\n  \x3c!--\r\n  This src is relative to this page and assumes dojo is a sibling to esri.\r\n  It is updated when this file is set as the iframe\'s `srcdoc` value.\r\n  --\x3e\r\n  \x3cscript src\x3d"../../../dojo/dojo.js"\x3e\x3c/script\x3e\r\n\r\n  \x3cscript\x3e\r\n    function windowMessageHandler(event) {\r\n      window.removeEventListener("message", windowMessageHandler);\r\n\r\n      var port \x3d event.ports[0];\r\n\r\n      require([\r\n        "dojo/request/script"\r\n      ], function(script) {\r\n        port.postMessage("ready");\r\n\r\n        port.addEventListener("message", function(event) {\r\n          var data \x3d event.data;\r\n          script.get(data.url, data.options)\r\n              .then(function(response) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  response: response\r\n                });\r\n              })\r\n              .otherwise(function(error) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  isError: true,\r\n                  message: error.message\r\n                });\r\n              });\r\n        });\r\n        port.start();\r\n      });\r\n    }\r\n\r\n    window.addEventListener("message", windowMessageHandler);\r\n  \x3c/script\x3e\r\n\x3c/head\x3e\r\n\x3cbody\x3e\r\n\x3c/body\x3e\r\n\x3c/html\x3e\r\n',
"*now":function(D){D(['dojo/i18n!*preload*esri/nls/jsapi*["ar","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("esri/jsapi","dojo/fx/Toggler dojo/_base/html dijit/_base/manager ./main ./map ./geometry ./symbol ./renderer ./utils ./layers/graphics ./layers/agstiled ./layers/agsdynamic".split(" "),function(){return{}});